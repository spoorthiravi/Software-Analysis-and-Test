/*---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
/*!
  Â© Microsoft. All rights reserved.

  This library is supported for use in Windows Store apps only.

  Build: 1.0.9200.20602.win8_ldr.130108-1504
  
  Version: Microsoft.WinJS.1.0
*/
"undefined"==typeof WinJS&&(!function(e){e.setImmediate||(e.setImmediate=function(t){return e.setTimeout(t,0)})}(this),function(e,t){"use strict";function n(e,n){var i,o,r,s=Object.keys(n);for(o=0,r=s.length;r>o;o++){var a=s[o],u=95!==a.charCodeAt(0),l=n[a];!l||"object"!=typeof l||l.value===t&&"function"!=typeof l.get&&"function"!=typeof l.set?u?e[a]=l:(i=i||{},i[a]={value:l,enumerable:u,configurable:!0,writable:!0}):(l.enumerable===t&&(l.enumerable=u),i=i||{},i[a]=l)}i&&Object.defineProperties(e,i)}!function(t){function i(e,t,i){for(var o=e,r=t.split("."),s=0,a=r.length;a>s;s++){var u=r[s];o[u]||Object.defineProperty(o,u,{value:{},writable:!1,enumerable:!0,configurable:!0}),o=o[u]}return i&&n(o,i),o}function o(t,n){return i(e,t,n)}e[t]||(e[t]=Object.create(Object.prototype));var r=e[t];r.Namespace||(r.Namespace=Object.create(Object.prototype)),Object.defineProperties(r.Namespace,{defineWithParent:{value:i,writable:!0,enumerable:!0,configurable:!0},define:{value:o,writable:!0,enumerable:!0,configurable:!0}})}("WinJS"),function(e){function t(t,i,o){return t=t||function(){},e.Utilities.markSupportedForProcessing(t),i&&n(t.prototype,i),o&&n(t,o),t}function i(i,o,r,s){if(i){o=o||function(){};var a=i.prototype;return o.prototype=Object.create(a),e.Utilities.markSupportedForProcessing(o),Object.defineProperty(o.prototype,"constructor",{value:o,writable:!0,configurable:!0,enumerable:!0}),r&&n(o.prototype,r),s&&n(o,s),o}return t(o,r,s)}function o(e){e=e||function(){};var t,i;for(t=1,i=arguments.length;i>t;t++)n(e.prototype,arguments[t]);return e}e.Namespace.define("WinJS.Class",{define:t,derive:i,mix:o})}(WinJS)}(this),function(e,t){"use strict";function n(e){return e}function i(e,t,n){return e.split(".").reduce(function(e,t){return e?n(e[t]):null},t)}var o=!!e.Windows,r={notSupportedForProcessing:"Value is not supported within a declarative processing context, if you want it to be supported mark it using WinJS.Utilities.markSupportedForProcessing. The value was: '{0}'"};t.Namespace.define("WinJS.Utilities",{_setHasWinRT:{value:function(e){o=e},configurable:!1,writable:!1,enumerable:!1},hasWinRT:{get:function(){return o},configurable:!1,enumerable:!0},_getMemberFiltered:i,getMember:function(t,o){return t?i(t,o||e,n):null},ready:function(n,i){return new t.Promise(function(o,r){function s(){if(n)try{n(),o()}catch(e){r(e)}else o()}var a=t.Utilities.testReadyState;a||(a=e.document?document.readyState:"complete"),"complete"===a||e.document&&null!==document.body?i?e.setImmediate(s):s():e.addEventListener("DOMContentLoaded",s,!1)})},strictProcessing:{get:function(){return!0},configurable:!1,enumerable:!0},markSupportedForProcessing:{value:function(e){return e.supportedForProcessing=!0,e},configurable:!1,writable:!1,enumerable:!0},requireSupportedForProcessing:{value:function(n){var i=!0;switch(i=i&&!(n===e),i=i&&!(n===e.location),i=i&&!(n instanceof HTMLIFrameElement),i=i&&!("function"==typeof n&&!n.supportedForProcessing),e.frames.length){case 0:break;case 1:i=i&&!(n===e.frames[0]);break;default:for(var o=0,s=e.frames.length;i&&s>o;o++)i=i&&!(n===e.frames[o])}if(i)return n;throw new t.ErrorFromName("WinJS.Utilities.requireSupportedForProcessing",t.Resources._formatString(r.notSupportedForProcessing,n))},configurable:!1,writable:!1,enumerable:!0}}),t.Namespace.define("WinJS",{validation:!1,strictProcessing:{value:function(){},configurable:!1,writable:!1,enumerable:!1}})}(this,WinJS),function(){"use strict";function e(e,t,n){var r=e;return"function"==typeof r&&(r=r()),(n&&o.test(n)?"":n?n+": ":"")+(t?t.replace(i,":")+": ":"")+r}function t(e,t,n){var i=WinJS.Utilities.formatLog(e,t,n);console[n&&o.test(n)?n:"log"](i)}function n(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}var i=/\s+/g,o=/^(error|warn|info|log)$/;WinJS.Namespace.define("WinJS.Utilities",{startLog:function(e){e=e||{},"string"==typeof e&&(e={tags:e});var o=e.type&&new RegExp("^("+n(e.type).replace(i," ").split(" ").join("|")+")$"),r=e.excludeTags&&new RegExp("(^|\\s)("+n(e.excludeTags).replace(i," ").split(" ").join("|")+")(\\s|$)","i"),s=e.tags&&new RegExp("(^|\\s)("+n(e.tags).replace(i," ").split(" ").join("|")+")(\\s|$)","i"),a=e.action||t;if(!(o||r||s||WinJS.log))return WinJS.log=a,void 0;var u=function(e,t,n){o&&!o.test(n)||r&&r.test(t)||s&&!s.test(t)||a(e,t,n),u.next&&u.next(e,t,n)};u.next=WinJS.log,WinJS.log=u},stopLog:function(){delete WinJS.log},formatLog:e})}(),function(e){"use strict";function t(e){var t="_on"+e+"state";return{get:function(){var e=this[t];return e&&e.userHandler},set:function(n){var i=this[t];n?(i||(i={wrapper:function(e){return i.userHandler(e)},userHandler:n},Object.defineProperty(this,t,{value:i,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(e,i.wrapper,!1)),i.userHandler=n):i&&(this.removeEventListener(e,i.wrapper,!1),this[t]=null)},enumerable:!0}}function n(){for(var e={},n=0,i=arguments.length;i>n;n++){var o=arguments[n];e["on"+o]=t(o)}return e}var i=e.Class.define(function(e,t,n){this.detail=t,this.target=n,this.timeStamp=Date.now(),this.type=e},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1}),o={_listeners:null,addEventListener:function(e,t,n){n=n||!1,this._listeners=this._listeners||{};for(var i=this._listeners[e]=this._listeners[e]||[],o=0,r=i.length;r>o;o++){var s=i[o];if(s.useCapture===n&&s.listener===t)return}i.push({listener:t,useCapture:n})},dispatchEvent:function(e,t){var n=this._listeners&&this._listeners[e];if(n){var o=new i(e,t,this);n=n.slice(0,n.length);for(var r=0,s=n.length;s>r&&!o._stopImmediatePropagationCalled;r++)n[r].listener(o);return o.defaultPrevented||!1}return!1},removeEventListener:function(e,t,n){n=n||!1;var i=this._listeners&&this._listeners[e];if(i)for(var o=0,r=i.length;r>o;o++){var s=i[o];if(s.listener===t&&s.useCapture===n){i.splice(o,1),0===i.length&&delete this._listeners[e];break}}}};e.Namespace.define("WinJS.Utilities",{_createEventProperty:t,createEventProperties:n,eventMixin:o})}(WinJS),function(e,t,n){"use strict";var i,o=!1,r="contextchanged",s=t.Class.mix(t.Class.define(null,{},{supportedForProcessing:!1}),t.Utilities.eventMixin),a=new s,u={malformedFormatStringInput:"Malformed, did you mean to escape your '{0}'?"};t.Namespace.define("WinJS.Resources",{addEventListener:function(e,n,i){if(t.Utilities.hasWinRT&&!o&&e===r)try{Windows.ApplicationModel.Resources.Core.ResourceManager.current.defaultContext.qualifierValues.addEventListener("mapchanged",function(e){t.Resources.dispatchEvent(r,{qualifier:e.key,changed:e.target[e.key]})},!1),o=!0}catch(s){}a.addEventListener(e,n,i)},removeEventListener:a.removeEventListener.bind(a),dispatchEvent:a.dispatchEvent.bind(a),_formatString:function(e){var n=arguments;return n.length>1&&(e=e.replace(/({{)|(}})|{(\d+)}|({)|(})/g,function(e,i,o,r,s,a){if(s||a)throw t.Resources._formatString(u.malformedFormatStringInput,s||a);return i&&"{"||o&&"}"||n[(0|r)+1]})),e},_getStringWinRT:function(e){if(!i){var t=Windows.ApplicationModel.Resources.Core.ResourceManager.current.mainResourceMap;try{i=t.getSubtree("Resources")}catch(o){}i||(i=t)}var r,s,a;try{a=i.getValue(e),a&&(r=a.valueAsString,r===n&&(r=a.toString()))}catch(o){}if(!r)return{value:e,empty:!0};try{s=a.getQualifierValue("Language")}catch(o){return{value:r}}return{value:r,lang:s}},_getStringJS:function(t){var n=e.strings&&e.strings[t];return"string"==typeof n&&(n={value:n}),n||{value:t,empty:!0}}}),Object.defineProperties(t.Resources,t.Utilities.createEventProperties(r));var l;t.Resources.getString=function(e){return(l=l||(t.Utilities.hasWinRT?t.Resources._getStringWinRT:t.Resources._getStringJS))(e)}}(this,WinJS),function(e,t){"use strict";function n(){}function i(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?I:O,e._value=t,e._setState(n)}function o(e,t,n,i,o,r){return{exception:e,error:t,promise:n,handler:r,id:i,parent:o}}function r(e,t,n,i){var r=n._isException,s=n._errorId;return o(r?t:null,r?null:t,e,s,n,i)}function s(e,t,n){var i=n._isException,r=n._errorId;return m(e,r,i),o(i?t:null,i?null:t,e,r,n)}function a(e,t){var n=++H;return m(e,n),o(null,t,e,n)}function u(e,t){var n=++H;return m(e,n,!0),o(t,null,e,n)}function l(e,t,n,i){g(e,{c:t,e:n,p:i})}function c(e,t,n,i){e._value=t,p(e,t,n,i),e._setState(A)}function d(e,t){var n=e._value,i=e._listeners;if(i){e._listeners=null;var o,r;for(o=0,r=Array.isArray(i)?i.length:1;r>o;o++){var s=1===r?i:i[o],a=s.c,u=s.promise;if(u){try{u._setCompleteValue(a?a(n):n)}catch(l){u._setExceptionValue(l)}u._state!==I&&u._listeners&&t.push(u)}else q.prototype.done.call(e,a)}}}function h(e,t){var n=e._value,i=e._listeners;if(i){e._listeners=null;var o,s;for(o=0,s=Array.isArray(i)?i.length:1;s>o;o++){var a=1===s?i:i[o],u=a.e,l=a.promise;if(l){try{u?(u.handlesOnError||p(l,n,r,e,u),l._setCompleteValue(u(n))):l._setChainedErrorValue(n,e)}catch(c){l._setExceptionValue(c)}l._state!==I&&l._listeners&&t.push(l)}else U.prototype.done.call(e,null,u)}}}function p(e,t,n,i,o){if(E._listeners[S]){if(t instanceof Error&&t.message===L)return;E.dispatchEvent(S,n(e,t,i,o))}}function f(e,t){var n=e._listeners;if(n){var i,o;for(i=0,o=Array.isArray(n)?n.length:1;o>i;i++){var r=1===o?n:n[i],s=r.p;if(s)try{s(t)}catch(a){}r.c||r.e||!r.promise||r.promise._progress(t)}}}function g(e,t){var n=e._listeners;n?(n=Array.isArray(n)?n:[n],n.push(t)):n=t,e._listeners=n}function m(e,t,n){e._isException=n||!1,e._errorId=t}function v(e,t,n,i){e._value=t,p(e,t,n,i),e._setState(W)}function y(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?I:P,e._value=t,e._setState(n)}function _(e,t,n,i){var o=new B(e);return g(e,{promise:o,c:t,e:n,p:i}),o}function b(e){var t;return new WinJS.Promise(function(n){e?t=setTimeout(n,e):setImmediate(n)},function(){t&&clearTimeout(t)})}function C(e,t){var n=function(){t.cancel()},i=function(){e.cancel()};return e.then(n),t.then(i,i),t}e.Debug&&(e.Debug.setNonUserCodeExceptions=!0);var w=WinJS.Class.mix(WinJS.Class.define(null,{},{supportedForProcessing:!1}),WinJS.Utilities.eventMixin),E=new w;E._listeners={};var S="error",L="Canceled",x=!1,T={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};T.all=T.promise|T.thenPromise|T.errorPromise|T.exceptionPromise|T.completePromise;var M,N,I,D,k,R,O,P,A,W,H=1;M={name:"created",enter:function(e){e._setState(N)},cancel:n,done:n,then:n,_completed:n,_error:n,_notify:n,_progress:n,_setCompleteValue:n,_setErrorValue:n},N={name:"working",enter:n,cancel:function(e){e._setState(k)},done:l,then:_,_completed:i,_error:c,_notify:n,_progress:f,_setCompleteValue:y,_setErrorValue:v},I={name:"waiting",enter:function(e){var t=e._value,n=function(i){t._errorId?e._chainedError(i,t):(p(e,i,r,t,n),e._error(i))};n.handlesOnError=!0,t.then(e._completed.bind(e),n,e._progress.bind(e))},cancel:function(e){e._setState(D)},done:l,then:_,_completed:i,_error:c,_notify:n,_progress:f,_setCompleteValue:y,_setErrorValue:v},D={name:"waiting_canceled",enter:function(e){e._setState(R);var t=e._value;t.cancel&&t.cancel()},cancel:n,done:l,then:_,_completed:i,_error:c,_notify:n,_progress:f,_setCompleteValue:y,_setErrorValue:v},k={name:"canceled",enter:function(e){e._setState(R),e._cancelAction()},cancel:n,done:l,then:_,_completed:i,_error:c,_notify:n,_progress:f,_setCompleteValue:y,_setErrorValue:v},R={name:"canceling",enter:function(e){var t=new Error(L);t.name=t.message,e._value=t,e._setState(A)},cancel:n,done:n,then:n,_completed:n,_error:n,_notify:n,_progress:n,_setCompleteValue:n,_setErrorValue:n},O={name:"complete_notify",enter:function(e){if(e.done=q.prototype.done,e.then=q.prototype.then,e._listeners)for(var t,n=[e];n.length;)t=n.pop(),t._state._notify(t,n);e._setState(P)},cancel:n,done:null,then:null,_completed:n,_error:n,_notify:d,_progress:n,_setCompleteValue:n,_setErrorValue:n},P={name:"success",enter:function(e){e.done=q.prototype.done,e.then=q.prototype.then,e._cleanupAction()},cancel:n,done:null,then:null,_completed:n,_error:n,_notify:d,_progress:n,_setCompleteValue:n,_setErrorValue:n},A={name:"error_notify",enter:function(e){if(e.done=U.prototype.done,e.then=U.prototype.then,e._listeners)for(var t,n=[e];n.length;)t=n.pop(),t._state._notify(t,n);e._setState(W)},cancel:n,done:null,then:null,_completed:n,_error:n,_notify:h,_progress:n,_setCompleteValue:n,_setErrorValue:n},W={name:"error",enter:function(e){e.done=U.prototype.done,e.then=U.prototype.then,e._cleanupAction()},cancel:n,done:null,then:null,_completed:n,_error:n,_notify:h,_progress:n,_setCompleteValue:n,_setErrorValue:n};var V,F=WinJS.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this),this._run()},done:function(e,t,n){this._state.done(this,e,t,n)},then:function(e,t,n){return this._state.then(this,e,t,n)},_chainedError:function(e,t){var n=this._state._error(this,e,s,t);return this._run(),n},_completed:function(e){var t=this._state._completed(this,e);return this._run(),t},_error:function(e){var t=this._state._error(this,e,a);return this._run(),t},_progress:function(e){this._state._progress(this,e)},_setState:function(e){this._nextState=e},_setCompleteValue:function(e){this._state._setCompleteValue(this,e),this._run()},_setChainedErrorValue:function(e,t){var n=this._state._setErrorValue(this,e,s,t);return this._run(),n},_setExceptionValue:function(e){var t=this._state._setErrorValue(this,e,u);return this._run(),t},_run:function(){for(;this._nextState;)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1}),B=WinJS.Class.derive(F,function(e){x&&(x===!0||x&T.thenPromise)&&(this._stack=WinJS.Promise._getStack()),this._creator=e,this._setState(M),this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),U=WinJS.Class.define(function(e){x&&(x===!0||x&T.errorPromise)&&(this._stack=WinJS.Promise._getStack()),this._value=e,p(this,e,a)},{cancel:function(){},done:function(e,t){var n=this._value;if(t)try{t.handlesOnError||p(null,n,r,this,t);var i=t(n);return i&&"object"==typeof i&&"function"==typeof i.done&&i.done(),void 0}catch(o){n=o}n instanceof Error&&n.message===L||setImmediate(function(){throw n})},then:function(e,t){if(!t)return this;var n,i=this._value;try{t.handlesOnError||p(null,i,r,this,t),n=new q(t(i))}catch(o){n=o===i?this:new z(o)}return n}},{supportedForProcessing:!1}),z=WinJS.Class.derive(U,function(e){x&&(x===!0||x&T.exceptionPromise)&&(this._stack=WinJS.Promise._getStack()),this._value=e,p(this,e,u)},{},{supportedForProcessing:!1}),q=WinJS.Class.define(function(e){if(x&&(x===!0||x&T.completePromise)&&(this._stack=WinJS.Promise._getStack()),e&&"object"==typeof e&&"function"==typeof e.then){var t=new B(null);return t._setCompleteValue(e),t}this._value=e},{cancel:function(){},done:function(e){if(e)try{var t=e(this._value);t&&"object"==typeof t&&"function"==typeof t.done&&t.done()}catch(n){setImmediate(function(){throw n})}},then:function(e){try{var t=e?e(this._value):this._value;return t===this._value?this:new q(t)}catch(n){return new z(n)}}},{supportedForProcessing:!1}),j=WinJS.Class.derive(F,function(e,t){x&&(x===!0||x&T.promise)&&(this._stack=WinJS.Promise._getStack()),this._oncancel=t,this._setState(M),this._run();try{var n=this._completed.bind(this),i=this._error.bind(this),o=this._progress.bind(this);e(n,i,o)}catch(r){this._setExceptionValue(r)}},{_oncancel:null,_cancelAction:function(){if(!this._oncancel)throw new Error("Promise did not implement oncancel");try{this._oncancel()}catch(e){{e.message,e.stack}E.dispatchEvent("error",e)}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(e,t,n){E.addEventListener(e,t,n)},any:function(e){return new j(function(t,n){{var i=Object.keys(e);Array.isArray(e)?[]:{}}0===i.length&&t();var o=0;i.forEach(function(r){j.as(e[r]).then(function(){t({key:r,value:e[r]})},function(s){return s instanceof Error&&s.name===L?(++o===i.length&&t(WinJS.Promise.cancel),void 0):(n({key:r,value:e[r]}),void 0)})})},function(){var t=Object.keys(e);t.forEach(function(t){var n=j.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},as:function(e){return e&&"object"==typeof e&&"function"==typeof e.then?e:new q(e)},cancel:{get:function(){return V=V||new U(new WinJS.ErrorFromName(L))}},dispatchEvent:function(e,t){return E.dispatchEvent(e,t)},is:function(e){return e&&"object"==typeof e&&"function"==typeof e.then},join:function(e){return new j(function(n,i,o){var r=Object.keys(e),s=Array.isArray(e)?[]:{},a=Array.isArray(e)?[]:{},u=0,l=r.length,c=function(e){if(0===--l){var t=Object.keys(s).length;if(0===t)n(a);else{var u=0;r.forEach(function(e){var t=s[e];t instanceof Error&&t.name===L&&u++}),u===t?n(WinJS.Promise.cancel):i(s)}}else o({Key:e,Done:!0})};return r.forEach(function(n){var i=e[n];i===t?u++:j.then(i,function(e){a[n]=e,c(n)},function(e){s[n]=e,c(n)})}),l-=u,0===l?(n(a),void 0):void 0},function(){Object.keys(e).forEach(function(t){var n=j.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},removeEventListener:function(e,t,n){E.removeEventListener(e,t,n)},supportedForProcessing:!1,then:function(e,t,n,i){return j.as(e).then(t,n,i)},thenEach:function(e,t,n,i){var o=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(r){o[r]=j.as(e[r]).then(t,n,i)}),j.join(o)},timeout:function(e,t){var n=b(e);return t?C(n,t):n},wrap:function(e){return new q(e)},wrapError:function(e){return new U(e)},_veryExpensiveTagWithStack:{get:function(){return x},set:function(e){x=e}},_veryExpensiveTagWithStack_tag:T,_getStack:function(){if(Debug.debuggerEnabled)try{throw new Error}catch(e){return e.stack}}});Object.defineProperties(j,WinJS.Utilities.createEventProperties(S));var G=WinJS.Class.derive(F,function(e){this._oncancel=e,this._setState(M),this._run()},{_cancelAction:function(){this._oncancel&&this._oncancel()},_cleanupAction:function(){this._oncancel=null}},{supportedForProcessing:!1}),K=WinJS.Class.define(function(e){this._promise=new G(e)},{promise:{get:function(){return this._promise}},cancel:function(){this._promise.cancel()},complete:function(e){this._promise._completed(e)},error:function(e){this._promise._error(e)},progress:function(e){this._promise._progress(e)}},{supportedForProcessing:!1});WinJS.Namespace.define("WinJS",{Promise:j,_Signal:K})}(this),function(e,t){"use strict";t.Namespace.define("WinJS",{ErrorFromName:t.Class.derive(Error,function(e,t){this.name=e,this.message=t||e},{},{supportedForProcessing:!1})})}(this,WinJS),function(){"use strict";WinJS.Namespace.define("WinJS",{xhr:function(e){var t;return new WinJS.Promise(function(n,i,o){t=new XMLHttpRequest,t.onreadystatechange=function(){t._canceled||(4===t.readyState?(t.status>=200&&t.status<300||1223===t.status?n(t):i(t),t.onreadystatechange=function(){}):o(t))},t.open(e.type||"GET",e.url,!0,e.user,e.password),t.responseType=e.responseType||"",Object.keys(e.headers||{}).forEach(function(n){t.setRequestHeader(n,e.headers[n])}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.customRequestInitializer&&e.customRequestInitializer(t),t.send(e.data)},function(){t._canceled=!0,t.abort()})}})}(),function(e){"use strict";var t,n,i,o,r,s,a={nonStaticHTML:"Unable to add dynamic content. A script attempted to inject dynamic content, or elements previously modified dynamically, that might be unsafe. For example, using the innerHTML property or the document.write method to add a script element will generate this exception. If the content is safe and from a trusted source, use a method to explicitly manipulate elements and attributes, such as createElement, or use setInnerHTMLUnsafe (or other unsafe method)."};t=n=function(e,t){e.innerHTML=t},i=o=function(e,t){e.outerHTML=t},r=s=function(e,t,n){e.insertAdjacentHTML(t,n)};var u=e.MSApp;if(u)n=function(e,t){u.execUnsafeLocalFunction(function(){e.innerHTML=t})},o=function(e,t){u.execUnsafeLocalFunction(function(){e.outerHTML=t})},s=function(e,t,n){u.execUnsafeLocalFunction(function(){e.insertAdjacentHTML(t,n)})};else if(e.msIsStaticHTML){var l=function(t){if(!e.msIsStaticHTML(t))throw new WinJS.ErrorFromName("WinJS.Utitilies.NonStaticHTML",a.nonStaticHTML)};t=function(e,t){l(t),e.innerHTML=t},i=function(e,t){l(t),e.outerHTML=t},r=function(e,t,n){l(n),e.insertAdjacentHTML(t,n)}}WinJS.Namespace.define("WinJS.Utilities",{setInnerHTML:t,setInnerHTMLUnsafe:n,setOuterHTML:i,setOuterHTMLUnsafe:o,insertAdjacentHTML:r,insertAdjacentHTMLUnsafe:s})}(this)),define("vs/base/lib/raw.winjs.base",[],{}),define("vs/base/types",["require","exports"],function(e,t){function n(e){return Array.isArray?Array.isArray(e):e&&"number"==typeof e.length&&e.constructor===Array?!0:!1}function i(e){return"string"==typeof e||e instanceof String?!0:!1}function o(e){return"undefined"==typeof e||null===e?!1:"[object Object]"===Object.prototype.toString.call(e)}function r(e){return("number"==typeof e||e instanceof Number)&&!isNaN(e)?!0:!1}function s(e){return e===!0||e===!1}function a(e){return"undefined"==typeof e}function u(e){return t.isUndefined(e)||null===e}function l(e){if(!t.isObject(e))return!1;for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}function c(e){return"[object Function]"===Object.prototype.toString.call(e)}function d(){for(var e=[],n=0;n<arguments.length-0;n++)e[n]=arguments[n+0];return e&&e.length>0&&e.every(function(e){return t.isFunction(e)})}function h(e){for(var t=[],n=0;n<arguments.length-1;n++)t[n]=arguments[n+1];var i=Object.create(e.prototype);return e.apply(i,t),i}function p(e,n,i){"undefined"==typeof i&&(i=!0);var o,r={};for(o in e)(i||e.hasOwnProperty(o))&&t.isFunction(e[o])&&(r[o]=function(t){return function(){return n(e,t,arguments)}}(o));return r}function f(e){var t=!1,n=null;return function(){for(var i=[],o=0;o<arguments.length-0;o++)i[o]=arguments[o+0];return t||(t=!0,n=e.apply(self,i)),n}}t.isArray=n,t.isString=i,t.isObject=o,t.isNumber=r,t.isBoolean=s,t.isUndefined=a,t.isUndefinedOrNull=u,t.isEmptyObject=l,t.isFunction=c,t.areFunctions=d,t.create=h,t.proxy=p,t.runOnce=f}),define("vs/base/objects",["require","exports","./types"],function(e,t,n){function i(e){if(!e||"object"!=typeof e)return e;var n=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(i){n[i]=e[i]&&"object"==typeof e[i]?t.clone(e[i]):e[i]}),n}function o(e,i){if(n.isUndefinedOrNull(e))return e;var o=i(e);if("undefined"!=typeof o)return o;if(n.isArray(e)){for(var r=[],s=0;s<e.length;s++)r.push(t.cloneAndChange(e[s],i));return r}if(n.isObject(e)){var a={};for(var u in e)e.hasOwnProperty(u)&&(a[u]=t.cloneAndChange(e[u],i));return a}return e}function r(e){Object.freeze(e),Object.keys(e).forEach(function(n){"object"!=typeof e[n]||Object.isFrozen(e[n])||t.deepFreeze(e[n])})}function s(e,i,o){return"undefined"==typeof o&&(o=!0),n.isObject(e)?(n.isObject(i)&&Object.keys(i).forEach(function(r){r in e?o&&(n.isObject(e[r])&&n.isObject(i[r])?t.mixin(e[r],i[r],o):e[r]=i[r]):e[r]=i[r]}),e):i}function a(e,n){return t.mixin(t.clone(n),e||{})}function u(e,n){if(e===n)return!0;if(null===e||void 0===e||null===n||void 0===n)return!1;if(typeof e!=typeof n)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(n))return!1;var i,o;if(Array.isArray(e)){if(e.length!==n.length)return!1;for(i=0;i<e.length;i++)if(!t.equals(e[i],n[i]))return!1}else{var r=[];for(o in e)r.push(o);r.sort();var s=[];for(o in n)s.push(o);if(s.sort(),!t.equals(r,s))return!1;for(i=0;i<r.length;i++)if(!t.equals(e[r[i]],n[r[i]]))return!1}return!0}function l(e,t,n){"undefined"==typeof e[t]&&(e[t]=n)}function c(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function d(e,n){"undefined"==typeof n&&(n=!1),n&&(e=e.map(function(e){return e.toLowerCase()}));var i=t.arrayToHash(e);return n?function(e){return void 0!==i[e.toLowerCase()]&&i.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==i[e]&&i.hasOwnProperty(e)}}function h(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t=t||function(){};var i=e.prototype,o=t.prototype;t.prototype=Object.create(i);for(var n in o)o.hasOwnProperty(n)&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(o,n));Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0,enumerable:!0})}function p(e){var t=[];return JSON.stringify(e,function(e,i){if(i instanceof Element)return"[Element]";if(n.isObject(i)||Array.isArray(i)){if(-1!==t.indexOf(i))return"[Circular]";t.push(i)}return i})}t.clone=i,t.cloneAndChange=o,t.deepFreeze=r,t.mixin=s,t.withDefaults=a,t.equals=u,t.ensureProperty=l,t.arrayToHash=c,t.createKeywordMatcher=d,t.derive=h,t.safeStringify=p}),define("vs/base/env",["require","exports","vs/base/types"],function(e,t,n){function i(e,t){return"undefined"==typeof t&&(t=!1),self.MonacoEnvironment&&self.MonacoEnvironment.hasOwnProperty(e)?self.MonacoEnvironment[e]:t}function o(){return p}function r(){return"undefined"!=typeof self.Worker}function s(){return!self.document&&"undefined"!=typeof self.importScripts}function a(){return self.isEmulatedWorker}function u(){return self.parent!==self}function l(){return h}function c(e){h=e}var d=navigator.userAgent,h=self.isTest||!1,p=self.document&&self.document.URL.match(/[^\?]*\?[^\#]*pseudo=true/),f=!1;f=self.window?!!self.window.Worker:!0;var g=d.indexOf("Trident")>=0&&d.indexOf("MSIE")<0,m=d.indexOf("MSIE 10")>=0,v=d.indexOf("MSIE 9")>=0,y=!1;t.browser={isWindows:d.indexOf("Windows")>=0,isMacintosh:d.indexOf("Macintosh")>=0,isOpera:d.indexOf("Opera")>=0,isIE11orEarlier:g||m||v,isIE11:g,isIE10orEarlier:m||v,isIE10orLater:g||m,isIE10:m,isIE9:v,isFirefox:d.indexOf("Firefox")>=0,isWebKit:d.indexOf("AppleWebKit")>=0,isChrome:d.indexOf("Chrome")>=0,isSafari:-1===d.indexOf("Chrome")&&d.indexOf("Safari")>=0,isIPad:d.indexOf("iPad")>=0,canPushState:function(){return!y&&self&&self.history&&self.history.pushState},disablePushState:function(){y=!0},hasWorkers:f,hasCSSAnimationSupport:function(){if(this._hasCSSAnimationSupport===!0||this._hasCSSAnimationSupport===!1)return this._hasCSSAnimationSupport;for(var e=!1,t=document.createElement("div"),i=["animationName","webkitAnimationName","msAnimationName","MozAnimationName","OAnimationName"],o=0;o<i.length;o++){var r=i[o];if(!n.isUndefinedOrNull(t.style[r])||t.style.hasOwnProperty(r)){e=!0;break}}return this._hasCSSAnimationSupport=e?!0:!1,this._hasCSSAnimationSupport},canPlayVideo:function(e){var t=document.createElement("video");if(t.canPlayType){var n=t.canPlayType(e);return"maybe"===n||"probably"===n}return!1},canPlayAudio:function(e){var t=document.createElement("audio");if(t.canPlayType){var n=t.canPlayType(e);return"maybe"===n||"probably"===n}return!1}},t.enableSearch=i("enableSearch",!0),t.enableBuild=i("enableBuild"),t.enableTfsBuild=i("enableTfsBuild"),t.enableGit=i("enableGit"),t.enableConsole=i("enableConsole"),t.enableOutput=i("enableOutput"),t.enableTestCoverage=i("enableTestCoverage"),t.enableFeedback=i("enableFeedback"),t.enablePerformanceEvents=i("enablePerformanceEvents"),t.enableTelemetry=i("enableTelemetry"),t.enablePrivateTelemetry=i("enablePrivateTelemetry"),t.enableConfiguration=i("enableConfiguration",!0),t.enableTestViewlet=i("enableTestViewlet"),t.enableGlobalCSSRuleChecker=i("enableGlobalCSSRuleChecker"),t.enableNLSWarnings=i("enableNLSWarnings"),t.enableEditorLanguageServiceIndicator=i("enableEditorLanguageServiceIndicator"),t.enablePerformanceTools=i("enablePerformanceTools"),t.enableRunWorkspace=i("enableRunWorkspace"),t.enableTFSConnection=i("enableTFSConnection"),t.portalLink=i("portalLink",null),t.version=i("version",null),t.versionLabel=i("versionLabel",null),t.hideDerivedResources=i("hideDerivedResources"),t.azureWebSiteName=i("azureWebSiteName",null),t.enableAzurePortalNavigation=i("enableAzurePortalNavigation"),t.enableVSConnectSynchronizer=i("enableVSConnectSynchronizer"),t.privacyLink=i("privacyLink",null),t.supportLink=i("supportLink",null),t.legalLink=i("legalLink",null),t.videosLink=i("videosLink",null),t.azureWebSiteComputeMode=i("azureWebSiteComputeMode",null),t.azureWebSiteMode=i("azureWebSiteMode",null),t.azureWebSiteScmType=i("azureWebSiteScmType",null),t.azureWebSiteAppsettingScmType=i("azureWebSiteAppsettingScmType",null),t.azureWebSiteProjectType=i("azureWebSiteProjectType",null),t.azureWebSiteForZumo=i("azureWebSiteForZumo",null),t.vsconnect=i("vsconnect",null),t.standaloneEditorTelemetryEndpoint=i("telemetryEndpoint",null),t.getCrossOriginWorkerScriptUrl=i("getWorkerUrl",null),t.isPseudoLanguage=o,t.hasWebWorkerSupport=r,t.isInWebWorker=s,t.isInEmulatedWebWorker=a,t.isInIframe=u,t.isTesting=l,t.setTesting=c}),define("vs/base/errors",["require","exports","vs/nls!vs/editor/editor.main","./objects","./env","./types"],function(e,t,n,i,o,r){function s(e){t.errorHandler.setUnexpectedErrorHandler(e)}function a(e){t.isPromiseCanceledError(e)||t.errorHandler.onUnexpectedError(e)}function u(e,t){var n=new _(e);return t?n.verboseMessage:n.message}function l(e,t){return t&&e.message&&(e.stack||e.stacktrace)?n.localize("vs_base_errors",7,e.message,e.stack||e.stacktrace):e.message?e.message:n.localize("vs_base_errors",8)}function c(e,t){if("undefined"==typeof t&&(t=!1),!e)return n.localize("vs_base_errors",9);if(r.isString(e))return e;if(!r.isUndefinedOrNull(e.status))return u(e,t);if(e.detail){var i=e.detail;if(i.error){if(i.error&&!r.isUndefinedOrNull(i.error.status))return u(i.error,t);if(!r.isArray(i.error))return l(i.error,t);for(var o=0;o<i.error.length;o++)if(i.error[o]&&!r.isUndefinedOrNull(i.error[o].status))return u(i.error[o],t)}if(i.exception)return r.isUndefinedOrNull(i.exception.status)?l(i.exception,t):u(i.exception,t)}return e.stack?l(e,t):e.message?e.message:n.localize("vs_base_errors",10)}function d(e){if(e)if(r.isArray(e)){for(var t=0;t<e.length;t++)if(e[t]&&e[t].status)return e[t].status}else if(e.status)return e.status;return-1}function h(e){return e instanceof Error&&e.name===b&&e.message===b}function p(){var e=new Error(b);return e.name=e.message,e}function f(){return new Error(n.localize("vs_base_errors",11))}function g(e){return e?new Error(n.localize("vs_base_errors",12,e)):new Error(n.localize("vs_base_errors",13))}function m(e){return e?new Error(n.localize("vs_base_errors",14,e)):new Error(n.localize("vs_base_errors",15))}function v(){return new Error(n.localize("vs_base_errors",16))}var y=function(){function e(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(function(){if(o.isTesting()&&e.stack)throw new Error(e.stack);throw e},0)}}return e.prototype.addListener=function(e){var t=this;return this.listeners.push(e),function(){t._removeListener(e)}},e.prototype.emit=function(e){this.listeners.forEach(function(t){t(e)})},e.prototype._removeListener=function(e){this.listeners.splice(this.listeners.indexOf(e),1)},e.prototype.setUnexpectedErrorHandler=function(e){this.unexpectedErrorHandler=e},e.prototype.getUnexpectedErrorHandler=function(){return this.unexpectedErrorHandler},e.prototype.onUnexpectedError=function(e){this.unexpectedErrorHandler(e),this.emit(e)},e}();t.ErrorHandler=y,t.errorHandler=new y,t.setUnexpectedErrorHandler=s,t.onUnexpectedError=a;var _=function(){function e(e){this.status=e.status,this.statusText=e.statusText,this.name="ConnectionError";try{this.responseText=e.responseText}catch(t){this.responseText=""}if(this.errorMessage=null,this.errorCode=null,this.errorObject=null,this.responseText)try{var n=JSON.parse(this.responseText);this.errorMessage=n.message,this.errorCode=n.code,this.errorObject=n}catch(i){}}return Object.defineProperty(e.prototype,"message",{get:function(){return this.connectionErrorToMessage(this,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verboseMessage",{get:function(){return this.connectionErrorToMessage(this,!0)
},enumerable:!0,configurable:!0}),e.prototype.connectionErrorDetailsToMessage=function(e,t){var i=e.errorCode,o=e.errorMessage;return null!==i&&null!==o?n.localize("vs_base_errors",0,i,o):null!==o?o:t&&null!==e.responseText?e.responseText:null},e.prototype.connectionErrorToMessage=function(e,t){var i=this.connectionErrorDetailsToMessage(e,t);return 401===e.status?null!==i?n.localize("vs_base_errors",1,i):n.localize("vs_base_errors",2):i?i:e.status>0&&null!==e.statusText?t&&null!==e.responseText&&e.responseText.length>0?n.localize("vs_base_errors",3,e.statusText,e.status,e.responseText):n.localize("vs_base_errors",4,e.statusText,e.status):t&&null!==e.responseText&&e.responseText.length>0?n.localize("vs_base_errors",5,e.responseText):n.localize("vs_base_errors",6)},e}();t.ConnectionError=_,i.derive(Error,_),t.toErrorMessage=c,t.getHttpStatus=d;var b="Canceled";t.isPromiseCanceledError=h,t.canceled=p,t.notImplemented=f,t.illegalArgument=g,t.illegalState=m,t.loaderError=v}),require.config({shim:{"vs/base/lib/raw.winjs.base":{}}}),define("vs/base/lib/winjs.base",["./raw.winjs.base","vs/base/errors"],function(e,t){"use strict";function n(e){var n=e.detail,i=n.id;return n.parent?(n.handler&&o&&delete o[i],void 0):(o[i]=n,1===Object.keys(o).length&&setTimeout(function(){var e=o;o={},Object.keys(e).forEach(function(n){var i=e[n];i.exception?t.onUnexpectedError(i.exception):i.error&&t.onUnexpectedError(i.error),console.log("WARNING: Promise with no error callback:"+i.id),console.log(i),i.exception&&console.log(i.exception.stack)})},0),void 0)}function i(e,t,n){var i,o,r,s=new WinJS.Promise(function(e,t,n){i=e,o=t,r=n},function(){e.cancel()});return e.then(function(e){t&&t(e),i(e)},function(e){n&&n(e),o(e)},r),s}var o={};return WinJS.Promise.addEventListener("error",n),{decoratePromise:i,Class:WinJS.Class,xhr:WinJS.xhr,Promise:WinJS.Promise,TPromise:WinJS.Promise,Utilities:WinJS.Utilities}}),define("vs/editor/core/constants",["require","exports"],function(e,t){t.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor",ITerminal:"vs.editor.ITerminal"},t.ClassName={EditorWarningDecoration:"greensquiggly",EditorErrorDecoration:"redsquiggly"},t.EventType={Disposed:"disposed",ConfigurationChanged:"configurationChanged",ModelDispose:"modelDispose",ModelChanged:"modelChanged",ModelTokensChanged:"modelTokensChanged",ModelModeChanged:"modelsModeChanged",ModelContentChanged:"contentChanged",ModelContentChangedFlush:"flush",ModelContentChangedLinesDeleted:"linesDeleted",ModelContentChangedLinesInserted:"linesInserted",ModelContentChangedLineChanged:"lineChanged",OnBeforeModelContentChangedFlush:"onBeforeFlush",OnBeforeModelContentChangedLinesDeleted:"onBeforeLinesDeleted",OnBeforeModelContentChangedLinesInserted:"onBeforeLinesInserted",OnBeforeModelContentChangedLineChanged:"onBeforeLineChanged",ModelPropertiesChanged:"propertiesChanged",ModelDecorationsChanged:"decorationsChanged",CursorPositionChanged:"positionChanged",CursorSelectionChanged:"selectionChanged",CursorRevealRange:"revealRange",ViewFocusGained:"focusGained",ViewFocusLost:"focusLost",ViewFocusChanged:"focusChanged",ViewScrollWidthChanged:"scrollWidthChanged",ViewScrollHeightChanged:"scrollHeightChanged",ViewScrollChanged:"scrollChanged",ViewZonesChanged:"zonesChanged",ViewLayoutChanged:"viewLayoutChanged",ContextMenu:"contextMenu",MouseDown:"mousedown",MouseUp:"mouseup",MouseMove:"mousemove",MouseLeave:"mouseleave",KeyDown:"keydown",KeyUp:"keyup",EditorLayout:"editorLayout",DiffUpdated:"diffUpdated"}}),define("vs/editor/core/internalConstants",["require","exports"],function(e,t){t.Handler={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",CursorLeft:"cursorLeft",CursorLeftSelect:"cursorLeftSelect",CursorWordLeft:"cursorWordLeft",CursorWordLeftSelect:"cursorWordLeftSelect",CursorRight:"cursorRight",CursorRightSelect:"cursorRightSelect",CursorWordRight:"cursorWordRight",CursorWordRightSelect:"cursorWordRightSelect",CursorUp:"cursorUp",CursorUpSelect:"cursorUpSelect",CursorDown:"cursorDown",CursorDownSelect:"cursorDownSelect",CursorPageUp:"cursorPageUp",CursorPageUpSelect:"cursorPageUpSelect",CursorPageDown:"cursorPageDown",CursorPageDownSelect:"cursorPageDownSelect",CursorHome:"cursorHome",CursorHomeSelect:"cursorHomeSelect",CursorEnd:"cursorEnd",CursorEndSelect:"cursorEndSelect",CursorTop:"cursorTop",CursorTopSelect:"cursorTopSelect",CursorBottom:"cursorBottom",CursorBottomSelect:"cursorBottomSelect",AddCursorDown:"addCursorDown",AddCursorUp:"addCursorUp",MoveTo:"moveTo",MoveToSelect:"moveToSelect",CreateCursor:"createCursor",LastCursorMoveToSelect:"lastCursorMoveToSelect",JumpToBracket:"jumpToBracket",Type:"type",Paste:"paste",Tab:"tab",Indent:"indent",Outdent:"outdent",DeleteLeft:"deleteLeft",DeleteRight:"deleteRight",DeleteWordLeft:"deleteWordLeft",DeleteWordRight:"deleteWordRight",DeleteAllLeft:"deleteAllLeft",DeleteAllRight:"deleteAllRight",Enter:"enter",Escape:"escape",Cut:"cut",Undo:"undo",Redo:"redo",WordSelect:"wordSelect",WordSelectDrag:"wordSelectDrag",LastCursorWordSelect:"lastCursorWordSelect",LineSelect:"lineSelect",LineSelectDrag:"lineSelectDrag",LastCursorLineSelect:"lastCursorLineSelect",LastCursorLineSelectDrag:"lastCursorLineSelectDrag",LineInsertBefore:"lineInsertBefore",LineInsertAfter:"lineInsertAfter",LineBreakInsert:"lineBreakInsert",SelectAll:"selectAll"}}),define("vs/base/assert",["require","exports"],function(e,t){function n(e,t){if(!e||null===e)throw new Error(t?"Assertion failed ("+t+")":"Assertion Failed")}function i(e,t,n){if(e!==t||!e||!t)throw new Error(n?"Assertion failed ("+n+")":"Assertion Failed")}t.ok=n,t.equals=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/platform",["require","exports","vs/base/errors","vs/base/lib/winjs.base","vs/base/types","vs/base/assert"],function(e,t,n,i,o,r){var s=function(){function e(e){this.ctor=e}return e.prototype.createNew=function(){for(var e=[],t=0;t<arguments.length-0;t++)e[t]=arguments[t+0];e.unshift(this.ctor);var n=o.create.apply(this,e);return this.assertType(n),n},e.prototype.assertType=function(){},e.prototype.describes=function(e){return e&&e.constructor===this.ctor},e.prototype.getCtor=function(){return this.ctor},e}();t.BaseDescriptor=s;var a=function(){function t(e,t,n){"undefined"==typeof n&&(n=[]),r.ok(!o.isUndefinedOrNull(e),"deferred desc must have a moduleId"),r.ok(!o.isUndefinedOrNull(t),"deferred desc must have a ctorName"),this.moduleId=e,this.ctorName=t,this.payload=n}return t.prototype.getModuleId=function(){return this.moduleId},t.prototype.getCtorName=function(){return this.ctorName},t.prototype.getPayload=function(){return this.payload},t.prototype.assertType=function(){},t.prototype.loadAndCreate=function(t){var o,r=this;return new i.Promise(function(n,i){e([r.moduleId],function(e){if(o)return i(o);try{var s=r.doCreate(e,t);n(s)}catch(a){i(a)}},function(e){i(e)})},function(){o=n.canceled()})},t.prototype.syncLoadAndCreate=function(t){var n,i=null;try{n=e(this.moduleId)}catch(o){return null}return i=this.doCreate(n,t)},t.prototype.doCreate=function(e,t){if(o.isUndefinedOrNull(e[this.ctorName]))throw new Error("module "+this.moduleId+" does not export "+this.ctorName);var n=this.payload.slice(0);n.unshift(e[this.ctorName]);var i=o.create.apply(null,n);return t&&t.injectTo(i),this.assertType(i),i},t.prototype.equals=function(e){return e?this.moduleId===e.moduleId&&this.ctorName===e.ctorName:!1},t}();t.DeferredDescriptor=a;var u=function(t){function r(e,n,i,r){t.call(this,n,i,r),this.entryModuleIds=o.isString(e)?[e]:e}return __extends(r,t),r.prototype.loadAndCreate=function(t){var r,s=this;return new i.Promise(function(n,i){e(s.entryModuleIds,function(){e([s.getModuleId()],function(e){if(r)return i(r);o.isUndefinedOrNull(e[s.getCtorName()])&&i(new Error("module "+s.getModuleId()+" does not export "+s.getCtorName()));var a=s.getPayload().slice(0);a.unshift(e[s.getCtorName()]);var u=o.create.apply(null,a);t&&t.injectTo(u),s.assertType(u),n(u)})})},function(){r=n.canceled()})},r.prototype.syncLoadAndCreate=function(){throw new Error("Unsupported")},r}(a);t.EntryPointAwareDeferredDescriptor=u;var l=function(){function e(){this.data={}}return e.prototype.add=function(e,t){r.ok(o.isString(e)),r.ok(o.isObject(t)),r.ok(!this.data.hasOwnProperty(e),"There is already an extension with this id"),this.data[e]=t},e.prototype.knows=function(e){return this.data.hasOwnProperty(e)},e.prototype.as=function(e){return this.data[e]||null},e}();t.Registry=new l}),define("vs/base/eventEmitter",["require","exports","vs/base/errors"],function(e,t,n){var i=function(){function e(e,t,n){"undefined"==typeof n&&(n=null),this._type=e,this._data=t,this._emitterType=n}return e.prototype.getType=function(){return this._type},e.prototype.getData=function(){return this._data},e.prototype.getEmitterType=function(){return this._emitterType},e}();t.EmitterEvent=i;var o=function(){function e(e){if("undefined"==typeof e&&(e=null),this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0,e){this._allowedEventTypes={};for(var t=0;t<e.length;t++)this._allowedEventTypes[e[t]]=!0}else this._allowedEventTypes=null}return e.prototype.dispose=function(){this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0,this._allowedEventTypes=null},e.prototype.addListener=function(e,t){if("*"===e)throw new Error("Use addBulkListener(listener) to register your listener!");if(this._allowedEventTypes&&!this._allowedEventTypes.hasOwnProperty(e))throw new Error("This object will never emit this event type!");this._listeners.hasOwnProperty(e)?this._listeners[e].push(t):this._listeners[e]=[t];var n=this;return function(){n&&(n._removeListener(e,t),n=null,t=null)}},e.prototype.addListener2=function(e,t){var n=this.addListener(e,t);return{dispose:n}},e.prototype.on=function(e,t){return this.addListener(e,t)},e.prototype.addOneTimeListener=function(e,t){var n=this.addListener(e,function(e){n(),t(e)});return n},e.prototype.addOneTimeDisposableListener=function(e,t){var n=this.addOneTimeListener(e,t);return{dispose:n}},e.prototype.addBulkListener=function(e){var t=this;return this._bulkListeners.push(e),function(){t._removeBulkListener(e)}},e.prototype.addBulkListener2=function(e){var t=this.addBulkListener(e);return{dispose:t}},e.prototype.addEmitter=function(e,t){var n=this;return"undefined"==typeof t&&(t=null),e.addBulkListener(function(e){var o=e;if(t){o=[];for(var r=0,s=e.length;s>r;r++)o.push(new i(e[r].getType(),e[r].getData(),t))}0===n._deferredCnt?n._emitEvents(o):n._collectedEvents.push.apply(n._collectedEvents,o)})},e.prototype.addEmitter2=function(e,t){var n=this.addEmitter(e,t);return{dispose:n}},e.prototype.addEmitterTypeListener=function(e,t,n){if(t){if("*"===e)throw new Error("Bulk listeners cannot specify an emitter type");return this.addListener(e+"/"+t,n)}return this.addListener(e,n)},e.prototype._removeListener=function(e,t){if(this._listeners.hasOwnProperty(e))for(var n=this._listeners[e],i=0,o=n.length;o>i;i++)if(n[i]===t){n.splice(i,1);break}},e.prototype._removeBulkListener=function(e){for(var t=0,n=this._bulkListeners.length;n>t;t++)if(this._bulkListeners[t]===e){this._bulkListeners.splice(t,1);break}},e.prototype._emitToSpecificTypeListeners=function(e,t){if(this._listeners.hasOwnProperty(e))for(var i=this._listeners[e].slice(0),o=0,r=i.length;r>o;o++)try{i[o](t)}catch(s){n.onUnexpectedError(s)}},e.prototype._emitToBulkListeners=function(e){for(var t=this._bulkListeners.slice(0),i=0,o=t.length;o>i;i++)try{t[i](e)}catch(r){n.onUnexpectedError(r)}},e.prototype._emitEvents=function(e){this._bulkListeners.length>0&&this._emitToBulkListeners(e);for(var t=0,n=e.length;n>t;t++){var i=e[t];this._emitToSpecificTypeListeners(i.getType(),i.getData()),i.getEmitterType()&&this._emitToSpecificTypeListeners(i.getType()+"/"+i.getEmitterType(),i.getData())}},e.prototype.emit=function(e,t){if("undefined"==typeof t&&(t={}),this._allowedEventTypes&&!this._allowedEventTypes.hasOwnProperty(e))throw new Error("Cannot emit this event type because it wasn't white-listed!");if(this._listeners.hasOwnProperty(e)||0!==this._bulkListeners.length){var n=new i(e,t);0===this._deferredCnt?this._emitEvents([n]):this._collectedEvents.push(n)}},e.prototype.deferredEmit=function(e){this._deferredCnt=this._deferredCnt+1;var t=e();return this._deferredCnt=this._deferredCnt-1,0===this._deferredCnt&&this._emitCollected(),t},e.prototype._emitCollected=function(){var e=this._collectedEvents;this._collectedEvents=[],e.length>0&&this._emitEvents(e)},e}();t.EventEmitter=o}),define("vs/base/dom/iframe",["require","exports"],function(e,t){function n(e){if(!e.parent||e.parent===e)return null;try{var t=e.location,n=e.parent.location;if(t.protocol!==n.protocol||t.hostname!==n.hostname||t.port!==n.port)return a=!0,null}catch(i){return a=!0,null}return e.parent}function i(e,t){for(var n,i=e.document.getElementsByTagName("iframe"),o=0,r=i.length;r>o;o++)if(n=i[o],n.contentWindow===t)return n;return null}function o(){if(!u){u=[];var e,t=window;do e=n(t),e?u.push({window:t,iframeElement:i(e,t)}):u.push({window:t,iframeElement:null}),t=e;while(t)}return u.slice(0)}function r(){return u||t.getSameOriginWindowChain(),a}function s(e,n){if(!n||e===n)return{top:0,left:0};for(var i=0,o=0,r=t.getSameOriginWindowChain(),s=0;s<r.length;s++){var a=r[s];if(a.window===n)break;if(!a.iframeElement)break;var u=a.iframeElement.getBoundingClientRect();i+=u.top,o+=u.left}return{top:i,left:o}}var a=!1,u=null;t.getSameOriginWindowChain=o,t.hasDifferentOriginAncestor=r,t.getPositionOfChildWindowRelativeToAncestorWindow=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/dom/mouseEvent",["require","exports","vs/base/env","vs/base/dom/iframe"],function(e,t,n,i){function o(e){var t=window.MonacoScrollDivisor||120;return e/t}var r=function(){function e(e){var t=this;this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.target=e.target||e.targetNode||e.srcElement,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.posx=0,this.posy=0,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey;var o=function(){return e.clientX||e.clientY?(t.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop,!0):!1},r=function(){return e.pageX||e.pageY?(t.posx=e.pageX,t.posy=e.pageY,!0):!1},s=r,a=o;n.browser.isIE10&&(s=o,a=r),s()||a();var u=i.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=u.left,this.posy-=u.top}return e.prototype.preventDefault=function(){this.browserEvent.preventDefault?this.browserEvent.preventDefault():this.browserEvent.returnValue=!1},e.prototype.stopPropagation=function(){this.browserEvent.stopPropagation?this.browserEvent.stopPropagation():this.browserEvent.cancelBubble=!0},e}();t.StandardMouseEvent=r;var s=function(e){function t(t){e.call(this,t),this.dataTransfer=t.dataTransfer}return __extends(t,e),t}(r);t.DragMouseEvent=s;var a=function(e){function t(t){e.call(this,t)}return __extends(t,e),t}(s);t.DropMouseEvent=a;var u=function(){function e(e,t,i){if("undefined"==typeof t&&(t=0),"undefined"==typeof i&&(i=0),this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e){var r=e,s=e;"undefined"!=typeof r.wheelDeltaY?this.deltaY=o(r.wheelDeltaY):"undefined"!=typeof s.VERTICAL_AXIS&&s.axis===s.VERTICAL_AXIS&&(this.deltaY=-s.detail/3),"undefined"!=typeof r.wheelDeltaX?this.deltaX=n.browser.isSafari&&n.browser.isWindows?-o(r.wheelDeltaX):o(r.wheelDeltaX):"undefined"!=typeof s.HORIZONTAL_AXIS&&s.axis===s.HORIZONTAL_AXIS&&(this.deltaX=-e.detail/3),0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=o(e.wheelDelta))}}return e.prototype.preventDefault=function(){this.browserEvent&&(this.browserEvent.preventDefault?this.browserEvent.preventDefault():this.browserEvent.returnValue=!1)},e.prototype.stopPropagation=function(){this.browserEvent&&(this.browserEvent.stopPropagation?this.browserEvent.stopPropagation():this.browserEvent.cancelBubble=!0)},e}();t.StandardMouseWheelEvent=u}),define("vs/base/dom/keyboardEvent",["require","vs/base/lib/winjs.base","vs/base/env"],function(e,t,n){"use strict";var i=function(){var e={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,PauseBreak:19,CapsLock:20,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NumLock:144,ScrollLock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};n.browser.isIE11orEarlier?e.Meta=91:n.browser.isFirefox?(e["-"]=109,e["="]=107,e[";"]=59,n.browser.isMacintosh&&(e.Meta=224)):n.browser.isOpera?(e["-"]=109,e["="]=61,e[";"]=59,n.browser.isMacintosh&&(e.Meta=57392)):n.browser.isWebKit&&n.browser.isMacintosh&&(e.Meta=91);var t={};!function(){for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n)}(),n.browser.isOpera?(t[189]="-",t[187]="=",t[186]=";"):n.browser.isWebKit&&n.browser.isMacintosh&&(t[93]="Meta");var i=function(e,n){return t.hasOwnProperty(e)?t[e]:n},o=null;return o=n.browser.isOpera?function(e){return"keypress"===e.type?e.which<=32?i(e.keyCode,String.fromCharCode(e.keyCode).toUpperCase()):String.fromCharCode(e.which).toUpperCase():i(e.keyCode,"unknown")}:function(e){return e.charCode?String.fromCharCode(e.charCode).toUpperCase():i(e.keyCode,"unknown")},{CHAR_TO_CODE:e,CODE_TO_CHAR:t,extractKey:o}}(),o=t.Class.define(function(e){if(this.browserEvent=e,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,this.target=e.target||e.targetNode,this.key=i.extractKey(e),this.ctrlKey=this.ctrlKey||"Ctrl"===this.key,this.altKey=this.altKey||"Alt"===this.key,this.shiftKey=this.shiftKey||"Shift"===this.key,this.metaKey=this.metaKey||"Meta"===this.key,n.browser.isOpera&&n.browser.isMacintosh){var t=this.metaKey;this.metaKey=this.ctrlKey,this.ctrlKey=t,"Ctrl"===this.key?this.key="Meta":"Meta"===this.key&&(this.key="Ctrl")}},{preventDefault:function(){this.browserEvent.preventDefault?this.browserEvent.preventDefault():this.browserEvent.returnValue=!1},stopPropagation:function(){this.browserEvent.stopPropagation?this.browserEvent.stopPropagation():this.browserEvent.cancelBubble=!0},clone:function(){var e=this.asString();return{ctrlKey:this.ctrlKey,shiftKey:this.shiftKey,altKey:this.altKey,metaKey:this.metaKey,target:this.target,key:this.key,preventDefault:function(){},stopPropagation:function(){},asString:function(){return e}}},asString:function(){var e="";return this.ctrlKey&&(e+="Ctrl"),this.shiftKey&&(e+=(""===e?"":"-")+"Shift"),this.altKey&&(e+=(""===e?"":"-")+"Alt"),this.metaKey&&(e+=(""===e?"":"-")+"Meta"),this.key&&"Ctrl"!==this.key&&"Shift"!==this.key&&"Alt"!==this.key&&"Meta"!==this.key&&(e+=(""===e?"":"-")+this.key),e}});return{KEYS:i.CHAR_TO_CODE,KeyboardEvent:o}}),define("vs/base/dom/browserService",["require","exports","vs/base/env"],function(e,t,n){function i(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}function o(){return s}t.regularIsHTMLElement=i;var r=function(){function e(){this.restore()}return e.prototype.mock=function(e){this.document=e.document,this.window=e.window,this.isHTMLElement=e.isHTMLElement},e.prototype.restore=function(){this.isHTMLElement=t.regularIsHTMLElement,n.isInWebWorker()?(this.document=null,this.window=null):(this.document=window.document,this.window=window)},e}(),s=new r;t.getService=o}),define("vs/base/dom/dom",["require","exports","vs/base/env","vs/base/types","vs/base/eventEmitter","vs/base/dom/mouseEvent","vs/base/dom/keyboardEvent","vs/base/errors","vs/base/dom/browserService"],function(e,t,n,i,o,r,s,a,u){function l(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function c(e){for(;e;){if(e===document.body)return!0;e=e.parentNode}return!1}function d(e,t,n,o){var r=function(e){e=e||window.event,n(e)};return i.isFunction(e.addEventListener)?(e.addEventListener(t,r,o||!1),function(){r&&(e.removeEventListener(t,r,o||!1),r=null,e=null,n=null)}):(e.attachEvent("on"+t,r),function(){e.detachEvent("on"+t,r)})}function h(e,n,i,o){var r=t.addListener(e,n,i,o);return{dispose:r}}function p(e){return function(t){return e(new r.StandardMouseEvent(t))}}function f(e){return function(t){return e(new s.KeyboardEvent(t))}}function g(e,n){return t.addListener(e,"mouseout",function(t){for(var i=t.relatedTarget||t.toElement;i&&i!==e;)i=i.parentNode;i!==e&&n(t)})}function m(e,n){var i=t.addNonBubblingMouseOutListener(e,n);return{dispose:i}}function v(e,n,i,o,r){"undefined"==typeof o&&(o=U),"undefined"==typeof r&&(r=0);var s=null,a=0,u=!1,l=!1,c=function(){a=(new Date).getTime(),i(s),s=null},d=function(){if(l=!1,!u){var e=(new Date).getTime()-a;e>=r?c():l||(l=!0,t.scheduleAtNextAnimationFrame(d,Number.MAX_VALUE))}},h=t.addListener(e,n,function(e){s=o(s,e),l||(l=!0,t.scheduleAtNextAnimationFrame(d,Number.MAX_VALUE))});return function(){u=!0,h()}}function y(e,n,i,o,r){"undefined"==typeof o&&(o=U),"undefined"==typeof r&&(r=B);var s=null,a=0,u=-1,l=function(){u=-1,a=(new Date).getTime(),i(s),s=null},c=t.addListener(e,n,function(e){s=o(s,e);var t=(new Date).getTime()-a;t>=r?(-1!==u&&window.clearTimeout(u),l()):-1===u&&(u=window.setTimeout(l,r-t))});return function(){-1!==u&&window.clearTimeout(u),c()}}function _(e,t,n,i,o){return F.isNative?v(e,t,n,i,o):y(e,t,n,i,o)}function b(e,n,i,o,r){var s=t.addThrottledListener(e,n,i,o,r);return{dispose:s}}function C(e){return document.defaultView&&i.isFunction(document.defaultView.getComputedStyle)?document.defaultView.getComputedStyle(e,null):e.currentStyle}function w(e,n,i){var o=t.getComputedStyle(e),r="0";return r=o.getPropertyValue?o.getPropertyValue(n):o.getAttribute(i),z(e,r)}function E(e){for(var n=e.offsetParent,i=e.offsetTop,o=e.offsetLeft;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){i-=e.scrollTop;var r=t.getComputedStyle(e);r&&(o-="rtl"!==r.direction?e.scrollLeft:-e.scrollLeft),e===n&&(o+=q.getBorderLeftWidth(e),i+=q.getBorderTopWidth(e),i+=e.offsetTop,o+=e.offsetLeft,n=e.offsetParent)}return{left:o,top:i}}function S(e){var n=t.getTopLeftOffset(e);return{left:n.left,top:n.top,width:e.clientWidth,height:e.clientHeight}}function L(e){var t=q.getBorderLeftWidth(e)+q.getBorderRightWidth(e),n=q.getPaddingLeft(e)+q.getPaddingRight(e);return e.offsetWidth-t-n}function x(e){var t=q.getMarginLeft(e)+q.getMarginRight(e);return e.offsetWidth+t}function T(e){var t=q.getBorderTopWidth(e)+q.getBorderBottomWidth(e),n=q.getPaddingTop(e)+q.getPaddingBottom(e);return e.offsetHeight-t-n}function M(e){var t=q.getMarginTop(e)+q.getMarginBottom(e);return e.offsetHeight+t}function N(e,t){if(null===e)return 0;for(var n=e.offsetLeft,i=e.parentNode;null!==i&&(n-=i.offsetLeft,i!==t);)i=i.parentNode;return n}function I(e,t){if(null===e)return 0;for(var n=e.offsetTop,i=e.parentNode;null!==i&&(n-=i.offsetTop,i!==t);)i=i.parentNode;return n}function D(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function k(){j=document.createElement("style"),j.type="text/css",j.media="screen",document.getElementsByTagName("head")[0].appendChild(j)}function R(){return j&&j.sheet&&j.sheet.rules?j.sheet.rules:j&&j.sheet&&j.sheet.cssRules?j.sheet.cssRules:[]}function O(e,t){t&&(j||k(),j.sheet.insertRule(e+"{"+t+"}",0))}function P(e){if(!j)return null;for(var t=R(),n=0;n<t.length;n++){var i=t[n],o=i.selectorText.replace(/::/gi,":");if(o===e)return i}return null}function A(e){if(j){for(var t=R(),n=[],i=0;i<t.length;i++){var o=t[i],r=o.selectorText.replace(/::/gi,":");0===r.indexOf(e)&&n.push(i)}for(var i=n.length-1;i>=0;i--)j.sheet.deleteRule(n[i])}}function W(e){return u.getService().isHTMLElement(e)}function H(e){try{e.select(),e.setSelectionRange&&e.setSelectionRange(0,9999)}catch(t){}}function V(e){var i=!1,r=!1,s=new o.EventEmitter,a=[],u=null;u={addFocusListener:function(e){var t=s.addListener("focus",e);return a.push(t),t},addBlurListener:function(e){var t=s.addListener("blur",e);return a.push(t),t},dispose:function(){for(;a.length>0;)a.pop()()}};var l=function(){r=!1,i||(i=!0,s.emit("focus",{}))},c=function(){i&&(r=!0,n.isTesting()?r&&(r=!1,i=!1,s.emit("blur",{})):window.setTimeout(function(){r&&(r=!1,i=!1,s.emit("blur",{}))},0))};return a.push(t.addListener(e,t.EventType.FOCUS,l,!0)),a.push(t.addListener(e,t.EventType.BLUR,c,!0)),u}t.clearNode=l,t.isInDOM=c,t.hasClass,t.addClass,t.removeClass,t.toggleClass,function(){function e(e,t){var r=e.className;if(!r)return n=-1,void 0;t=t.trim();var s=r.length,a=t.length;if(0===a)return n=-1,void 0;if(a>s)return n=-1,void 0;if(r===t)return n=0,i=s,void 0;for(var u,l=-1;(l=r.indexOf(t,l+1))>=0;){if(u=l+a,(0===l||r.charCodeAt(l-1)===o)&&r.charCodeAt(u)===o)return n=l,i=u+1,void 0;if(l>0&&r.charCodeAt(l-1)===o&&u===s)return n=l-1,i=u,void 0;if(0===l&&u===s)return n=0,i=u,void 0}n=-1}var n,i,o=" ".charCodeAt(0);t.hasClass=function(t,i){return e(t,i),-1!==n},t.addClass=function(t,i){t.className?(e(t,i),-1===n&&(t.className=t.className+" "+i)):t.className=i},t.removeClass=function(t,o){e(t,o),-1!==n&&(t.className=t.className.substring(0,n)+t.className.substring(i))},t.toggleClass=function(i,o,r){e(i,o),-1===n||r||t.removeClass(i,o),-1===n&&r&&t.addClass(i,o)}}(),t.addListener=d,t.addDisposableListener=h,t.addStandardDisposableListener=function(e,t,n,i){var o=n;return"click"===t?o=p(n):("keydown"===t||"keypress"===t||"keyup"===t)&&(o=f(n)),e.addEventListener(t,o,i||!1),{dispose:function(){o&&(e.removeEventListener(t,o,i||!1),o=null,e=null,n=null)}}},t.addNonBubblingMouseOutListener=g,t.addDisposableNonBubblingMouseOutListener=m;var F=function(){var e=function(e){return e((new Date).getTime()),0},t=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame,n=self.cancelAnimationFrame||self.cancelRequestAnimationFrame||self.msCancelAnimationFrame||self.msCancelRequestAnimationFrame||self.webkitCancelAnimationFrame||self.webkitCancelRequestAnimationFrame||self.mozCancelAnimationFrame||self.mozCancelRequestAnimationFrame||self.oCancelAnimationFrame||self.oCancelRequestAnimationFrame,i=!!t,o=t||e,r=n||n;return{isNative:i,request:function(e){return o(e)},cancel:function(e){return r(e)}}}();t.runAtThisOrScheduleAtNextAnimationFrame,t.scheduleAtNextAnimationFrame,t.cancelAtNextAnimationFrame,function(){function e(){o=!1,i.sort(function(e,t){return t.priority-e.priority});var e=i;n+=i.length,i=[];try{r=!0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].runner()}catch(s){a.onUnexpectedError(s)}}finally{r=!1}}var n=0,i=[],o=!1,r=!1;t.scheduleAtNextAnimationFrame=function(t,r){"undefined"==typeof r&&(r=0);var s=i.length;return i.push({cancelled:!1,runner:t,priority:r}),o||(o=!0,F.request(e)),s+n},t.runAtThisOrScheduleAtNextAnimationFrame=function(e,n){return r?(e(),-1):t.scheduleAtNextAnimationFrame(e,n)},t.cancelAtNextAnimationFrame=function(e){if("undefined"!=typeof e){var t=e-n;0>t||t>=i.length||(i[t].cancelled=!0)}}}();var B=16,U=function(e,t){return t};t.addThrottledListener=_,t.addDisposableThrottledListener=b,t.getComputedStyle=C;var z=function(){var e=/^-?\d+(\.\d+)?(px)?$/i,t=/^-?\d+(\.\d+)?/i;return function(n,i){if(!e.test(i)&&t.test(i)){var o=n.style.left;n.style.left=i;var r=n.style.pixelLeft;return n.style.left=o,r}return parseFloat(i)||0}}(),q={getBorderLeftWidth:function(e){return w(e,"border-left-width","borderLeftWidth")},getBorderTopWidth:function(e){return w(e,"border-top-width","borderTopWidth")},getBorderRightWidth:function(e){return w(e,"border-right-width","borderRightWidth")},getBorderBottomWidth:function(e){return w(e,"border-bottom-width","borderBottomWidth")},getPaddingLeft:function(e){return w(e,"padding-left","paddingLeft")},getPaddingTop:function(e){return w(e,"padding-top","paddingTop")},getPaddingRight:function(e){return w(e,"padding-right","paddingRight")},getPaddingBottom:function(e){return w(e,"padding-bottom","paddingBottom")},getMarginLeft:function(e){return w(e,"margin-left","marginLeft")},getMarginTop:function(e){return w(e,"margin-top","marginTop")},getMarginRight:function(e){return w(e,"margin-right","marginRight")},getMarginBottom:function(e){return w(e,"margin-bottom","marginBottom")},__commaSentinel:!1};t.getTopLeftOffset=E,t.getDomNodePosition=S,t.getContentWidth=L,t.getTotalWidth=x,t.getContentHeight=T,t.getTotalHeight=M,t.getRelativeLeft=N,t.getRelativeTop=I,t.isAncestor=D;var j=null;t.createCSSRule=O,t.getCSSRule=P,t.removeCSSRulesWithPrefix=A,t.isHTMLElement=W,t.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",CONTEXT_MENU:"contextmenu",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:n.browser.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:n.browser.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:n.browser.isWebKit?"webkitAnimationIteration":"animationiteration"},t.EventHelper={stop:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}},t.selectTextInInputElement=H,t.trackFocus=V,t.UnitConverter={_emInPx:-1,emToPixel:function(e){if(this._emInPx<0){var n=document.createElement("div");n.style.position="absolute",n.style.top="10000px",n.style.left="10000px",n.style.fontSize="1em",n.innerHTML="AbcDef",document.body.appendChild(n);var i=t.getTotalHeight(n);document.body.removeChild(n),this._emInPx=i}var o=e*this._emInPx,r=Math.round(o);return r}}}),define("vs/editor/core/config/config",["require","exports","vs/base/env","vs/editor/core/internalConstants"],function(e,t,n,i){function o(e,t){return n.browser.isMacintosh?{shift:e,alt:!0,key:t}:{ctrlCmd:!0,shift:e,key:t}}var r=function(){function e(){this.editor={lineHeight:20,lineNumbers:!0,selectOnLineNumbers:!0,lineNumbersMinChars:5,glyphMargin:!1,lineDecorationsWidth:10,revealHorizontalRightPadding:30,tabSize:"auto",insertSpaces:"auto",roundedSelection:!0,theme:"vs",pageSize:1,readOnly:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1},overviewRulerLanes:2,hideCursorInOverviewRuler:!1,scrollBeyondLastLine:!0,automaticLayout:!1,wrappingColumn:300,wordWrapBreakBeforeCharacters:"{([+",wordWrapBreakAfterCharacters:" 	})]?|&,;",wordWrapBreakObtrusiveCharacters:".",tabFocusMode:!1,longLineBoundary:300,isDominatedByLongLines:!1,hover:!0,contextmenu:!0,quickSuggestions:!0,quickSuggestionsDelay:500,iconsInSuggestions:!0,autoClosingBrackets:!0,formatOnType:!1,suggestOnTriggerCharacters:!0},this.keyBindings={}}return e.prototype.addKeyBinding=function(e,t){this.keyBindings[e]=this.keyBindings[e]||[],this.keyBindings[e].push(t)},e}();t.ConfigClass=r,t.Config=new r,t.Config.addKeyBinding(i.Handler.CursorLeft,{key:"LeftArrow"}),t.Config.addKeyBinding(i.Handler.CursorLeftSelect,{shift:!0,key:"LeftArrow"}),t.Config.addKeyBinding(i.Handler.CursorRight,{key:"RightArrow"}),t.Config.addKeyBinding(i.Handler.CursorRightSelect,{shift:!0,key:"RightArrow"}),t.Config.addKeyBinding(i.Handler.CursorUp,{key:"UpArrow"}),t.Config.addKeyBinding(i.Handler.CursorUpSelect,{shift:!0,key:"UpArrow"}),t.Config.addKeyBinding(i.Handler.CursorDown,{key:"DownArrow"}),t.Config.addKeyBinding(i.Handler.CursorDownSelect,{shift:!0,key:"DownArrow"}),t.Config.addKeyBinding(i.Handler.CursorPageUp,{key:"PageUp"}),t.Config.addKeyBinding(i.Handler.CursorPageUpSelect,{shift:!0,key:"PageUp"}),t.Config.addKeyBinding(i.Handler.CursorPageDown,{key:"PageDown"}),t.Config.addKeyBinding(i.Handler.CursorPageDownSelect,{shift:!0,key:"PageDown"}),t.Config.addKeyBinding(i.Handler.CursorHome,{key:"Home"}),t.Config.addKeyBinding(i.Handler.CursorHomeSelect,{shift:!0,key:"Home"}),t.Config.addKeyBinding(i.Handler.CursorEnd,{key:"End"}),t.Config.addKeyBinding(i.Handler.CursorEndSelect,{shift:!0,key:"End"}),t.Config.addKeyBinding(i.Handler.Tab,{key:"Tab"}),t.Config.addKeyBinding(i.Handler.Outdent,{shift:!0,key:"Tab"}),t.Config.addKeyBinding(i.Handler.DeleteLeft,{key:"Backspace"}),t.Config.addKeyBinding(i.Handler.DeleteLeft,{shift:!0,key:"Backspace"}),t.Config.addKeyBinding(i.Handler.DeleteRight,{key:"Delete"}),t.Config.addKeyBinding(i.Handler.DeleteRight,{shift:!0,key:"Delete"}),t.Config.addKeyBinding(i.Handler.Indent,{ctrlCmd:!0,key:"]"}),t.Config.addKeyBinding(i.Handler.Outdent,{ctrlCmd:!0,key:"["}),t.Config.addKeyBinding(i.Handler.SelectAll,{ctrlCmd:!0,key:"A"}),t.Config.addKeyBinding(i.Handler.Escape,{key:"Escape"}),t.Config.addKeyBinding(i.Handler.LineInsertBefore,{ctrlCmd:!0,shift:!0,key:"Enter"}),t.Config.addKeyBinding(i.Handler.LineInsertAfter,{ctrlCmd:!0,key:"Enter"}),t.Config.addKeyBinding(i.Handler.AddCursorUp,{ctrlCmd:!0,alt:!0,key:"UpArrow"}),t.Config.addKeyBinding(i.Handler.AddCursorDown,{ctrlCmd:!0,alt:!0,key:"DownArrow"}),t.Config.addKeyBinding(i.Handler.CursorWordLeft,o(!1,"LeftArrow")),t.Config.addKeyBinding(i.Handler.CursorWordLeftSelect,o(!0,"LeftArrow")),t.Config.addKeyBinding(i.Handler.CursorWordRight,o(!1,"RightArrow")),t.Config.addKeyBinding(i.Handler.CursorWordRightSelect,o(!0,"RightArrow")),t.Config.addKeyBinding(i.Handler.CursorDownSelect,o(!0,"DownArrow")),t.Config.addKeyBinding(i.Handler.CursorUpSelect,o(!0,"UpArrow")),t.Config.addKeyBinding(i.Handler.DeleteWordLeft,o(!1,"Backspace")),t.Config.addKeyBinding(i.Handler.DeleteWordRight,o(!1,"Delete")),n.browser.isMacintosh?(t.Config.addKeyBinding(i.Handler.CursorTop,{ctrlCmd:!0,key:"UpArrow"}),t.Config.addKeyBinding(i.Handler.CursorTopSelect,{ctrlCmd:!0,shift:!0,key:"UpArrow"}),t.Config.addKeyBinding(i.Handler.CursorBottom,{ctrlCmd:!0,key:"DownArrow"}),t.Config.addKeyBinding(i.Handler.CursorBottomSelect,{ctrlCmd:!0,shift:!0,key:"DownArrow"}),n.browser.isOpera?(t.Config.addKeyBinding(i.Handler.Undo,{winCtrl:!0,key:"Z"}),t.Config.addKeyBinding(i.Handler.Redo,{winCtrl:!0,key:"Y"})):(t.Config.addKeyBinding(i.Handler.Undo,{ctrlCmd:!0,key:"Z"}),t.Config.addKeyBinding(i.Handler.Redo,{ctrlCmd:!0,shift:!0,key:"Z"})),t.Config.addKeyBinding(i.Handler.CursorHome,{ctrlCmd:!0,key:"LeftArrow"}),t.Config.addKeyBinding(i.Handler.CursorHomeSelect,{ctrlCmd:!0,shift:!0,key:"LeftArrow"}),t.Config.addKeyBinding(i.Handler.CursorEnd,{ctrlCmd:!0,key:"RightArrow"}),t.Config.addKeyBinding(i.Handler.CursorEndSelect,{ctrlCmd:!0,shift:!0,key:"RightArrow"}),t.Config.addKeyBinding(i.Handler.CursorHome,{winCtrl:!0,key:"A"}),t.Config.addKeyBinding(i.Handler.CursorLeft,{winCtrl:!0,key:"B"}),t.Config.addKeyBinding(i.Handler.DeleteRight,{winCtrl:!0,key:"D"}),t.Config.addKeyBinding(i.Handler.CursorEnd,{winCtrl:!0,key:"E"}),t.Config.addKeyBinding(i.Handler.CursorRight,{winCtrl:!0,key:"F"}),t.Config.addKeyBinding(i.Handler.DeleteLeft,{winCtrl:!0,key:"H"}),t.Config.addKeyBinding(i.Handler.DeleteAllRight,{winCtrl:!0,key:"K"}),t.Config.addKeyBinding(i.Handler.CursorDown,{winCtrl:!0,key:"N"}),t.Config.addKeyBinding(i.Handler.LineBreakInsert,{winCtrl:!0,key:"O"}),t.Config.addKeyBinding(i.Handler.CursorUp,{winCtrl:!0,key:"P"}),t.Config.addKeyBinding(i.Handler.CursorPageDown,{winCtrl:!0,key:"V"})):(t.Config.addKeyBinding(i.Handler.CursorTop,{ctrlCmd:!0,key:"Home"}),t.Config.addKeyBinding(i.Handler.CursorTopSelect,{ctrlCmd:!0,shift:!0,key:"Home"}),t.Config.addKeyBinding(i.Handler.CursorBottom,{ctrlCmd:!0,key:"End"}),t.Config.addKeyBinding(i.Handler.CursorBottomSelect,{ctrlCmd:!0,shift:!0,key:"End"}),t.Config.addKeyBinding(i.Handler.Undo,{ctrlCmd:!0,key:"Z"}),t.Config.addKeyBinding(i.Handler.Redo,{ctrlCmd:!0,key:"Y"}),t.Config.addKeyBinding(i.Handler.Redo,{ctrlCmd:!0,shift:!0,key:"Z"}))
}),define("vs/platform/configuration/configurationRegistry",["require","exports","vs/nls!vs/editor/editor.main","vs/platform/platform","vs/base/objects"],function(e,t,n,i,o){t.Extensions={Configuration:"base.contributions.configuration"};var r=function(){function e(){this.configurationContributors=[],this.masterConfiguration={id:"configurationFile",title:n.localize("vs_platform_configuration_configurationRegistry",0),description:n.localize("vs_platform_configuration_configurationRegistry",1),type:"object",properties:{type:{type:"string",description:n.localize("vs_platform_configuration_configurationRegistry",2)},languages:{type:"object",description:n.localize("vs_platform_configuration_configurationRegistry",3),properties:{}}}}}return e.prototype.registerConfiguration=function(e){o.deepFreeze(e),this.configurationContributors.push(e),this.registerConfigurationNode(this.masterConfiguration,e.id.split("/"),e.id)},e.prototype.registerConfigurationNode=function(e,t,n){if(1===t.length)e.properties[t[0]]={type:"ref",$ref:n};else{var i=t.shift();e.properties[i]||(e.properties[i]={type:"object",properties:{}}),this.registerConfigurationNode(e.properties[i],t,n)}},e.prototype.getConfigurations=function(){return this.configurationContributors.slice(0)},e.prototype.getConfigurationSchemas=function(){var e=this.getConfigurations();return e.push(this.masterConfiguration),e},e}();i.Registry.add(t.Extensions.Configuration,new r)}),define("vs/editor/core/handlerDispatcher",["require","exports"],function(e,t){var n=function(){function e(e,t){this.source=e,this.data=t}return e.prototype.getSource=function(){return this.source},e.prototype.getData=function(){return this.data},e}();t.DispatcherEvent=n;var i=function(){function e(){this.registry={}}return e.prototype.setHandler=function(e,t){this.registry[e]=t},e.prototype.clearHandlers=function(){this.registry={}},e.prototype.getHandler=function(e){return this.registry.hasOwnProperty(e)?this.registry[e]:null},e.prototype.trigger=function(e,t,i){var o=this.getHandler(t),r=!1;if(o){var s=new n(e,i);r=o(s)}return r},e}();t.HandlerDispatcher=i}),define("vs/base/strings",["require","exports","vs/nls!vs/editor/editor.main","vs/base/types"],function(e,t,n,i){function o(e,t,n){"undefined"==typeof n&&(n="0");for(var i=""+e,o=[i],r=i.length;t>r;r++)o.push(n);return o.reverse().join("")}function r(e){for(var t=[],n=0;n<arguments.length-1;n++)t[n]=arguments[n+1];if(0===t.length)return e;for(var i=e,o=t.length,r=0;o>r;r++)i=i.replace(new RegExp("\\{"+r+"\\}","g"),t[r]);return i}function s(e){return e||(e=new Date),n.localize("vs_base_strings",0,t.pad(e.getMonth()+1,2),t.pad(e.getDate(),2),t.pad(e.getFullYear(),4),t.pad(e.getHours(),2),t.pad(e.getMinutes(),2),t.pad(e.getSeconds(),2))}function a(e){return e||(e=new Date),n.localize("vs_base_strings",1,t.pad(e.getHours(),2),t.pad(e.getMinutes(),2),t.pad(e.getSeconds(),2))}function u(e){return e.replace(/[<|>|&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function l(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}function c(e,n,i){return e.replace(new RegExp(t.escapeRegExpCharacters(n.toString()),"g"),i)}function d(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}function h(e,n){"undefined"==typeof n&&(n=" ");var i=t.ltrim(e,n);return t.rtrim(i,n)}function p(e,t){var n=t.length;if(0===n||0===e.length)return e;for(var i=0,o=-1;(o=e.indexOf(t,i))===i;)i+=n;return e.substring(i)}function f(e,t){var n=t.length,i=e.length;if(0===n||0===i)return e;for(var o=i,r=-1;;){if(r=e.lastIndexOf(t,o-1),-1===r||r+n!==o)break;if(0===r)return"";o=r}return e.substring(0,o)}function g(e){return e.replace(/(^\s+|\s+$)/g,"")}function m(e){return e.replace(/\s+/g," ")}function v(e){var t=(new Date).getTime(),i=(t-e)/1e3;if(60>i)return n.localize("vs_base_strings",2,Math.floor(i));var o=i/60;if(60>o)return n.localize("vs_base_strings",3,Math.floor(o));var r=o/60;if(24>r)return n.localize("vs_base_strings",4,Math.floor(r));var s=r/24;return n.localize("vs_base_strings",5,Math.floor(s))}function y(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function _(e,t){for(var n=0,i=t.length;i>n;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return!1;return!0}function b(e,t){if(t.length>e.length)return!1;for(var n=0,i=e.length-t.length;n<t.length;n++,i++)if(e.charCodeAt(i)!==t.charCodeAt(n))return!1;return!0}function C(e,t,n,i){return"undefined"==typeof i&&(i=""),e.substring(0,t)+i+e.substring(t+n)}function w(e,t,n,i){if(""===e)throw new Error("Cannot create regex from empty string");t||(e=e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")),i&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));var o="g";return n||(o+="i"),new RegExp(e,o)}function E(e){var t=e.exec("");return t&&0===e.lastIndex}function S(e,t){if(!e)return e;if(t){for(var n=e.split("/"),i=0,o=n.length;o>i;i++)n[i]=encodeURIComponent(n[i]);return n.join("/")}return encodeURIComponent(e)}function L(e){return/^\w[\w.]*$/.test(e)}function x(e){return!e||!e.trim()}function T(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}function M(e,t,n){return t&&(e="^"+e),n&&(e+="$"),e}function N(e,n){if(t.regExpLeadsToEndlessLoop(new RegExp(e,n)))throw new Error("Regular expression /"+e+"/g results in infinitive matches")}function I(e){return e?(0===e.indexOf("/")&&(e=e.substring(1)),t.encodeURIPart(e,!0)):""}function D(e,t){return"["+e+"m"+t+"[0m"}function k(e){for(var t=0,n=e.length;n>t;t++)if(" "!==e.charAt(t)&&"	"!==e.charAt(t))return t;return-1}function R(e){for(var t=0,n=e.length;n>t;t++)if(" "!==e.charAt(t)&&"	"!==e.charAt(t))return e.substring(0,t);return e}function O(e){for(var t=e.length-1;t>=0;t--)if(" "!==e.charAt(t)&&"	"!==e.charAt(t))return t;return-1}function P(e,t){if(!z&&(z=!0,window.Intl&&i.isFunction(window.Intl.Collator))){var n=new window.Intl.Collator;i.isFunction(n.compare)&&(U=n.compare)}return U?U.call(this,e,t):e.localeCompare(t)}function A(e){return e>=97&&122>=e||e>=65&&90>=e}function W(e,t){var n=e.length,i=t.length;if(n!==i)return!1;for(var o=0;n>o;o++){var r=e.charCodeAt(o),s=t.charCodeAt(o);if(r!==s)if(A(r)&&A(s)){var a=Math.abs(r-s);if(0!==a&&32!==a)return!1}else if(String.fromCharCode(r).toLocaleLowerCase()!==String.fromCharCode(s).toLocaleLowerCase())return!1}return!0}function H(e,t,n){"undefined"==typeof n&&(n=4);var i=Math.abs(e.length-t.length);if(i>n)return 0;var o,r,s=[],a=[];for(o=0;o<t.length+1;++o)a.push(0);for(o=0;o<e.length+1;++o)s.push(a);for(o=1;o<e.length+1;++o)for(r=1;r<t.length+1;++r)s[o][r]=e[o-1]===t[r-1]?s[o-1][r-1]+1:Math.max(s[o-1][r],s[o][r-1]);return s[e.length][t.length]-Math.sqrt(i)}function V(e){for(var t={ch:0,children:[]},n=0,i=e.length;i>n;n++)for(var o=t,r=e[n],s=0,a=r.length;a>s;s++)o=B(o,r.charCodeAt(s));return function(e){for(var n=t,i=0,o=e.length;n.children&&o>i;i++)if(n=F(n,e.charCodeAt(i)),!n)return!1;return!n.children}}function F(e,t){if(!e.children)return null;for(var n=0,i=e.children.length;i>n;n++)if(e.children[n].ch===t)return e.children[n];return null}function B(e,t){if(e.children){for(var n=e.children.length,i=0;n>i;i++)if(e.children[i].ch===t)return e.children[i];return e.children.push({ch:t,children:null}),e.children[n]}return e.children=[{ch:t,children:null}],e.children[0]}t.empty="",t.pad=o,t.format=r,t.formatDate=s,t.formatTime=a,t.escape=u,t.escapeRegExpCharacters=l,t.replaceAll=c,t.stripHtml=d,t.trim=h,t.ltrim=p,t.rtrim=f,t.trimWhitespace=g,t.normalize=m;t.conciseformatDiff=v,t.convertSimple2RegExpPattern=y,t.startsWith=_,t.endsWith=b,t.splice=C,t.createRegExp=w,t.regExpLeadsToEndlessLoop=E,t.encodeURIPart=S,t.isCamelCasePattern=L,t.isFalsyOrWhitespace=x,t.toRegExpPattern=T,t.anchorPattern=M,t.assertRegExp=N,t.normalizePath=I,t.colorize=D,t.firstNonWhitespaceIndex=k,t.getLeadingWhitespace=R,t.lastNonWhitespaceIndex=O;var U,z=!1;t.localeCompare=P,t.equalsIgnoreCase=W,t.difference=H,t.prefixMatcher=V}),define("vs/editor/core/config/elementSizeObserver",["require","exports"],function(e,t){var n=function(){function e(e,t){this.referenceDomElement=e,this.changeCallback=t,this.measureReferenceDomElementToken=-1,this.width=-1,this.height=-1,this.measureReferenceDomElement(!1)}return e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.dispose=function(){this.stopObserving()},e.prototype.startObserving=function(){var e=this;-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=window.setInterval(function(){return e.measureReferenceDomElement(!0)},100))},e.prototype.stopObserving=function(){-1!==this.measureReferenceDomElementToken&&(window.clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)},e.prototype.observe=function(e){this.measureReferenceDomElement(!0,e)},e.prototype.measureReferenceDomElement=function(e,t){var n=0,i=0;t?(n=t.width,i=t.height):this.referenceDomElement&&(n=this.referenceDomElement.clientWidth,i=this.referenceDomElement.clientHeight),n=Math.max(5,n),i=Math.max(5,i),(this.width!==n||this.height!==i)&&(this.width=n,this.height=i,e&&this.changeCallback())},e}();t.ElementSizeObserver=n});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/config/configuration",["require","exports","vs/nls!vs/editor/editor.main","vs/base/env","vs/editor/core/config/config","vs/base/objects","vs/base/types","vs/platform/platform","vs/platform/configuration/configurationRegistry","vs/editor/core/handlerDispatcher","vs/base/eventEmitter","vs/editor/core/constants","vs/base/strings","vs/base/dom/dom","vs/editor/core/config/elementSizeObserver"],function(e,t,n,i,o,r,s,a,u,l,c,d,h,p,f){function g(e){return Boolean(e)}function m(e,t,n){var i=parseInt(e,10);return"number"==typeof t&&(i=Math.max(t,i)),"number"==typeof n&&(i=Math.min(n,i)),i}var v=function(){function e(e){this._keyBindings=r.clone(o.Config.keyBindings),this._editor=r.clone(o.Config.editor),this._mergeOptionsIn(e)}return e.prototype.getKeyBindings=function(){return this._keyBindings},e.prototype.getEditorOptions=function(){return this._editor},e.prototype._mergeOptionsIn=function(e){this._editor=r.mixin(this._editor,e||{})},e.prototype.updateOptions=function(e){var t=Object.keys(e);t.push("stopLineTokenizationAfter"),t.push("stopRenderingLineAfter");for(var n={},i=0,o=t.length;o>i;i++)n[t[i]]=r.clone(this._editor[t[i]]);this._mergeOptionsIn(e);for(var s=[],i=0,o=t.length;o>i;i++){var a=n[t[i]],u=this._editor[t[i]];r.equals(a,u)||s.push(t[i])}return s},e}(),y=function(){function e(){}return e.readConfiguration=function(t){return e.CACHE.hasOwnProperty(t)||(e.CACHE[t]=this._actualReadConfiguration(t)),e.CACHE[t]},e._testElementId=function(e){return"editorSizeProvider"+e},e._createTestElement=function(t,n){var i=document.createElement("span");i.id=e._testElementId(t);for(var o=" "===n?"&nbsp;":n,r=0;8>r;r++)o+=o;return i.textContent=o,i},e._createTestElements=function(t){var n=document.createElement("div");n.className=t,n.style.position="absolute",n.style.top="-50000px",n.style.width="50000px";for(var i=0,o=e._USUAL_CHARS.length;o>i;i++)n.appendChild(document.createElement("br")),n.appendChild(e._createTestElement(i,e._USUAL_CHARS[i]));var r=e._testElementId(e._USUAL_CHARS.length),s=document.createElement("div");return s.id=r,s.appendChild(document.createTextNode("heightTestContent")),n.appendChild(document.createElement("br")),n.appendChild(s),n},e._readTestElementWidth=function(t){return document.getElementById(e._testElementId(t)).offsetWidth/256},e._readFromTestElements=function(){for(var t=[],n=0,i=e._USUAL_CHARS.length;i>n;n++)t.push(e._readTestElementWidth(n));return t},e._actualReadConfiguration=function(t){var n=e._createTestElements(t);document.body.appendChild(n);var i=e._readFromTestElements(),o=document.getElementById(e._testElementId(0)),r=p.getComputedStyle(o),s=e._getFontFromComputedStyle(r),a=parseInt(r.fontSize,10),u=document.getElementById(e._testElementId(e._USUAL_CHARS.length)),l=u.clientHeight;document.body.removeChild(n);for(var c=0,d=0,h=0,f=e._USUAL_CHARS.length;f>h;h++){var g=e._USUAL_CHARS.charAt(h);g>="0"&&"9">=g?c=Math.max(c,i[h]):"|"===g&&(d=i[h])}return{thinnestCharacterWidth:d,maxDigitWidth:c,lineHeight:l,font:s,fontSize:a}},e._getFontFromComputedStyle=function(e){return e.font?e.font:e.fontFamily+" "+e.fontSize+" "+e.fontSizeAdjust+" "+e.fontStretch+" "+e.fontStyle+" "+e.fontVariant+" "+e.fontWeight+" "},e._USUAL_CHARS="0123456789|",e.CACHE={},e}(),_=function(e){function t(t,n,i){"undefined"==typeof n&&(n=null),"undefined"==typeof i&&(i=null);var o=this;e.call(this,[d.EventType.ConfigurationChanged]),this._configWithDefaults=new v(t),this._indentationGuesser=i,this._computedIndentationOptions=null,this._isDominatedByLongLines=!1,this.handlerDispatcher=new l.HandlerDispatcher,this._elementSizeObserver=new f.ElementSizeObserver(n,function(){var e=o.editor;o.editor=o._computeInternalOptions();var t=o._createConfigurationChangedEvent([]);t.observedOuterWidth=o.editor.observedOuterWidth!==e.observedOuterWidth,t.observedOuterHeight=o.editor.observedOuterHeight!==e.observedOuterHeight,o.emit(d.EventType.ConfigurationChanged,t)}),this._configWithDefaults.getEditorOptions().automaticLayout&&this._elementSizeObserver.startObserving(),this.editor=this._computeInternalOptions()}return __extends(t,e),t.prototype.observeReferenceElement=function(e){this._elementSizeObserver.observe(e)},t.prototype.dispose=function(){this._elementSizeObserver.dispose(),e.prototype.dispose.call(this)},t.prototype.getRawOptions=function(){return this._configWithDefaults.getEditorOptions()},t.prototype._computeInternalOptions=function(){var e,t=this._configWithDefaults.getEditorOptions(),n=m(t.wrappingColumn,-1);e="undefined"!=typeof t.stopLineTokenizationAfter?m(t.stopLineTokenizationAfter,-1):n>=0?-1:1e4;var i;i="undefined"!=typeof t.stopRenderingLineAfter?m(t.stopRenderingLineAfter,-1):n>=0?-1:1e4;var o=this._getEditorClassName(t.theme),r=y.readConfiguration(o),s=this._elementSizeObserver.getWidth(),a=this._elementSizeObserver.getHeight();return{observedOuterWidth:s,observedOuterHeight:a,lineNumbers:t.lineNumbers,selectOnLineNumbers:g(t.selectOnLineNumbers),lineNumbersMinChars:m(t.lineNumbersMinChars,1),glyphMargin:g(t.glyphMargin),lineDecorationsWidth:m(t.lineDecorationsWidth,0),revealHorizontalRightPadding:m(t.revealHorizontalRightPadding,0),roundedSelection:g(t.roundedSelection),theme:t.theme,readOnly:g(t.readOnly),scrollbar:t.scrollbar,overviewRulerLanes:m(t.overviewRulerLanes,0,3),hideCursorInOverviewRuler:g(t.hideCursorInOverviewRuler),scrollBeyondLastLine:g(t.scrollBeyondLastLine),automaticLayout:g(t.automaticLayout),wrappingColumn:n,wordWrapBreakBeforeCharacters:t.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:t.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:t.wordWrapBreakObtrusiveCharacters,tabFocusMode:g(t.tabFocusMode),stopLineTokenizationAfter:e,stopRenderingLineAfter:i,longLineBoundary:m(t.longLineBoundary),hover:g(t.hover),contextmenu:g(t.contextmenu),quickSuggestions:g(t.quickSuggestions),quickSuggestionsDelay:m(t.quickSuggestionsDelay),iconsInSuggestions:g(t.iconsInSuggestions),autoClosingBrackets:g(t.autoClosingBrackets),formatOnType:g(t.formatOnType),suggestOnTriggerCharacters:g(t.suggestOnTriggerCharacters),lineHeight:r.lineHeight,pageSize:0,thinnestCharacterWidth:r.thinnestCharacterWidth,maxDigitWidth:r.maxDigitWidth,font:r.font,fontSize:r.fontSize,isDominatedByLongLines:this._isDominatedByLongLines}},t.prototype.bindKeys=function(e){var t=this,n=this._configWithDefaults.getKeyBindings(),i=e.bindGroup(function(e){for(var i in n)if(n.hasOwnProperty(i))for(var o=t.handlerDispatcher.trigger.bind(t.handlerDispatcher,"keyboard",i),r=n[i],s=0;s<r.length;s++){var a=r[s];e(a,o,{id:i})}});return i},t.prototype._createConfigurationChangedEvent=function(e){var t={observedOuterWidth:!1,observedOuterHeight:!1,lineHeight:!1,pageSize:!1,thinnestCharacterWidth:!1,maxDigitWidth:!1,font:!1,fontSize:!1,isDominatedByLongLines:!1,lineNumbers:!1,selectOnLineNumbers:!1,lineNumbersMinChars:!1,glyphMargin:!1,lineDecorationsWidth:!1,revealHorizontalRightPadding:!1,roundedSelection:!1,theme:!1,readOnly:!1,scrollbar:!1,overviewRulerLanes:!1,hideCursorInOverviewRuler:!1,scrollBeyondLastLine:!1,automaticLayout:!1,wrappingColumn:!1,wordWrapBreakBeforeCharacters:!1,wordWrapBreakAfterCharacters:!1,wordWrapBreakObtrusiveCharacters:!1,tabFocusMode:!1,stopLineTokenizationAfter:!1,stopRenderingLineAfter:!1,longLineBoundary:!1,hover:!1,contextmenu:!1,quickSuggestions:!1,quickSuggestionsDelay:!1,iconsInSuggestions:!1,autoClosingBrackets:!1,formatOnType:!1,suggestOnTriggerCharacters:!1};if(e.length>0)for(var n=0;n<e.length;n++)t[e[n]]=!0;return t},t.prototype.updateOptions=function(e){var t=this._configWithDefaults.updateOptions(e);this.editor=this._computeInternalOptions(),this._computedIndentationOptions=null,t.length>0&&this.emit(d.EventType.ConfigurationChanged,this._createConfigurationChangedEvent(t))},t.prototype._getEditorClassName=function(e){var t="";return i.browser.isIE11orEarlier?t+="ie ":i.browser.isFirefox&&(t+="ff "),i.browser.isIE9&&(t+="ie9 "),i.browser.isMacintosh&&(t+="mac "),"monaco-editor "+t+e},t.prototype.getEditorClassName=function(){return this._getEditorClassName(this.editor.theme)},t.prototype.setIsDominatedByLongLines=function(e){this._isDominatedByLongLines=e,this.editor.isDominatedByLongLines=e},t.prototype.resetIndentationOptions=function(){this._computedIndentationOptions=null},t.prototype._computeIndentationOptions=function(){var e=this._configWithDefaults.getEditorOptions();if("auto"!==e.tabSize&&"auto"!==e.insertSpaces)return{insertSpaces:e.insertSpaces,tabSize:e.tabSize};var t=null;this._indentationGuesser&&(t="auto"!==e.tabSize?this._indentationGuesser(e.tabSize):this._indentationGuesser(4));var n=!1,i=4;return"auto"===e.tabSize&&"auto"===e.insertSpaces?t&&(n=t.insertSpaces,i=t.tabSize):"auto"===e.tabSize?(n=e.insertSpaces,t&&(i=t.tabSize)):(i=e.tabSize,t&&(n=t.insertSpaces)),{insertSpaces:n,tabSize:i}},t.prototype.getIndentationOptions=function(){return this._computedIndentationOptions||(this._computedIndentationOptions=this._computeIndentationOptions()),this._computedIndentationOptions},t.prototype.getWrappingColumn=function(){return this.editor.isDominatedByLongLines&&this.editor.wrappingColumn>0?0:this.editor.wrappingColumn},t.prototype._normalizeIndentationFromWhitespace=function(e){var t,n=this.getIndentationOptions(),i=0;for(t=0;t<e.length;t++)"	"===e.charAt(t)?i+=n.tabSize:i++;var o="";if(!n.insertSpaces){var r=Math.floor(i/n.tabSize);for(i%=n.tabSize,t=0;r>t;t++)o+="	"}for(t=0;i>t;t++)o+=" ";return o},t.prototype.normalizeIndentation=function(e){var t=h.firstNonWhitespaceIndex(e);return-1===t&&(t=e.length),this._normalizeIndentationFromWhitespace(e.substring(0,t))+e.substring(t)},t.prototype.getOneIndent=function(){var e=this.getIndentationOptions();if(e.insertSpaces){for(var t="",n=0;n<e.tabSize;n++)t+=" ";return t}return"	"},t}(c.EventEmitter);t.Configuration=_;var b=function(){function e(){}return e.apply=function(t,n){if(t){var i=n;s.isArray(n)||(i=[n]);for(var o=0;o<i.length;o++){var r=i[o];if(r&&s.isFunction(r.updateOptions)){var a=r.getEditorType();switch(a){case d.EditorType.ICodeEditor:case d.EditorType.IDiffEditor:var u=t[e.EDITOR_SECTION];u&&(delete u.readOnly,r.updateOptions(u));break;case d.EditorType.ITerminal:var l=t[e.TERMINAL_SECTION];l&&r.updateOptions(l)}}}}},e.EDITOR_SECTION="editor",e.TERMINAL_SECTION="console",e}();t.EditorConfiguration=b;var C=a.Registry.as(u.Extensions.Configuration);C.registerConfiguration({id:b.EDITOR_SECTION,type:"object",title:n.localize("vs_editor_core_config_configuration",0),description:n.localize("vs_editor_core_config_configuration",1),properties:{lineNumbers:{type:"boolean",default:o.Config.editor.lineNumbers,description:n.localize("vs_editor_core_config_configuration",2)},glyphMargin:{type:"boolean",default:o.Config.editor.glyphMargin,description:n.localize("vs_editor_core_config_configuration",3)},tabSize:{oneOf:[{type:"number"},{type:"string",enum:["auto"]}],default:o.Config.editor.tabSize,minimum:1,description:n.localize("vs_editor_core_config_configuration",4)},insertSpaces:{oneOf:[{type:"boolean"},{type:"string",enum:["auto"]}],default:o.Config.editor.insertSpaces,description:n.localize("vs_editor_core_config_configuration",5)},roundedSelection:{type:"boolean",default:o.Config.editor.roundedSelection,description:n.localize("vs_editor_core_config_configuration",6)},scrollBeyondLastLine:{type:"boolean",default:o.Config.editor.scrollBeyondLastLine,description:n.localize("vs_editor_core_config_configuration",7)},wrappingColumn:{type:"integer",default:o.Config.editor.wrappingColumn,minimum:-1,description:n.localize("vs_editor_core_config_configuration",8)},quickSuggestions:{type:"boolean",default:o.Config.editor.quickSuggestions,description:n.localize("vs_editor_core_config_configuration",9)},quickSuggestionsDelay:{type:"integer",default:o.Config.editor.quickSuggestionsDelay,minimum:0,description:n.localize("vs_editor_core_config_configuration",10)},autoClosingBrackets:{type:"boolean",default:o.Config.editor.autoClosingBrackets,description:n.localize("vs_editor_core_config_configuration",11)},formatOnType:{type:"boolean",default:o.Config.editor.formatOnType,description:n.localize("vs_editor_core_config_configuration",12)},suggestOnTriggerCharacters:{type:"boolean",default:o.Config.editor.suggestOnTriggerCharacters,description:n.localize("vs_editor_core_config_configuration",13)},overviewRulerLanes:{type:"integer",default:3,description:n.localize("vs_editor_core_config_configuration",14)},hideCursorInOverviewRuler:{type:"boolean",default:o.Config.editor.hideCursorInOverviewRuler,description:n.localize("vs_editor_core_config_configuration",15)}}}),C.registerConfiguration({id:b.TERMINAL_SECTION,type:"object",title:n.localize("vs_editor_core_config_configuration",16),description:n.localize("vs_editor_core_config_configuration",17),properties:{lineNumbers:{type:"boolean",default:!1,description:n.localize("vs_editor_core_config_configuration",18)},roundedSelection:{type:"boolean",default:!0,description:n.localize("vs_editor_core_config_configuration",19)},wrappingColumn:{type:"integer",default:0,minimum:-1,description:n.localize("vs_editor_core_config_configuration",20)},quickSuggestionsDelay:{type:"integer",default:50,minimum:0,description:n.localize("vs_editor_core_config_configuration",21)},scrollBeyondLastLine:{type:"boolean",default:!0,description:n.localize("vs_editor_core_config_configuration",22)},hideCursorInOverviewRuler:{type:"boolean",default:!0,description:n.localize("vs_editor_core_config_configuration",23)}}})}),define("vs/editor/core/position",["require","exports"],function(e,t){function n(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}t.isIPosition=n,function(e){function t(e){return{startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column}}function n(e){return{lineNumber:e.startLineNumber,column:e.startColumn}}function i(e){return{lineNumber:e.endLineNumber,column:e.endColumn}}e.asEmptyRange=t,e.startPosition=n,e.endPosition=i}(t.PositionUtils||(t.PositionUtils={}));var i=(t.PositionUtils,function(){function e(e,t){this.lineNumber=e,this.column=t}return e.prototype.equals=function(e){return!!e&&this.lineNumber===e.lineNumber&&this.column===e.column},e.prototype.isBefore=function(e){return this.lineNumber<e.lineNumber?!0:e.lineNumber<this.lineNumber?!1:this.column<e.column},e.prototype.isBeforeOrEqual=function(e){return this.lineNumber<e.lineNumber?!0:e.lineNumber<this.lineNumber?!1:this.column<=e.column},e.prototype.clone=function(){return new e(this.lineNumber,this.column)},e.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},e}());t.Position=i}),define("vs/editor/core/range",["require","exports","vs/editor/core/position"],function(e,t,n){function i(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}function o(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}function r(e,t){return t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber?!1:t.lineNumber===e.startLineNumber&&t.column<e.startColumn?!1:t.lineNumber===e.endLineNumber&&t.column>e.endColumn?!1:!0}function s(e,t){return t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber?!1:t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber?!1:t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn?!1:t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn?!1:!0}function a(e,t){var n=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,r=e.endColumn,s=t.startLineNumber,a=t.startColumn,u=t.endLineNumber,l=t.endColumn;return s>n?(n=s,i=a):n===s&&(i=Math.max(i,a)),o>u?(o=u,r=l):o===u&&(r=Math.min(r,l)),n>o?null:n===o&&i>r?null:new g(n,i,o,r)}function u(e,t){var n,i,o,r;return t.startLineNumber<e.startLineNumber?(n=t.startLineNumber,i=t.startColumn):t.startLineNumber===e.startLineNumber?(n=t.startLineNumber,i=Math.min(t.startColumn,e.startColumn)):(n=e.startLineNumber,i=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,r=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,r=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,r=e.endColumn),new g(n,i,o,r)}function l(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}function c(e,t){return e.startLineNumber===t.startLineNumber?e.startColumn===t.startColumn?e.endLineNumber===t.endLineNumber?e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber:e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber}function d(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}function h(e){return e.endLineNumber>e.startLineNumber}function p(e){return 17*e.startLineNumber+23*e.startColumn+29*e.endLineNumber+37*e.endColumn}function f(e){return new g(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)}t.isIRange=i,t.isEmpty=o,t.containsPosition=r,t.containsRange=s,t.intersectRanges=a,t.plusRange=u,t.equalsRange=l,t.compareRangesUsingStarts=c,t.compareRangesUsingEnds=d,t.spansMultipleLines=h,t.hashCode=p;var g=function(){function e(e,t,n,i){e>n||e===n&&t>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=i)}return e.prototype.isEmpty=function(){return t.isEmpty(this)},e.prototype.containsPosition=function(e){return t.containsPosition(this,e)},e.prototype.containsRange=function(e){return t.containsRange(this,e)},e.prototype.plusRange=function(e){return t.plusRange(this,e)},e.prototype.intersectRanges=function(e){return t.intersectRanges(this,e)},e.prototype.equalsRange=function(e){return t.equalsRange(this,e)},e.prototype.getEndPosition=function(){return new n.Position(this.endLineNumber,this.endColumn)},e.prototype.getStartPosition=function(){return new n.Position(this.startLineNumber,this.startColumn)},e.prototype.cloneRange=function(){return new e(this.startLineNumber,this.startColumn,this.endLineNumber,this.endColumn)},e.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},e.prototype.setEndPosition=function(t,n){return new e(this.startLineNumber,this.startColumn,t,n)},e.prototype.setStartPosition=function(t,n){return new e(t,n,this.endLineNumber,this.endColumn)},e.prototype.collapseToStart=function(){return new e(this.startLineNumber,this.startColumn,this.startLineNumber,this.startColumn)},e}();t.Range=g,t.create=f}),define("vs/editor/editor",["require","exports"],function(e,t){!function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(t.SelectionDirection||(t.SelectionDirection={}));t.SelectionDirection;!function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(t.OverviewRulerLane||(t.OverviewRulerLane={}));t.OverviewRulerLane;!function(e){e[e.TextDefined=0]="TextDefined",e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(t.EndOfLinePreference||(t.EndOfLinePreference={}));t.EndOfLinePreference;!function(e){e[e.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",e[e.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",e[e.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",e[e.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(t.TrackedRangeStickiness||(t.TrackedRangeStickiness={}));t.TrackedRangeStickiness;!function(e){e[e.EXACT=0]="EXACT",e[e.ABOVE=1]="ABOVE",e[e.BELOW=2]="BELOW"}(t.ContentWidgetPositionPreference||(t.ContentWidgetPositionPreference={}));t.ContentWidgetPositionPreference;!function(e){e[e.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",e[e.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",e[e.TOP_CENTER=2]="TOP_CENTER"}(t.OverlayWidgetPositionPreference||(t.OverlayWidgetPositionPreference={}));t.OverlayWidgetPositionPreference;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXTAREA=1]="TEXTAREA",e[e.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",e[e.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",e[e.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",e[e.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",e[e.CONTENT_TEXT=6]="CONTENT_TEXT",e[e.CONTENT_EMPTY=7]="CONTENT_EMPTY",e[e.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",e[e.CONTENT_WIDGET=9]="CONTENT_WIDGET",e[e.OVERVIEW_RULER=10]="OVERVIEW_RULER",e[e.SCROLLBAR=11]="SCROLLBAR",e[e.OVERLAY_WIDGET=12]="OVERLAY_WIDGET"}(t.MouseTargetType||(t.MouseTargetType={}));t.MouseTargetType});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/selection",["require","exports","vs/editor/core/range","vs/editor/editor"],function(e,t,n){function i(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn}function o(e,t,n,i,o){return 0===o?new r(e,t,n,i):new r(n,i,e,t)}t.isISelection=i,t.createWithDirection=o;var r=function(e){function t(t,n,i,o){this.selectionStartLineNumber=t,this.selectionStartColumn=n,this.positionLineNumber=i,this.positionColumn=o,e.call(this,t,n,i,o)}return __extends(t,e),t.prototype.clone=function(){return new t(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)},t.prototype.equalsSelection=function(e){return this.selectionStartLineNumber===e.selectionStartLineNumber&&this.selectionStartColumn===e.selectionStartColumn&&this.positionLineNumber===e.positionLineNumber&&this.positionColumn===e.positionColumn},t.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1},t.prototype.setEndPosition=function(e,n){return 0===this.getDirection()?new t(this.startLineNumber,this.startColumn,e,n):new t(e,n,this.startLineNumber,this.startColumn)},t.prototype.setStartPosition=function(e,n){return 0===this.getDirection()?new t(e,n,this.endLineNumber,this.endColumn):new t(this.endLineNumber,this.endColumn,e,n)},t}(n.Range);t.Selection=r}),define("vs/editor/modes/modes",["require","exports","vs/base/types"],function(e,t,n){function i(e){return null===e||"object"!=typeof e?!1:"string"!=typeof e.label||"string"!=typeof e.codeSnippet||"string"!=typeof e.type?!1:n.isUndefinedOrNull(e.highlights)||n.isArray(e.highlights)?n.isUndefinedOrNull(e.typeLabel)||"string"==typeof e.typeLabel?n.isUndefinedOrNull(e.documentationLabel)||"string"==typeof e.documentationLabel?!0:!1:!1:!1
}!function(e){e[e.None=0]="None",e[e.Open=1]="Open",e[e.Close=-1]="Close"}(t.Bracket||(t.Bracket={}));t.Bracket;t.isISuggestion=i,function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent"}(t.IndentAction||(t.IndentAction={}));t.IndentAction}),define("vs/editor/core/command/shiftCommand",["require","exports","vs/editor/core/range"],function(e,t,n){var i=function(){function e(e,t,n){this._configuration=e,this._isUnshift=t,this._selection=n}return e.prototype.getEditOperations=function(e,t){var i=this._selection.startLineNumber,o=this._selection.endLineNumber;1===this._selection.endColumn&&i!==o&&(o-=1);var r;if(this._isUnshift){var s=this._configuration.getIndentationOptions().tabSize;for(r=i;o>=r;r++){var a,u=e.getLineContent(r);if("	"===u.charAt(0))a=1;else for(a=0;a<u.length&&s>a;a++){if("	"===u.charAt(a)){a++;break}if(" "!==u.charAt(a))break}0!==a&&t.addEditOperation(new n.Range(r,1,r,a+1),null)}}else{var l=this._configuration.getOneIndent();for(r=i;o>=r;r++)t.addEditOperation(new n.Range(r,1,r,1),l)}this._selectionId=t.trackSelection(this._selection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},e}();t.ShiftCommand=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/command/replaceCommand",["require","exports","vs/editor/core/selection"],function(e,t,n){var i=function(){function e(e,t){this._range=e,this._text=t}return e.prototype.getText=function(){return this._text},e.prototype.getRange=function(){return this._range},e.prototype.setRange=function(e){this._range=e},e.prototype.getEditOperations=function(e,t){t.addEditOperation(this._range,this._text)},e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations(),o=i[0].range;return new n.Selection(o.endLineNumber,o.endColumn,o.endLineNumber,o.endColumn)},e}();t.ReplaceCommand=i;var o=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations(),o=i[0].range;return new n.Selection(o.startLineNumber,o.startColumn,o.startLineNumber,o.startColumn)},t}(i);t.ReplaceCommandWithoutChangingPosition=o;var r=function(e){function t(t,n,i,o){e.call(this,t,n),this._columnDeltaOffset=o,this._lineNumberDeltaOffset=i}return __extends(t,e),t.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations(),o=i[0].range;return new n.Selection(o.endLineNumber+this._lineNumberDeltaOffset,o.endColumn+this._columnDeltaOffset,o.endLineNumber+this._lineNumberDeltaOffset,o.endColumn+this._columnDeltaOffset)},t}(i);t.ReplaceCommandWithOffsetCursorState=r;var s=function(e){function t(t,n,i){e.call(this,t,n),this._initialSelection=i}return __extends(t,e),t.prototype.getEditOperations=function(t,n){e.prototype.getEditOperations.call(this,t,n),this._selectionId=n.trackSelection(this._initialSelection)},t.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},t}(i);t.ReplaceCommandThatPreservesSelection=s}),define("vs/editor/core/command/surroundSelectionCommand",["require","exports","vs/editor/core/range","vs/editor/core/selection"],function(e,t,n,i){var o=function(){function e(e,t,n){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=n}return e.prototype.getEditOperations=function(e,t){t.addEditOperation(new n.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addEditOperation(new n.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),o=n[0].range,r=n[1].range;return new i.Selection(o.endLineNumber,o.endColumn,r.endLineNumber,r.endColumn-this._charAfterSelection.length)},e}();t.SurroundSelectionCommand=o}),define("vs/editor/core/controller/cursorMoveHelper",["require","exports"],function(e,t){var n=function(){function e(e){this.configuration=e}return e.prototype.getLeftOfPosition=function(e,t,n){return n>1?n-=1:t>1&&(t-=1,n=e.getLineMaxColumn(t)),{lineNumber:t,column:n}},e.prototype.getRightOfPosition=function(e,t,n){return n<e.getLineMaxColumn(t)?n+=1:t<e.getLineCount()&&(t+=1,n=1),{lineNumber:t,column:n}},e.prototype.getPositionUp=function(e,t,n,i,o){var r=this.visibleColumnFromColumn(e,t,n)+i;return t-=o,1>t&&(t=1),n=this.columnFromVisibleColumn(e,t,r),i=r-this.visibleColumnFromColumn(e,t,n),{lineNumber:t,column:n,leftoverVisibleColumns:i}},e.prototype.getPositionDown=function(e,t,n,i,o){var r=this.visibleColumnFromColumn(e,t,n)+i;t+=o;var s=e.getLineCount();return t>s&&(t=s),n=this.columnFromVisibleColumn(e,t,r),i=r-this.visibleColumnFromColumn(e,t,n),{lineNumber:t,column:n,leftoverVisibleColumns:i}},e.prototype.getColumnAtBeginningOfLine=function(e,t,n){var i=e.getLineFirstNonWhitespaceColumn(t)||1;return n=1!==n&&i>=n?1:i},e.prototype.getColumnAtEndOfLine=function(e,t,n){var i=e.getLineMaxColumn(t),o=e.getLineLastNonWhitespaceColumn(t)||i;return n=n!==i&&n>=o?i:o},e.prototype.visibleColumnFromColumn=function(e,t,n){for(var i=e.getLineContent(t),o=0,r=0;n-1>r;r++)o="	"===i.charAt(r)?this.nextTabColumn(o):o+1;return o},e.prototype.columnFromVisibleColumn=function(e,t,n){for(var i=e.getLineContent(t),o=-1,r=0,s=0;s<i.length&&n>=r;s++)o=r,r="	"===i.charAt(s)?this.nextTabColumn(r):r+1;return r=Math.abs(n-r),o=Math.abs(n-o),o>r?s+1:s},e.prototype.nextTabColumn=function(e){return e+this.configuration.getIndentationOptions().tabSize-e%this.configuration.getIndentationOptions().tabSize},e}();t.ModelCursorMoveHelper=n}),define("vs/editor/core/controller/oneCursor",["require","exports","vs/editor/editor","vs/base/strings","vs/editor/modes/modes","vs/editor/core/position","vs/editor/core/range","vs/editor/core/command/shiftCommand","vs/editor/core/command/replaceCommand","vs/editor/core/command/surroundSelectionCommand","vs/editor/core/selection","vs/base/errors","vs/editor/core/controller/cursorMoveHelper"],function(e,t,n,i,o,r,s,a,u,l,c,d,h){var p=function(){function e(e,t,n,i,o){this.editorId=e,this.model=t,this.configuration=n,this.modeConfiguration=i,this.viewModelHelper=o,this.helper=new f(this.model,this.configuration),this.position=new r.Position(1,1),this.viewPosition=new r.Position(1,1),this.positionMarkerId=null,this.inSelectionMode=!1,this.selectionStart=null,this.viewSelectionStart=null,this.selStartMarkerId=null,this.selEndMarkerId=null,this.leftoverVisibleColumns=0,this.selectionStartLeftoverVisibleColumns=0,this.bracketDecorations=[],this._cachedSelection=null,this._cachedViewSelection=null,this._stopSelectionMode(),this._setPosition(1,1,1,1,0)}return e.prototype.updateModeConfiguration=function(e){this.modeConfiguration=e},e.prototype.duplicate=function(){var t=new e(this.editorId,this.model,this.configuration,this.modeConfiguration,this.viewModelHelper);return t.setSelection(this.getSelection()),t.leftoverVisibleColumns=this.leftoverVisibleColumns,t.selectionStartLeftoverVisibleColumns=this.selectionStartLeftoverVisibleColumns,t},e.prototype.dispose=function(){this.positionMarkerId&&(this.model._removeMarker(this.positionMarkerId),this.positionMarkerId=null),this.selStartMarkerId&&(this.model._removeMarker(this.selStartMarkerId),this.selStartMarkerId=null),this.selEndMarkerId&&(this.model._removeMarker(this.selEndMarkerId),this.selEndMarkerId=null),this.bracketDecorations=this.model.deltaDecorations(this.bracketDecorations,[],this.editorId)},e.prototype.adjustBracketDecorations=function(){var e=null,t=this.getSelection();t.isEmpty()&&!this.configuration.editor.readOnly&&(e=this.model.matchBracket(this.position,!0));var n=[];if(e&&e.brackets){var i={stickiness:1,isOverlay:!1,className:"bracket-match"};n.push({range:e.brackets[0],options:i}),n.push({range:e.brackets[1],options:i})}this.bracketDecorations=this.model.deltaDecorations(this.bracketDecorations,n,this.editorId)},e.computeSelection=function(e,t,n){var i,o,r,s;return e?t.isEmpty()?(i=t.startLineNumber,o=t.startColumn,r=n.lineNumber,s=n.column):n.isBeforeOrEqual(t.getStartPosition())?(i=t.endLineNumber,o=t.endColumn,r=n.lineNumber,s=n.column):(i=t.startLineNumber,o=t.startColumn,r=n.lineNumber,s=n.column):(i=n.lineNumber,o=n.column,r=n.lineNumber,s=n.column),new c.Selection(i,o,r,s)},e.prototype.getSelection=function(){return this._cachedSelection||(this._cachedSelection=e.computeSelection(this.inSelectionMode,this.selectionStart,this.position)),this._cachedSelection},e.prototype.getViewSelection=function(){return this._cachedViewSelection||(this._cachedViewSelection=e.computeSelection(this.inSelectionMode,this.viewSelectionStart,this.viewPosition)),this._cachedViewSelection},e.prototype.setSelection=function(e){var t=this.model.validatePosition({lineNumber:e.selectionStartLineNumber,column:e.selectionStartColumn}),n=this.model.validatePosition({lineNumber:e.positionLineNumber,column:e.positionColumn});t.equals(n)?this._stopSelectionMode():this._startSelectionModeFromPosition(t,this.viewModelHelper.convertModelPositionToViewPosition(t.lineNumber,t.column));var i=this.viewModelHelper.convertModelPositionToViewPosition(n.lineNumber,n.column);this._setPosition(n.lineNumber,n.column,i.lineNumber,i.column)},e.prototype.getPosition=function(){return this.position},e.prototype.getViewPosition=function(){return this.viewPosition},e.prototype._getValidViewPosition=function(){return this.viewModelHelper.validateViewPosition(this.viewPosition.lineNumber,this.viewPosition.column,this.position)},e.prototype._setPosition=function(e,t,n,i,o){"undefined"==typeof o&&(o=0),this.inSelectionMode&&this.viewSelectionStart.isEmpty()&&this.viewSelectionStart.startLineNumber===n&&this.viewSelectionStart.startColumn===i&&this._stopSelectionMode(),this.position=new r.Position(e,t),this.viewPosition=new r.Position(n,i),this.leftoverVisibleColumns=o,this.selectionStartLeftoverVisibleColumns=0,this._cachedSelection=null,this._cachedViewSelection=null,this.positionMarkerId?this.model._changeMarker(this.positionMarkerId,this.position.lineNumber,this.position.column):this.positionMarkerId=this.model._addMarker(this.position.lineNumber,this.position.column,!0)},e.prototype._startSelectionModeFromPosition=function(e,t){this.inSelectionMode=!0,this.selectionStart=new s.Range(e.lineNumber,e.column,e.lineNumber,e.column),this.viewSelectionStart=new s.Range(t.lineNumber,t.column,t.lineNumber,t.column),this._cachedSelection=null,this._cachedViewSelection=null,this._ensureSelectionMarkers()},e.prototype._startSelectionModeFromRange=function(e,t){this.inSelectionMode=!0,this.selectionStart=e,this.viewSelectionStart=t,this._cachedSelection=null,this._cachedViewSelection=null,this._ensureSelectionMarkers()},e.prototype._stopSelectionMode=function(){this.inSelectionMode=!1,this.selectionStart=null,this.viewSelectionStart=null,this._cachedSelection=null,this._cachedViewSelection=null,this._ensureSelectionMarkers()},e.prototype._ensureSelectionMarkers=function(){this.inSelectionMode?(this.selStartMarkerId?this.model._changeMarker(this.selStartMarkerId,this.selectionStart.startLineNumber,this.selectionStart.startColumn):this.selStartMarkerId=this.model._addMarker(this.selectionStart.startLineNumber,this.selectionStart.startColumn,!0),this.selEndMarkerId?this.model._changeMarker(this.selEndMarkerId,this.selectionStart.endLineNumber,this.selectionStart.endColumn):this.selEndMarkerId=this.model._addMarker(this.selectionStart.endLineNumber,this.selectionStart.endColumn,!0)):(this.selStartMarkerId&&(this.model._removeMarker(this.selStartMarkerId),this.selStartMarkerId=null),this.selEndMarkerId&&(this.model._removeMarker(this.selEndMarkerId),this.selEndMarkerId=null))},e.prototype._moveModelPosition=function(e,t,n,i,o,r,s){var a=this.viewModelHelper.convertModelPositionToViewPosition(i,o);this._actualMove(e,t,n,i,o,a.lineNumber,a.column,r,s)},e.prototype._moveViewPosition=function(e,t,n,i,o,r,s){var a=this.viewModelHelper.convertViewToModelPosition(i,o);this._actualMove(e,t,n,a.lineNumber,a.column,i,o,r,s)},e.prototype._actualMove=function(e,t,n,i,o,r,s,a,u){if(t&&(e.cursorPositionChangeReason=t),n&&!this.inSelectionMode?this._startSelectionModeFromPosition(this.position,this.viewPosition):!n&&this.inSelectionMode&&this._stopSelectionMode(),u){var l=this.model.getEditableRange();i<l.startLineNumber||i===l.startLineNumber&&o<l.startColumn?(i=l.startLineNumber,o=l.startColumn):(i>l.endLineNumber||i===l.endLineNumber&&o>l.endColumn)&&(i=l.endLineNumber,o=l.endColumn)}this._setPosition(i,o,r,s,a)},e.prototype.recoverSelectionFromMarkers=function(e){e.cursorPositionChangeReason="recoverFromMarkers",e.shouldPushStackElementBefore=!0,e.shouldPushStackElementAfter=!0,e.shouldReveal=!1,e.shouldRevealHorizontal=!1;var t=this.model._getMarker(this.positionMarkerId),n=new r.Position(t.lineNumber,t.column),i=null,o=null,a=null,u=null;if(this.selStartMarkerId&&this.selEndMarkerId){var l=this.model._getMarker(this.selStartMarkerId),c=this.model._getMarker(this.selEndMarkerId);if(i=new s.Range(l.lineNumber,l.column,c.lineNumber,c.column),i.isEmpty())a=new r.Position(i.startLineNumber,i.startColumn),i=null,a.equals(n)?a=null:u=this.viewModelHelper.convertModelPositionToViewPosition(a.lineNumber,a.column);else{var d=this.viewModelHelper.convertModelPositionToViewPosition(i.startLineNumber,i.startColumn),h=this.viewModelHelper.convertModelPositionToViewPosition(i.endLineNumber,i.endColumn);o=new s.Range(d.lineNumber,d.column,h.lineNumber,h.column)}}i?this._startSelectionModeFromRange(i,o):a?this._startSelectionModeFromPosition(a,u):this._stopSelectionMode();var p=this.viewModelHelper.convertModelPositionToViewPosition(n.lineNumber,n.column);return this._setPosition(n.lineNumber,n.column,p.lineNumber,p.column),!0},e.prototype.jumpToBracket=function(e){var t=this.bracketDecorations.length;if(2!==t)return!1;for(var n=0;2>n;n++){var i=this.model.getDecorationRange(this.bracketDecorations[n]),o=this.model.getDecorationRange(this.bracketDecorations[1-n]);if(g.isPositionAtRangeEdges(this.position,i)||g.isPositionInsideRange(this.position,i))return this._moveModelPosition(e,null,!1,o.startLineNumber,o.startColumn,0,!1),!0}return!1},e.prototype.moveTo=function(e,t,n,i,o){var r,s=this.model.validatePosition(t);r=n?this.viewModelHelper.validateViewPosition(n.lineNumber,n.column,s):this.viewModelHelper.convertModelPositionToViewPosition(s.lineNumber,s.column);var a="mouse"===i?"explicit":null;return"api"===i&&(o.shouldRevealVerticalInCenter=!0),this._moveViewPosition(o,a,e,r.lineNumber,r.column,0,!1),!0},e.prototype.moveLeft=function(e,t){var n,i;if(this.inSelectionMode&&!e){var o=this.getViewSelection(),r=this.viewModelHelper.validateViewPosition(o.startLineNumber,o.startColumn,this.getSelection().getStartPosition());n=r.lineNumber,i=r.column}else{var s=this._getValidViewPosition(),a=this.helper.getLeftOfPosition(this.viewModelHelper.viewModel,s.lineNumber,s.column);n=a.lineNumber,i=a.column}return this._moveViewPosition(t,"explicit",e,n,i,0,!0),!0},e.prototype.moveWordLeft=function(e,t){var n=this.position.lineNumber,i=this.position.column,o=!1;1===i&&n>1&&(o=!0,n-=1,i=this.model.getLineMaxColumn(n));var s=this.helper.findWord(new r.Position(n,i),"left",!0);return i=s?o||i>s.end+1?s.end+1:s.start+1:1,this._moveModelPosition(t,"explicit",e,n,i,0,!0),!0},e.prototype.moveRight=function(e,t){var n,i;if(this.inSelectionMode&&!e){var o=this.getViewSelection(),r=this.viewModelHelper.validateViewPosition(o.endLineNumber,o.endColumn,this.getSelection().getEndPosition());n=r.lineNumber,i=r.column}else{var s=this._getValidViewPosition(),a=this.helper.getRightOfPosition(this.viewModelHelper.viewModel,s.lineNumber,s.column);n=a.lineNumber,i=a.column}return this._moveViewPosition(t,"explicit",e,n,i,0,!0),!0},e.prototype.moveWordRight=function(e,t){var n=this.position.lineNumber,i=this.position.column,o=!1;i===this.model.getLineMaxColumn(n)&&n<this.model.getLineCount()&&(o=!0,n+=1,i=1);var s=this.helper.findWord(new r.Position(n,i),"right",!0);return i=s?o||i<s.start+1?s.start+1:s.end+1:this.model.getLineMaxColumn(n),this._moveModelPosition(t,"explicit",e,n,i,0,!0),!0},e.prototype.moveDown=function(e,t,n){var i,o,r=t?this.configuration.editor.pageSize:1;if(this.inSelectionMode&&!e){var s=this.getViewSelection(),a=this.viewModelHelper.validateViewPosition(s.endLineNumber,s.endColumn,this.getSelection().getEndPosition());i=a.lineNumber,o=a.column}else{var u=this._getValidViewPosition();i=u.lineNumber,o=u.column}var l=this.helper.getPositionDown(this.viewModelHelper.viewModel,i,o,this.leftoverVisibleColumns,r);return this._moveViewPosition(n,"explicit",e,l.lineNumber,l.column,l.leftoverVisibleColumns,!0),!0},e.prototype.translateDown=function(e){var t=this.getViewSelection(),n=this.helper.getPositionDown(this.viewModelHelper.viewModel,t.selectionStartLineNumber,t.selectionStartColumn,this.selectionStartLeftoverVisibleColumns,1);this._moveViewPosition(e,"explicit",!1,n.lineNumber,n.column,this.leftoverVisibleColumns,!0);var i=this.helper.getPositionDown(this.viewModelHelper.viewModel,t.positionLineNumber,t.positionColumn,this.leftoverVisibleColumns,1);return this._moveViewPosition(e,"explicit",!0,i.lineNumber,i.column,i.leftoverVisibleColumns,!0),this.selectionStartLeftoverVisibleColumns=n.leftoverVisibleColumns,!0},e.prototype.moveUp=function(e,t,n){var i,o,r=t?this.configuration.editor.pageSize:1;if(this.inSelectionMode&&!e){var s=this.getViewSelection(),a=this.viewModelHelper.validateViewPosition(s.startLineNumber,s.startColumn,this.getSelection().getStartPosition());i=a.lineNumber,o=a.column}else{var u=this._getValidViewPosition();i=u.lineNumber,o=u.column}var l=this.helper.getPositionUp(this.viewModelHelper.viewModel,i,o,this.leftoverVisibleColumns,r);return this._moveViewPosition(n,"explicit",e,l.lineNumber,l.column,l.leftoverVisibleColumns,!0),!0},e.prototype.translateUp=function(e){var t=this.getViewSelection(),n=this.helper.getPositionUp(this.viewModelHelper.viewModel,t.selectionStartLineNumber,t.selectionStartColumn,this.selectionStartLeftoverVisibleColumns,1);this._moveViewPosition(e,"explicit",!1,n.lineNumber,n.column,this.leftoverVisibleColumns,!0);var i=this.helper.getPositionUp(this.viewModelHelper.viewModel,t.positionLineNumber,t.positionColumn,this.leftoverVisibleColumns,1);return this._moveViewPosition(e,"explicit",!0,i.lineNumber,i.column,i.leftoverVisibleColumns,!0),this.selectionStartLeftoverVisibleColumns=n.leftoverVisibleColumns,!0},e.prototype.moveToBeginningOfLine=function(e,t){var n=this._getValidViewPosition(),i=n.lineNumber,o=n.column;return o=this.helper.getColumnAtBeginningOfLine(this.viewModelHelper.viewModel,i,o),this._moveViewPosition(t,"explicit",e,i,o,0,!0),!0},e.prototype.moveToEndOfLine=function(e,t){var n=this._getValidViewPosition(),i=n.lineNumber,o=n.column;return o=this.helper.getColumnAtEndOfLine(this.viewModelHelper.viewModel,i,o),this._moveViewPosition(t,"explicit",e,i,o,0,!0),!0},e.prototype.moveToBeginningOfBuffer=function(e,t){return this._moveModelPosition(t,"explicit",e,1,1,0,!0),!0},e.prototype.moveToEndOfBuffer=function(e,t){var n=this.model.getLineCount(),i=this.model.getLineMaxColumn(n);return this._moveModelPosition(t,"explicit",e,n,i,0,!0),!0},e.prototype.selectAll=function(e){var t,n,i,o,r=!0;if(this.model.hasEditableRange()){var s=this.model.getEditableRange(),a=this.getSelection();a.equalsRange(s)||(r=!1,t=s.startLineNumber,n=s.startColumn,i=s.endLineNumber,o=s.endColumn)}return r&&(t=1,n=1,i=this.model.getLineCount(),o=this.model.getLineMaxColumn(i)),this._moveModelPosition(e,null,!1,t,n,0,!1),this._moveModelPosition(e,null,!0,i,o,0,!1),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},e.prototype.line=function(e,t,n,i){var o,r=this.model.validatePosition(t);o=n?this.viewModelHelper.validateViewPosition(n.lineNumber,n.column,r):this.viewModelHelper.convertModelPositionToViewPosition(r.lineNumber,r.column);var a,u;if(e&&this.inSelectionMode)a=o.lineNumber,u=r.isBeforeOrEqual(this.selectionStart.getStartPosition())?1:this.viewModelHelper.viewModel.getLineMaxColumn(a);else{var l=new s.Range(o.lineNumber,1,o.lineNumber,this.viewModelHelper.viewModel.getLineMaxColumn(o.lineNumber)),c=this.viewModelHelper.convertViewToModelPosition(l.startLineNumber,l.startColumn),d=this.viewModelHelper.convertViewToModelPosition(l.endLineNumber,l.endColumn);this._startSelectionModeFromRange(new s.Range(c.lineNumber,c.column,d.lineNumber,d.column),l),a=l.endLineNumber,u=l.endColumn}i.cursorPositionChangeReason="explicit",i.shouldRevealHorizontal=!1;var h=this.viewModelHelper.convertViewToModelPosition(a,u);return this._setPosition(h.lineNumber,h.column,a,u,0),!0},e.prototype.word=function(e,t,n,i){var o,r,a,u,l=this.model.validatePosition(t),c=this.helper.findWord(l,n);if(e&&this.inSelectionMode)o=c?c.start+1:l.column,r=c?c.end+1:l.column,a=l.lineNumber,u=l.isBeforeOrEqual(this.selectionStart.getStartPosition())?o:r;else{if(c)o=c.start+1,r=c.end+1;else{var d=this.model.getLineMaxColumn(l.lineNumber);l.column===d||"left"===n?(o=l.column-1,r=l.column):(o=l.column,r=l.column+1),1>=o&&(o=1),r>=d&&(r=d)}var h=new s.Range(l.lineNumber,o,l.lineNumber,r),p=this.viewModelHelper.convertModelPositionToViewPosition(l.lineNumber,o),f=this.viewModelHelper.convertModelPositionToViewPosition(l.lineNumber,r);this._startSelectionModeFromRange(h,new s.Range(p.lineNumber,p.column,f.lineNumber,f.column)),a=h.endLineNumber,u=h.endColumn}i.cursorPositionChangeReason="explicit";var g=this.viewModelHelper.convertModelPositionToViewPosition(a,u);return this._setPosition(a,u,g.lineNumber,g.column,0),!0},e.prototype.cancelSelection=function(){return this.inSelectionMode?(this._stopSelectionMode(),!0):!1},e.prototype._typeInterceptorEnter=function(e,t){return"\n"!==e?!1:this._enter(!1,t)},e.prototype.lineInsertBefore=function(e){var t=this.position.lineNumber,n=0;return t>1&&(t--,n=this.model.getLineMaxColumn(t)),this._enter(!1,e,new r.Position(t,n),new s.Range(t,n,t,n))},e.prototype.lineInsertAfter=function(e){var t=this.model.getLineMaxColumn(this.position.lineNumber);return this._enter(!1,e,new r.Position(this.position.lineNumber,t),new s.Range(this.position.lineNumber,t,this.position.lineNumber,t))},e.prototype.lineBreakInsert=function(e){return this._enter(!0,e)},e.prototype._enter=function(e,t,n,o){"undefined"==typeof n&&(n=this.position),"undefined"==typeof o&&(o=this.getSelection()),t.shouldPushStackElementBefore=!0;var r,s=this.model.getLineContent(n.lineNumber),a=this.model.getRawLineTokens(n.lineNumber);if(this.model.getMode().electricCharacterSupport)try{r=this.model.getMode().electricCharacterSupport.onEnter(s,a,n.column-1)}catch(l){d.onUnexpectedError(l)}var c=i.getLeadingWhitespace(s);if(c.length>n.column-1&&(c=c.substring(0,n.column-1)),r?(r.appendText?-1===i.firstNonWhitespaceIndex(r.appendText)&&(r.appendText=r.appendText):r.appendText=0===r.indentAction?"":"	",r.indentOutdentAppendText||(r.indentOutdentAppendText="")):r={indentAction:0,appendText:"",indentOutdentAppendText:""},0===r.indentAction)this.actualType("\n"+this.helper.normalizeIndentation(c+r.appendText),e,t,o);else if(1===r.indentAction)this.actualType("\n"+this.helper.normalizeIndentation(c+r.appendText),e,t,o);else if(2===r.indentAction){var h=this.helper.normalizeIndentation(c),p=this.helper.normalizeIndentation(c+r.appendText),f="\n"+p+"\n"+h+r.indentOutdentAppendText;t.executeCommand=e?new u.ReplaceCommandWithoutChangingPosition(o,f):new u.ReplaceCommandWithOffsetCursorState(o,f,-1,p.length-h.length)}return!0},e.prototype._typeInterceptorAutoClosingCloseChar=function(e,t){if(!this.configuration.editor.autoClosingBrackets)return!1;var n=this.getSelection();if(!n.isEmpty()||!this.modeConfiguration.autoClosingPairsClose.hasOwnProperty(e))return!1;var i=this.model.getLineContent(this.position.lineNumber),o=i[this.position.column-1];if(o!==e)return!1;var r=new s.Range(this.position.lineNumber,this.position.column,this.position.lineNumber,this.position.column+1);return t.executeCommand=new u.ReplaceCommand(r,e),!0},e.prototype._typeInterceptorAutoClosingOpenChar=function(e,t){if(!this.configuration.editor.autoClosingBrackets)return!1;var n=this.getSelection();if(!n.isEmpty()||!this.modeConfiguration.autoClosingPairsOpen.hasOwnProperty(e))return!1;if(!this.model.getMode().characterPairSupport)return!1;var i=this.model.getLineContent(this.position.lineNumber),o=i[this.position.column-1],r=this.modeConfiguration.autoClosingPairsOpen[e];if(o&&o!==r&&!/\s/.test(o))return!1;var s=this.model.getRawLineTokens(this.position.lineNumber),a=!1;try{a=this.model.getMode().characterPairSupport.shouldAutoClosePair(e,i,s,this.position.column-1)}catch(l){d.onUnexpectedError(l)}return a?(t.shouldPushStackElementBefore=!0,t.executeCommand=new u.ReplaceCommandWithOffsetCursorState(n,e+r,0,-r.length),!0):!1},e.prototype._typeInterceptorSurroundSelection=function(e,t){if(!this.configuration.editor.autoClosingBrackets)return!1;var n=this.getSelection();if(n.isEmpty()||!this.modeConfiguration.surroundingPairs.hasOwnProperty(e))return!1;var i,o,r,s,a,u,c=!0,d="	".charCodeAt(0),h=" ".charCodeAt(0);for(i=n.startLineNumber;i<=n.endLineNumber;i++)for(u=this.model.getLineContent(i),o=i===n.startLineNumber?n.startColumn-1:0,r=i===n.endLineNumber?n.endColumn-1:u.length,s=o;r>s;s++)a=u.charCodeAt(s),a!==d&&a!==h&&(c=!1,i=n.endLineNumber+1,s=r);if(c)return!1;var p=this.modeConfiguration.surroundingPairs[e];return t.shouldPushStackElementBefore=!0,t.shouldPushStackElementAfter=!0,t.executeCommand=new l.SurroundSelectionCommand(n,e,p),!0},e.prototype._typeInterceptorElectricChar=function(e,t){var n=this;return this.modeConfiguration.electricChars.hasOwnProperty(e)?(t.postOperationRunnable=function(e){return n._typeInterceptorElectricCharRunnable(e)},this.actualType(e,!1,t)):!1},e.prototype._typeInterceptorElectricCharRunnable=function(e){var t,n=this.model.getLineContent(this.position.lineNumber),o=this.model.getRawLineTokens(this.position.lineNumber);if(this.model.getMode().electricCharacterSupport)try{t=this.model.getMode().electricCharacterSupport.onElectricCharacter(n,o,this.position.column-2)}catch(r){d.onUnexpectedError(r)}if(t){var a=t.matchBracketType,l=t.appendText;if(a){var c=null;if(a&&(c=this.model.findMatchingBracketUp(a,this.position)),c){var h=c.startLineNumber,p=this.model.getLineContent(h),f=i.getLeadingWhitespace(p),g=this.helper.normalizeIndentation(f),m=this.model.getLineFirstNonWhitespaceColumn(this.position.lineNumber)||this.position.column,v=n.substring(0,m-1);if(v!==g){var y=n.substring(m-1,this.position.column-1),_=g+y,b=new s.Range(this.position.lineNumber,1,this.position.lineNumber,this.position.column);e.shouldPushStackElementAfter=!0,e.executeCommand=new u.ReplaceCommand(b,_)}}}else if(l){var C=-l.length;t.advanceCount&&(C+=t.advanceCount),e.shouldPushStackElementAfter=!0,e.executeCommand=new u.ReplaceCommandWithOffsetCursorState(this.getSelection(),l,0,C)}}},e.prototype.actualType=function(e,t,n,i){return"undefined"==typeof i&&(i=this.getSelection()),n.executeCommand=t?new u.ReplaceCommandWithoutChangingPosition(i,e):new u.ReplaceCommand(i,e),!0},e.prototype.type=function(e,t){return this._typeInterceptorEnter(e,t)?!0:this._typeInterceptorAutoClosingCloseChar(e,t)?!0:this._typeInterceptorAutoClosingOpenChar(e,t)?!0:this._typeInterceptorSurroundSelection(e,t)?!0:this._typeInterceptorElectricChar(e,t)?!0:this.actualType(e,!1,t)},e.prototype.tab=function(e){if(this.configuration.editor.tabFocusMode)return!1;var t=this.getSelection();if(t.isEmpty()){var n="";if(this.configuration.getIndentationOptions().insertSpaces)for(var i=this.helper.nextTabColumn(this.position.column-1),o=this.position.column;i>=o;o++)n+=" ";else n="	";e.executeCommand=new u.ReplaceCommand(t,n)}else e.shouldPushStackElementBefore=!0,e.shouldPushStackElementAfter=!0,this.indent(e);return!0},e.prototype.indent=function(e){var t=this.getSelection();return e.executeCommand=new a.ShiftCommand(this.configuration,!1,t),e.shouldRevealHorizontal=!1,!0},e.prototype.outdent=function(e){if(this.configuration.editor.tabFocusMode)return!1;var t=this.getSelection();return e.executeCommand=new a.ShiftCommand(this.configuration,!0,t),e.shouldRevealHorizontal=!1,!0},e.prototype.paste=function(e,t,n){if(t&&"\n"===e.charAt(e.length-1)&&e.indexOf("\n")===e.length-1){var i=new s.Range(this.position.lineNumber,1,this.position.lineNumber,1);return n.executeCommand=new u.ReplaceCommand(i,e),!0}return n.executeCommand=new u.ReplaceCommand(this.getSelection(),e),!0},e.prototype._autoClosingPairDelete=function(e){if(!this.configuration.editor.autoClosingBrackets)return!1;var t=this.model.getLineContent(this.position.lineNumber),n=t[this.position.column-2];if(!this.modeConfiguration.autoClosingPairsOpen.hasOwnProperty(n))return!1;var i=t[this.position.column-1],o=this.modeConfiguration.autoClosingPairsOpen[n];if(i!==o)return!1;var r=new s.Range(this.position.lineNumber,this.position.column-1,this.position.lineNumber,this.position.column+1);return e.executeCommand=new u.ReplaceCommand(r,""),!0},e.prototype.deleteLeft=function(e){if(this._autoClosingPairDelete(e))return!0;var t=this.getSelection();if(t.isEmpty()){var n=this.helper.getLeftOfPosition(this.model,this.position.lineNumber,this.position.column);t=new s.Range(n.lineNumber,n.column,this.position.lineNumber,this.position.column)}return t.isEmpty()?!0:(t.startLineNumber!==t.endLineNumber&&(e.shouldPushStackElementBefore=!0),e.executeCommand=new u.ReplaceCommand(t,""),!0)},e.prototype.deleteWordLeft=function(e){if(this._autoClosingPairDelete(e))return!0;var t=this.getSelection();if(t.isEmpty()){var n=this.position.lineNumber,i=this.position.column;if(1===n&&1===i)return!0;var o=this.helper.findWord(this.position,"left",!0);i=o?o.end+1<i?o.end+1:o.start+1:1;var r=new s.Range(n,i,n,this.position.column);if(!r.isEmpty())return e.executeCommand=new u.ReplaceCommand(r,""),!0}return this.deleteLeft(e)},e.prototype.deleteRight=function(e){var t=this.getSelection();if(t.isEmpty()){var n=this.helper.getRightOfPosition(this.model,this.position.lineNumber,this.position.column);t=new s.Range(n.lineNumber,n.column,this.position.lineNumber,this.position.column)}return t.isEmpty()?!0:(t.startLineNumber!==t.endLineNumber&&(e.shouldPushStackElementBefore=!0),e.executeCommand=new u.ReplaceCommand(t,""),!0)},e.prototype.deleteWordRight=function(e){var t=this.getSelection();if(t.isEmpty()){var n=this.position.lineNumber,i=this.position.column,o=this.model.getLineCount(),a=this.model.getLineMaxColumn(n);if(n===o&&i===a)return!0;var l=this.helper.findWord(new r.Position(n,i),"right",!0);i=l?l.start+1>i?l.start+1:l.end+1:a;var c=new s.Range(n,i,n,this.position.column);if(!c.isEmpty())return e.executeCommand=new u.ReplaceCommand(c,""),!0}return this.deleteRight(e)},e.prototype.deleteAllLeft=function(e){if(this._autoClosingPairDelete(e))return!0;var t=this.getSelection();if(t.isEmpty()){var n=this.position.lineNumber,i=this.position.column;if(1===i)return!0;var o=new s.Range(n,1,n,i);if(!o.isEmpty())return e.executeCommand=new u.ReplaceCommand(o,""),!0}return this.deleteLeft(e)},e.prototype.deleteAllRight=function(e){var t=this.getSelection();if(t.isEmpty()){var n=this.position.lineNumber,i=this.position.column,o=this.model.getLineMaxColumn(n);if(i===o)return!0;var r=new s.Range(n,i,n,o);if(!r.isEmpty())return e.executeCommand=new u.ReplaceCommand(r,""),!0}return this.deleteRight(e)},e.prototype.cut=function(e){var t=this.getSelection();return t.isEmpty()?!1:(this.deleteRight(e),!0)},e}();t.OneCursor=p;var f=function(){function e(e,t){this.model=e,this.configuration=t,this.moveHelper=new h.ModelCursorMoveHelper(this.configuration)}return e.prototype.getLeftOfPosition=function(e,t,n){return this.moveHelper.getLeftOfPosition(e,t,n)},e.prototype.getRightOfPosition=function(e,t,n){return this.moveHelper.getRightOfPosition(e,t,n)
},e.prototype.getPositionUp=function(e,t,n,i,o){return this.moveHelper.getPositionUp(e,t,n,i,o)},e.prototype.getPositionDown=function(e,t,n,i,o){return this.moveHelper.getPositionDown(e,t,n,i,o)},e.prototype.getColumnAtBeginningOfLine=function(e,t,n){return this.moveHelper.getColumnAtBeginningOfLine(e,t,n)},e.prototype.getColumnAtEndOfLine=function(e,t,n){return this.moveHelper.getColumnAtEndOfLine(e,t,n)},e.prototype.normalizeIndentation=function(e){return this.configuration.normalizeIndentation(e)},e.prototype.nextTabColumn=function(e){return e+this.configuration.getIndentationOptions().tabSize-e%this.configuration.getIndentationOptions().tabSize},e.prototype.findWord=function(e,t,n){"undefined"==typeof n&&(n=!1);var i,o,r,s=this.model.getWords(e.lineNumber,n,!0);if(n){if(i=e.column-1,"left"===t){for(o=s.length-1;o>=0;o--)if(!(s[o].start>=i))return s[o]}else for(o=0,r=s.length;r>o;o++)if(!(s[o].end<=i))return s[o]}else for(i=e.column,"left"===t?1!==i&&(i-=.1):i!==this.model.getLineMaxColumn(e.lineNumber)&&(i+=.1),i-=1,o=0,r=s.length;r>o;o++)if(s[o].start<=i&&i<=s[o].end)return s[o];return null},e}(),g=function(){function e(){}return e.rangeContainsPosition=function(e,t){return t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber?!1:t.lineNumber===e.startLineNumber&&t.column<e.startColumn?!1:t.lineNumber===e.endLineNumber&&t.column>e.endColumn?!1:!0},e.isPositionInsideRange=function(e,t){return e.lineNumber<t.startLineNumber?!1:e.lineNumber>t.endLineNumber?!1:e.lineNumber===t.startLineNumber&&e.column<t.startColumn?!1:e.lineNumber===t.endLineNumber&&e.column>t.endColumn?!1:!0},e.isPositionAtRangeEdges=function(e,t){return e.lineNumber===t.startLineNumber&&e.column===t.startColumn?!0:e.lineNumber===t.endLineNumber&&e.column===t.endColumn?!0:!1},e}()}),define("vs/editor/core/controller/cursorCollection",["require","exports","vs/editor/core/controller/oneCursor","vs/editor/core/selection","vs/base/errors"],function(e,t,n,i,o){var r=function(){function e(e,t,i,o){this.editorId=e,this.model=t,this.configuration=i,this.viewModelHelper=o,this.modeConfiguration=this.getModeConfiguration(),this.primaryCursor=new n.OneCursor(this.editorId,this.model,this.configuration,this.modeConfiguration,this.viewModelHelper),this.secondaryCursors=[],this.lastAddedCursorIndex=0}return e.prototype.dispose=function(){this.primaryCursor.dispose(),this.killSecondaryCursors()},e.prototype.updateMode=function(){var e=this;this.modeConfiguration=this.getModeConfiguration(),this.getAll().forEach(function(t){t.updateModeConfiguration(e.modeConfiguration)})},e.prototype.getAll=function(){var e=[];return e.push(this.primaryCursor),e=e.concat(this.secondaryCursors)},e.prototype.getPosition=function(e){return 0===e?this.primaryCursor.getPosition():this.secondaryCursors[e-1].getPosition()},e.prototype.getViewPosition=function(e){return 0===e?this.primaryCursor.getViewPosition():this.secondaryCursors[e-1].getViewPosition()},e.prototype.getPositions=function(){var e=[];e.push(this.primaryCursor.getPosition());for(var t=0,n=this.secondaryCursors.length;n>t;t++)e.push(this.secondaryCursors[t].getPosition());return e},e.prototype.getViewPositions=function(){var e=[];e.push(this.primaryCursor.getViewPosition());for(var t=0,n=this.secondaryCursors.length;n>t;t++)e.push(this.secondaryCursors[t].getViewPosition());return e},e.prototype.getSelection=function(e){return 0===e?this.primaryCursor.getSelection():this.secondaryCursors[e-1].getSelection()},e.prototype.getSelections=function(){var e=[];e.push(this.primaryCursor.getSelection());for(var t=0,n=this.secondaryCursors.length;n>t;t++)e.push(this.secondaryCursors[t].getSelection());return e},e.prototype.getViewSelections=function(){var e=[];e.push(this.primaryCursor.getViewSelection());for(var t=0,n=this.secondaryCursors.length;n>t;t++)e.push(this.secondaryCursors[t].getViewSelection());return e},e.prototype.setSelections=function(e){this.primaryCursor.setSelection(e[0]),this._setSecondarySelections(e.slice(1))},e.prototype.killSecondaryCursors=function(){return this._setSecondarySelections([])>0},e.prototype.normalize=function(){this._mergeCursorsIfNecessary(),this.primaryCursor.adjustBracketDecorations();for(var e=0,t=this.secondaryCursors.length;t>e;e++)this.secondaryCursors[e].adjustBracketDecorations()},e.prototype.addSecondaryCursor=function(e){var t=new n.OneCursor(this.editorId,this.model,this.configuration,this.modeConfiguration,this.viewModelHelper);e&&t.setSelection(e),this.secondaryCursors.push(t),this.lastAddedCursorIndex=this.secondaryCursors.length},e.prototype.duplicateCursors=function(){var e=[];e.push(this.primaryCursor.duplicate());for(var t=0,n=this.secondaryCursors.length;n>t;t++)e.push(this.secondaryCursors[t].duplicate());this.secondaryCursors=this.secondaryCursors.concat(e),this.lastAddedCursorIndex=this.secondaryCursors.length},e.prototype.getLastAddedCursor=function(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?this.primaryCursor:this.secondaryCursors[this.lastAddedCursorIndex-1]},e.prototype._setSecondarySelections=function(e){var t=this.secondaryCursors.length,n=e.length,i=n-t;if(n>t)for(var o=n-t,r=0;o>r;r++)this.addSecondaryCursor(null);else if(t>n)for(var s=t-n,r=0;s>r;r++)this._removeSecondaryCursor(this.secondaryCursors.length-1);for(var r=0;n>r;r++)e[r]&&this.secondaryCursors[r].setSelection(e[r]);return i},e.prototype._removeSecondaryCursor=function(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(),this.secondaryCursors.splice(e,1)},e.prototype._mergeCursorsIfNecessary=function(){if(0!==this.secondaryCursors.length){for(var e=this.getAll(),t=[],n=0;n<e.length;n++)t.push({index:n,selection:e[n].getSelection()});t.sort(function(e,t){return e.selection.startLineNumber===t.selection.startLineNumber?e.selection.startColumn-t.selection.startColumn:e.selection.startLineNumber-t.selection.startLineNumber});for(var o=0;o<t.length-1;o++){var r=t[o],s=t[o+1],a=r.selection,u=s.selection;if(u.getStartPosition().isBeforeOrEqual(a.getEndPosition())){var l=r.index<s.index?o:o+1,c=r.index<s.index?o+1:o,d=t[c].index,h=t[l].index,p=t[c].selection,f=t[l].selection;if(!p.equalsSelection(f)){var g,m=p.plusRange(f),v=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn,y=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn;d===this.lastAddedCursorIndex?(g=v,this.lastAddedCursorIndex=h):g=y;var _;_=g?new i.Selection(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn):new i.Selection(m.endLineNumber,m.endColumn,m.startLineNumber,m.startColumn),t[l].selection=_,e[h].setSelection(_)}for(var b=0;b<t.length;b++)t[b].index>d&&t[b].index--;e.splice(d,1),t.splice(c,1),this._removeSecondaryCursor(d-1),o--}}}},e.prototype.getModeConfiguration=function(){var e,t,n={electricChars:{},autoClosingPairsOpen:{},autoClosingPairsClose:{},surroundingPairs:{}};if(this.model.getMode().electricCharacterSupport)try{t=this.model.getMode().electricCharacterSupport.getElectricCharacters()}catch(i){o.onUnexpectedError(i),t=null}if(t)for(e=0;e<t.length;e++)n.electricChars[t[e]]=!0;var r;if(this.model.getMode().characterPairSupport)try{r=this.model.getMode().characterPairSupport.getAutoClosingPairs()}catch(i){o.onUnexpectedError(i),r=null}if(r)for(e=0;e<r.length;e++)n.autoClosingPairsOpen[r[e].open]=r[e].close,n.autoClosingPairsClose[r[e].close]=r[e].open;var s;if(this.model.getMode().characterPairSupport)try{s=this.model.getMode().characterPairSupport.getSurroundingPairs()}catch(i){o.onUnexpectedError(i),s=null}if(s)for(e=0;e<s.length;e++)n.surroundingPairs[s[e].open]=s[e].close;return n},e}();t.CursorCollection=r}),define("vs/base/lifecycle",["require","exports"],function(e,t){function n(e){for(var t=0,n=e.length;n>t;t++)e[t]&&e[t].dispose();return[]}function i(){for(var e=[],n=0;n<arguments.length-0;n++)e[n]=arguments[n+0];return{dispose:function(){return t.disposeAll(e)}}}function o(e){for(;e.length>0;)e.pop()();return e}t.disposeAll=n,t.combinedDispose=i,t.cAll=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/controller/cursor",["require","exports","vs/nls!vs/editor/editor.main","vs/editor/core/internalConstants","vs/editor/core/constants","vs/editor/core/range","vs/editor/core/selection","vs/base/eventEmitter","vs/editor/core/handlerDispatcher","vs/editor/editor","vs/editor/core/controller/cursorCollection","vs/base/errors","vs/editor/core/position","vs/base/lifecycle","vs/editor/core/command/replaceCommand"],function(e,t,n,i,o,r,s,a,u,l,c,d,h,p,f){var g=function(e){function t(t,n,i,r,s){var a=this;e.call(this,[o.EventType.CursorPositionChanged,o.EventType.CursorSelectionChanged,o.EventType.CursorRevealRange]),this.editorId=t,this.configuration=n,this.model=i,this.renderOnce=r,this.viewModelHelper=s,this.viewModelHelper||(this.viewModelHelper={viewModel:this.model,convertModelPositionToViewPosition:function(e,t){return new h.Position(e,t)},convertViewToModelPosition:function(e,t){return new h.Position(e,t)},validateViewPosition:function(e,t,n){return n}}),this.cursors=new c.CursorCollection(this.editorId,this.model,this.configuration,this.viewModelHelper),this.typingListeners={},this._isHandling=!1,this.modelUnbinds=[],this.modelUnbinds.push(this.model.addListener2(o.EventType.ModelContentChanged,function(e){a._onModelContentChanged(e)})),this.modelUnbinds.push(this.model.addListener2(o.EventType.ModelModeChanged,function(e){a._onModelModeChanged(e)})),this._registerHandlers()}return __extends(t,e),t.prototype.dispose=function(){this.modelUnbinds=p.disposeAll(this.modelUnbinds),this.model=null,this.cursors.dispose(),this.cursors=null,this.configuration.handlerDispatcher.clearHandlers(),this.configuration=null,this.renderOnce=null,this.viewModelHelper=null,e.prototype.dispose.call(this)},t.prototype.saveState=function(){for(var e,t=this.cursors.getSelections(),n=[],i=0;i<t.length;i++)e=t[i],n.push({inSelectionMode:!e.isEmpty(),selectionStart:{lineNumber:e.selectionStartLineNumber,column:e.selectionStartColumn},position:{lineNumber:e.positionLineNumber,column:e.positionColumn}});return n},t.prototype.restoreState=function(e){for(var t,n=this,i=[],o=0;o<e.length;o++){t=e[o];var r=1,s=1;t.position&&t.position.lineNumber&&(r=t.position.lineNumber),t.position&&t.position.column&&(s=t.position.column);var a=r,l=s;t.selectionStart&&t.selectionStart.lineNumber&&(a=t.selectionStart.lineNumber),t.selectionStart&&t.selectionStart.column&&(l=t.selectionStart.column),i.push({selectionStartLineNumber:a,selectionStartColumn:l,positionLineNumber:r,positionColumn:s})}this._onHandler("restoreState",function(){return n.cursors.setSelections(i),!1},new u.DispatcherEvent("restoreState",null))},t.prototype.setEditableRange=function(e){this.model.setEditableRange(e)},t.prototype.getEditableRange=function(){return this.model.getEditableRange()},t.prototype.addTypingListener=function(e,t){this.typingListeners.hasOwnProperty(e)||(this.typingListeners[e]=[]),this.typingListeners[e].push(t)},t.prototype.removeTypingListener=function(e,t){if(this.typingListeners.hasOwnProperty(e))for(var n=this.typingListeners[e],i=0;i<n.length;i++)if(n[i]===t)return n.splice(i,1),void 0},t.prototype._onModelModeChanged=function(){this.cursors.updateMode(),this.emitCursorPositionChanged("",""),this.emitCursorSelectionChanged("",""),this.emitCursorRevealRange(!1,!0)},t.prototype._onModelContentChanged=function(e){var t=this;e.changeType===o.EventType.ModelContentChangedFlush?(this.cursors.dispose(),this.cursors=new c.CursorCollection(this.editorId,this.model,this.configuration,this.viewModelHelper),this.emitCursorPositionChanged("",""),this.emitCursorSelectionChanged("",""),this.emitCursorRevealRange(!1,!0)):this._isHandling||this._onHandler("recoverSelectionFromMarkers",function(e){var n=t._invokeForAll(e,function(e,t,n){return t.recoverSelectionFromMarkers(n)});return e.shouldPushStackElementBefore=!1,e.shouldPushStackElementAfter=!1,n},new u.DispatcherEvent("modelChange",null))},t.prototype.getSelection=function(){return this.cursors.getSelection(0)},t.prototype.getSelections=function(){return this.cursors.getSelections()},t.prototype.getPosition=function(){return this.cursors.getPosition(0)},t.prototype.setSelections=function(e,t){var n=this;this._onHandler("setSelections",function(e){return e.shouldReveal=!1,n.cursors.setSelections(t),!1},new u.DispatcherEvent(e,null))},t.prototype._createAndInterpretHandlerCtx=function(e,t,n){var i={cursorPositionChangeReason:"",shouldReveal:!0,shouldRevealVerticalInCenter:!1,shouldRevealHorizontal:!0,eventSource:e,eventData:t,executeCommands:[],postOperationRunnables:[],shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1};n(i),this._interpretHandlerContext(i),this.cursors.normalize()},t.prototype._onHandler=function(e,t,n){var i=this;if(this._isHandling)throw new Error("Why am I recursive?");this._isHandling=!0,this.charactersTyped="";var o=!1;try{this.renderOnce(function(){var e,r,s,a,u=i.cursors.getSelections(),l=i.cursors.getViewSelections(),c=n.getSource();i._createAndInterpretHandlerCtx(c,n.getData(),function(n){o=t(n),e=n.cursorPositionChangeReason,r=n.shouldReveal,s=n.shouldRevealVerticalInCenter,a=n.shouldRevealHorizontal});for(var d=0;d<i.charactersTyped.length;d++){var h=i.charactersTyped.charAt(d);if(i.typingListeners.hasOwnProperty(h))for(var p=i.typingListeners[h].slice(0),f=0,g=p.length;g>f;f++)p[f]()}var m=i.cursors.getSelections(),v=i.cursors.getViewSelections(),y=!1;if(u.length!==m.length)y=!0;else{for(var d=0,_=u.length;!y&&_>d;d++)u[d].equalsSelection(m[d])||(y=!0);for(var d=0,_=l.length;!y&&_>d;d++)l[d].equalsSelection(v[d])||(y=!0)}y&&(i.emitCursorPositionChanged(c,e),r&&i.emitCursorRevealRange(s,a),i.emitCursorSelectionChanged(c,e))})}catch(r){d.onUnexpectedError(r)}return this._isHandling=!1,o},t.prototype._interpretHandlerContext=function(e){e.shouldPushStackElementBefore&&(this.model.pushStackElement(),e.shouldPushStackElementBefore=!1),this._internalExecuteCommands(e.executeCommands,e.postOperationRunnables),e.executeCommands=[],e.shouldPushStackElementAfter&&(this.model.pushStackElement(),e.shouldPushStackElementAfter=!1);for(var t=!1,n=0,i=e.postOperationRunnables.length;i>n;n++)if(e.postOperationRunnables[n]){t=!0;break}if(t){var o=e.postOperationRunnables.slice(0);e.postOperationRunnables=[],this._invokeForAll(e,function(e,t,n){return o[e]&&o[e](n),!1}),this._interpretHandlerContext(e)}},t.prototype._interpretCommandResult=function(e){return e?(this.cursors.setSelections(e),!0):!1},t.prototype._getEditOperationsFromCommand=function(e,t,i){var o=this,r=[],s=0,a=function(e,n){r.push({identifier:{major:t,minor:s++},range:e,text:n})},u=!1,l=function(t){var n,i;if(t.isEmpty()){var r=o.model.getLineMaxColumn(t.startLineNumber);t.startColumn===r?(n=!0,i=!0):(n=!1,i=!1)}else 0===t.getDirection()?(n=!1,i=!0):(n=!0,i=!1);var s=e.selectionStartMarkers.length;return e.selectionStartMarkers[s]=o.model._addMarker(t.selectionStartLineNumber,t.selectionStartColumn,n),e.positionMarkers[s]=o.model._addMarker(t.positionLineNumber,t.positionColumn,i),s.toString()},c={addEditOperation:a,trackSelection:l};try{i.getEditOperations(this.model,c)}catch(h){return h.friendlyMessage=n.localize("vs_editor_core_controller_cursor",0),d.onUnexpectedError(h),{operations:[],hadTrackedRange:!1}}return{operations:r,hadTrackedRange:u}},t.prototype._getEditOperations=function(e,t){for(var n,i,o=[],r=[],s=0;s<t.length;s++)t[s]?(n=this._getEditOperationsFromCommand(e,s,t[s]),o=o.concat(n.operations),r[s]=n.hadTrackedRange,i=i||r[s]):r[s]=!1;return{operations:o,hadTrackedRanges:r,anyoneHadTrackedRange:i}},t.prototype._getLoserCursorMap=function(e){e=e.slice(0),e.sort(function(e,t){return-r.compareRangesUsingEnds(e.range,t.range)});for(var t,n,i,o={},s=1;s<e.length;s++)if(t=e[s-1],n=e[s],t.range.getStartPosition().isBeforeOrEqual(n.range.getEndPosition())){i=t.identifier.major>n.identifier.major?t.identifier.major:n.identifier.major,o[i.toString()]=!0;for(var a=0;a<e.length;a++)e[a].identifier.major===i&&(e.splice(a,1),s>a&&s--,a--);s>0&&s--}return o},t.prototype._collapseDeleteCommands=function(e,t){if(1!==e.length){var n=e.every(function(e){if(!(e instanceof f.ReplaceCommand))return!1;var t=e;return t.getText().length>0?!1:!0});if(n){var i=e,o=i.map(function(e,n){return{range:i[n].getRange(),postOperationRunnable:t[n],order:n}});o.sort(function(e,t){return r.compareRangesUsingStarts(e.range,t.range)});for(var s=o[0],a=1;a<o.length;a++)if(s.range.endLineNumber===o[a].range.startLineNumber&&s.range.endColumn===o[a].range.startColumn){var u=new r.Range(s.range.startLineNumber,s.range.startColumn,o[a].range.endLineNumber,o[a].range.endColumn);s.range=u,i[o[a].order].setRange(u),i[s.order].setRange(u)}else s=o[a]}}},t.prototype._internalExecuteCommands=function(e,t){var n={selectionStartMarkers:[],positionMarkers:[]};this._collapseDeleteCommands(e,t);for(var i=this._innerExecuteCommands(n,e,t),o=0;o<n.selectionStartMarkers.length;o++)this.model._removeMarker(n.selectionStartMarkers[o]),this.model._removeMarker(n.positionMarkers[o]);return i},t.prototype._arrayIsEmpty=function(e){var t,n;for(t=0,n=e.length;n>t;t++)if(e[t])return!1;return!0},t.prototype._innerExecuteCommands=function(e,t,n){var i=this;if(this.configuration.editor.readOnly)return!1;if(this._arrayIsEmpty(t))return!1;var o=this.cursors.getSelections(),r=this._getEditOperations(e,t);if(0===r.operations.length&&!r.anyoneHadTrackedRange)return!1;for(var a=r.operations,u=this.model.getEditableRange(),l=u.getStartPosition(),c=u.getEndPosition(),d=0;d<a.length;d++){var h=a[d].range;if(!l.isBeforeOrEqual(h.getStartPosition())||!h.getEndPosition().isBeforeOrEqual(c))return!1}var p=this._getLoserCursorMap(a);if(p.hasOwnProperty("0"))return console.warn("Ignoring commands"),!1;for(var f=[],d=0;d<a.length;d++)p.hasOwnProperty(a[d].identifier.major.toString())||f.push(a[d]);var g,m=this.model.pushEditOperations(o,f,function(n){for(var a=[],u=0;u<o.length;u++)a[u]=[];for(var u=0;u<n.length;u++){var l=n[u];a[l.identifier.major].push(l)}for(var c=function(e,t){return e.identifier.minor-t.identifier.minor},d=[],u=0;u<o.length;u++)a[u].length>0||r.hadTrackedRanges[u]?(a[u].sort(c),d[u]=t[u].computeCursorState(i.model,{getInverseEditOperations:function(){return a[u]},getTrackedSelection:function(t){var n=parseInt(t,10),o=i.model._getMarker(e.selectionStartMarkers[n]),r=i.model._getMarker(e.positionMarkers[n]);return new s.Selection(o.lineNumber,o.column,r.lineNumber,r.column)}})):d[u]=o[u];return d}),v=[];for(g in p)p.hasOwnProperty(g)&&v.push(parseInt(g,10));v.sort(function(e,t){return t-e});for(var d=0;d<v.length;d++)m.splice(v[d],1),n.splice(v[d],1);return this._interpretCommandResult(m)},t.prototype.emitCursorPositionChanged=function(e,t){var n=this.cursors.getPositions(),i=n[0],r=n.slice(1),s=this.cursors.getViewPositions(),a=s[0],u=s.slice(1),l=!0;if(this.model.hasEditableRange()){var c=this.model.getEditableRange();c.containsPosition(i)||(l=!1)}var d={position:i,viewPosition:a,secondaryPositions:r,secondaryViewPositions:u,reason:t,source:e,isInEditableRange:l};this.emit(o.EventType.CursorPositionChanged,d)},t.prototype.emitCursorSelectionChanged=function(e,t){var n=this.cursors.getSelections(),i=n[0],r=n.slice(1),s={selection:i,secondarySelections:r,source:e,reason:t};this.emit(o.EventType.CursorSelectionChanged,s)},t.prototype.emitCursorRevealRange=function(e,t){var n=this.cursors.getPosition(0),i=this.cursors.getViewPosition(0),s=new r.Range(n.lineNumber,n.column,n.lineNumber,n.column),a=new r.Range(i.lineNumber,i.column,i.lineNumber,i.column),u={range:s,viewRange:a,revealVerticalInCenter:e,revealHorizontal:t};this.emit(o.EventType.CursorRevealRange,u)},t.prototype._registerHandlers=function(){var e=this,t=i.Handler,n={};n[t.JumpToBracket]=function(t){return e._jumpToBracket(t)},n[t.MoveTo]=function(t){return e._moveTo(!1,t)},n[t.MoveToSelect]=function(t){return e._moveTo(!0,t)},n[t.AddCursorUp]=function(t){return e._addCursorUp(t)},n[t.AddCursorDown]=function(t){return e._addCursorDown(t)},n[t.CreateCursor]=function(t){return e._createCursor(t)},n[t.LastCursorMoveToSelect]=function(t){return e._lastCursorMoveTo(t)},n[t.CursorLeft]=function(t){return e._moveLeft(!1,t)},n[t.CursorLeftSelect]=function(t){return e._moveLeft(!0,t)},n[t.CursorWordLeft]=function(t){return e._moveWordLeft(!1,t)},n[t.CursorWordLeftSelect]=function(t){return e._moveWordLeft(!0,t)},n[t.CursorRight]=function(t){return e._moveRight(!1,t)},n[t.CursorRightSelect]=function(t){return e._moveRight(!0,t)},n[t.CursorWordRight]=function(t){return e._moveWordRight(!1,t)},n[t.CursorWordRightSelect]=function(t){return e._moveWordRight(!0,t)},n[t.CursorUp]=function(t){return e._moveUp(!1,!1,t)},n[t.CursorUpSelect]=function(t){return e._moveUp(!0,!1,t)},n[t.CursorDown]=function(t){return e._moveDown(!1,!1,t)},n[t.CursorDownSelect]=function(t){return e._moveDown(!0,!1,t)},n[t.CursorPageUp]=function(t){return e._moveUp(!1,!0,t)},n[t.CursorPageUpSelect]=function(t){return e._moveUp(!0,!0,t)},n[t.CursorPageDown]=function(t){return e._moveDown(!1,!0,t)},n[t.CursorPageDownSelect]=function(t){return e._moveDown(!0,!0,t)},n[t.CursorHome]=function(t){return e._moveToBeginningOfLine(!1,t)},n[t.CursorHomeSelect]=function(t){return e._moveToBeginningOfLine(!0,t)},n[t.CursorEnd]=function(t){return e._moveToEndOfLine(!1,t)},n[t.CursorEndSelect]=function(t){return e._moveToEndOfLine(!0,t)},n[t.CursorTop]=function(t){return e._moveToBeginningOfBuffer(!1,t)},n[t.CursorTopSelect]=function(t){return e._moveToBeginningOfBuffer(!0,t)},n[t.CursorBottom]=function(t){return e._moveToEndOfBuffer(!1,t)},n[t.CursorBottomSelect]=function(t){return e._moveToEndOfBuffer(!0,t)},n[t.SelectAll]=function(t){return e._selectAll(t)},n[t.LineSelect]=function(t){return e._line(!1,t)},n[t.LineSelectDrag]=function(t){return e._line(!0,t)},n[t.LastCursorLineSelect]=function(t){return e._lastCursorLine(!1,t)},n[t.LastCursorLineSelectDrag]=function(t){return e._lastCursorLine(!0,t)},n[t.LineInsertBefore]=function(t){return e._lineInsertBefore(t)},n[t.LineInsertAfter]=function(t){return e._lineInsertAfter(t)},n[t.LineBreakInsert]=function(t){return e._lineBreakInsert(t)},n[t.WordSelect]=function(t){return e._word(!1,t)},n[t.WordSelectDrag]=function(t){return e._word(!0,t)},n[t.LastCursorWordSelect]=function(t){return e._lastCursorWord(t)},n[t.Escape]=function(t){return e._cancelSelection(t)},n[t.Type]=function(t){return e._type(t)},n[t.Tab]=function(t){return e._tab(t)},n[t.Indent]=function(t){return e._indent(t)},n[t.Outdent]=function(t){return e._outdent(t)},n[t.Paste]=function(t){return e._paste(t)},n[t.DeleteLeft]=function(t){return e._deleteLeft(t)},n[t.DeleteWordLeft]=function(t){return e._deleteWordLeft(t)},n[t.DeleteRight]=function(t){return e._deleteRight(t)},n[t.DeleteWordRight]=function(t){return e._deleteWordRight(t)},n[t.DeleteAllLeft]=function(t){return e._deleteAllLeft(t)},n[t.DeleteAllRight]=function(t){return e._deleteAllRight(t)},n[t.Cut]=function(t){return e._cut(t)},n[t.Undo]=function(t){return e._undo(t)},n[t.Redo]=function(t){return e._redo(t)},n[t.ExecuteCommand]=function(t){return e._externalExecuteCommand(t)},n[t.ExecuteCommands]=function(t){return e._externalExecuteCommands(t)};var o,r=function(t,n){return function(i){return e._onHandler(t,n,i)}};for(o in n)n.hasOwnProperty(o)&&this.configuration.handlerDispatcher.setHandler(o,r(o,n[o]))},t.prototype._invokeForAll=function(e,t,n,i){"undefined"==typeof n&&(n=!0),"undefined"==typeof i&&(i=!0);var o,r=!1,s=this.cursors.getAll();e.shouldPushStackElementBefore=n,e.shouldPushStackElementAfter=i;for(var a=0;a<s.length;a++)o={cursorPositionChangeReason:"",cursorPositionChangeSource:"",shouldReveal:!0,shouldRevealVerticalInCenter:!1,shouldRevealHorizontal:!0,executeCommand:null,postOperationRunnable:null,shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1},r=t(a,s[a],o)||r,0===a&&(e.cursorPositionChangeReason=o.cursorPositionChangeReason,e.shouldRevealHorizontal=o.shouldRevealHorizontal,e.shouldReveal=o.shouldReveal,e.shouldRevealVerticalInCenter=o.shouldRevealVerticalInCenter),e.shouldPushStackElementBefore=e.shouldPushStackElementBefore||o.shouldPushStackElementBefore,e.shouldPushStackElementAfter=e.shouldPushStackElementAfter||o.shouldPushStackElementAfter,e.executeCommands[a]=o.executeCommand,e.postOperationRunnables[a]=o.postOperationRunnable;return r},t.prototype._jumpToBracket=function(e){return this.cursors.killSecondaryCursors(),this._invokeForAll(e,function(e,t,n){return t.jumpToBracket(n)})},t.prototype._moveTo=function(e,t){return this.cursors.killSecondaryCursors(),this._invokeForAll(t,function(n,i,o){return i.moveTo(e,t.eventData.position,t.eventData.viewPosition,t.eventSource,o)})},t.prototype._createCursor=function(e){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;this.cursors.addSecondaryCursor({selectionStartLineNumber:1,selectionStartColumn:1,positionLineNumber:1,positionColumn:1});var t=this.cursors.getLastAddedCursor();return this._invokeForAll(e,function(n,i,o){return i===t?e.eventData.wholeLine?i.line(!1,e.eventData.position,e.eventData.viewPosition,o):i.moveTo(!1,e.eventData.position,e.eventData.viewPosition,e.eventSource,o):!1}),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},t.prototype._lastCursorMoveTo=function(e){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var t=this.cursors.getLastAddedCursor();return this._invokeForAll(e,function(n,i,o){return i===t?i.moveTo(!0,e.eventData.position,e.eventData.viewPosition,e.eventSource,o):!1}),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},t.prototype._addCursorUp=function(e){if(this.configuration.editor.readOnly)return!1;var t=this.cursors.getSelections().length;return this.cursors.duplicateCursors(),this._invokeForAll(e,function(e,n,i){return e>=t?n.translateUp(i):!1})},t.prototype._addCursorDown=function(e){if(this.configuration.editor.readOnly)return!1;var t=this.cursors.getSelections().length;return this.cursors.duplicateCursors(),this._invokeForAll(e,function(e,n,i){return e>=t?n.translateDown(i):!1})},t.prototype._moveLeft=function(e,t){return this._invokeForAll(t,function(t,n,i){return n.moveLeft(e,i)})},t.prototype._moveWordLeft=function(e,t){return this._invokeForAll(t,function(t,n,i){return n.moveWordLeft(e,i)})},t.prototype._moveRight=function(e,t){return this._invokeForAll(t,function(t,n,i){return n.moveRight(e,i)})},t.prototype._moveWordRight=function(e,t){return this._invokeForAll(t,function(t,n,i){return n.moveWordRight(e,i)})},t.prototype._moveDown=function(e,t,n){return this._invokeForAll(n,function(n,i,o){return i.moveDown(e,t,o)})},t.prototype._moveUp=function(e,t,n){return this._invokeForAll(n,function(n,i,o){return i.moveUp(e,t,o)})},t.prototype._moveToBeginningOfLine=function(e,t){return this._invokeForAll(t,function(t,n,i){return n.moveToBeginningOfLine(e,i)})},t.prototype._moveToEndOfLine=function(e,t){return this._invokeForAll(t,function(t,n,i){return n.moveToEndOfLine(e,i)})},t.prototype._moveToBeginningOfBuffer=function(e,t){return this._invokeForAll(t,function(t,n,i){return n.moveToBeginningOfBuffer(e,i)})},t.prototype._moveToEndOfBuffer=function(e,t){return this._invokeForAll(t,function(t,n,i){return n.moveToEndOfBuffer(e,i)})},t.prototype._selectAll=function(e){return this.cursors.killSecondaryCursors(),this._invokeForAll(e,function(e,t,n){return t.selectAll(n)})},t.prototype._line=function(e,t){return this.cursors.killSecondaryCursors(),this._invokeForAll(t,function(n,i,o){return i.line(e,t.eventData.position,t.eventData.viewPosition,o)})},t.prototype._lastCursorLine=function(e,t){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var n=this.cursors.getLastAddedCursor();return this._invokeForAll(t,function(i,o,r){return o===n?o.line(e,t.eventData.position,t.eventData.viewPosition,r):!1}),t.shouldReveal=!1,t.shouldRevealHorizontal=!1,!0},t.prototype._lineInsertBefore=function(e){return this._invokeForAll(e,function(e,t,n){return t.lineInsertBefore(n)})},t.prototype._lineInsertAfter=function(e){return this._invokeForAll(e,function(e,t,n){return t.lineInsertAfter(n)})},t.prototype._lineBreakInsert=function(e){return this._invokeForAll(e,function(e,t,n){return t.lineBreakInsert(n)})},t.prototype._word=function(e,t){return this.cursors.killSecondaryCursors(),this._invokeForAll(t,function(n,i,o){return i.word(e,t.eventData.position,t.eventData.preference||"none",o)})},t.prototype._lastCursorWord=function(e){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var t=this.cursors.getLastAddedCursor();return this._invokeForAll(e,function(n,i,o){return i===t?i.word(!0,e.eventData.position,e.eventData.preference||"none",o):!1}),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},t.prototype._cancelSelection=function(e){return this.cursors.killSecondaryCursors()?!0:this._invokeForAll(e,function(e,t,n){return t.cancelSelection(n)})},t.prototype._type=function(e){var t=this,n=e.eventData.text;if("keyboard"===e.eventSource){var i,o,r;for(i=0,o=n.length;o>i;i++)r=n.charAt(i),this.charactersTyped+=r,this._createAndInterpretHandlerCtx(e.eventSource,e.eventData,function(n){t._invokeForAll(n,function(e,t,n){return t.type(r,n)},!1,!1),e.cursorPositionChangeReason=n.cursorPositionChangeReason,e.shouldReveal=n.shouldReveal,e.shouldRevealVerticalInCenter=n.shouldRevealVerticalInCenter,e.shouldRevealHorizontal=n.shouldRevealHorizontal})}else this._invokeForAll(e,function(e,t,i){return t.actualType(n,!1,i)});return!0},t.prototype._tab=function(e){return this._invokeForAll(e,function(e,t,n){return t.tab(n)},!1,!1)},t.prototype._indent=function(e){return this._invokeForAll(e,function(e,t,n){return t.indent(n)})},t.prototype._outdent=function(e){return this._invokeForAll(e,function(e,t,n){return t.outdent(n)})},t.prototype._paste=function(e){return this._invokeForAll(e,function(t,n,i){return n.paste(e.eventData.text,e.eventData.pasteOnNewLine,i)})},t.prototype._deleteLeft=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteLeft(n)},!1,!1)},t.prototype._deleteWordLeft=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteWordLeft(n)},!1,!1)},t.prototype._deleteRight=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteRight(n)},!1,!1)},t.prototype._deleteWordRight=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteWordRight(n)},!1,!1)},t.prototype._deleteAllLeft=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteAllLeft(n)},!1,!1)},t.prototype._deleteAllRight=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteAllRight(n)},!1,!1)},t.prototype._cut=function(e){return this._invokeForAll(e,function(e,t,n){return t.cut(n)})},t.prototype._undo=function(e){return e.cursorPositionChangeReason="undo",this._interpretCommandResult(this.model.undo()),!0},t.prototype._redo=function(e){return e.cursorPositionChangeReason="redo",this._interpretCommandResult(this.model.redo()),!0},t.prototype._externalExecuteCommand=function(e){return this.cursors.killSecondaryCursors(),this._invokeForAll(e,function(t,n,i){return i.shouldPushStackElementBefore=!0,i.shouldPushStackElementAfter=!0,i.executeCommand=e.eventData,!1})},t.prototype._externalExecuteCommands=function(e){return this._invokeForAll(e,function(t,n,i){return i.shouldPushStackElementBefore=!0,i.shouldPushStackElementAfter=!0,i.executeCommand=e.eventData[t],!1})},t}(a.EventEmitter);t.Cursor=g}),define("vs/editor/core/view/viewContext",["require","exports"],function(e,t){t.ClassNames={TEXTAREA_COVER:"textAreaCover",TEXTAREA:"inputarea",LINES_CONTENT:"lines-content",OVERFLOW_GUARD:"overflow-guard",VIEW_LINES:"view-lines",VIEW_LINE:"view-line",SCROLLABLE_ELEMENT:"editor-scrollable",CONTENT_WIDGETS:"contentWidgets",OVERLAY_WIDGETS:"overlayWidgets",LINES_DECORATIONS:"lines-decorations",LINE_NUMBERS:"line-numbers",GLYPH_MARGIN:"glyph-margin",SCROLL_DECORATION:"scroll-decoration"},t.EventNames={ModelFlushedEvent:"modelFlushedEvent",LinesDeletedEvent:"linesDeletedEvent",LinesInsertedEvent:"linesInsertedEvent",LineChangedEvent:"lineChangedEvent",TokensChangedEvent:"tokensChangedEvent",DecorationsChangedEvent:"decorationsChangedEvent",CursorPositionChangedEvent:"cursorPositionChangedEvent",CursorSelectionChangedEvent:"cursorSelectionChangedEvent",RevealRangeEvent:"revealRangeEvent",LineMappingChangedEvent:"lineMappingChangedEvent"};
var n=function(){function e(e,t,n,i,o,r){this.editorId=e,this.configuration=t,this.model=n,this.privateViewEventBus=i,this.addEventHandler=o,this.removeEventHandler=r}return e}();t.ViewContext=n}),define("vs/base/dom/keyboardController",["require","exports","vs/base/dom/dom","vs/base/lifecycle"],function(e,t,n,i){var o=function(){function e(e){var t=this;this._listeners={},this._previousKeyDown=null,this._previousEventType=null,this._toDispose=[],this._toDispose.push(n.addStandardDisposableListener(e,"keydown",function(e){return t._onKeyDown(e)})),this._toDispose.push(n.addStandardDisposableListener(e,"keypress",function(e){return t._onKeyPress(e)})),this._toDispose.push(n.addStandardDisposableListener(e,"keyup",function(e){return t._onKeyUp(e)}))}return e.prototype.dispose=function(){this._toDispose=i.disposeAll(this._toDispose),this._listeners=null,this._previousKeyDown=null,this._previousEventType=null},e.prototype.addListener=function(e,t){var n=this;return this._listeners[e]=t,function(){n._listeners[e]=null}},e.prototype._fire=function(e,t){this._listeners.hasOwnProperty(e)&&this._listeners[e](t)},e.prototype._onKeyDown=function(e){this._previousKeyDown=e.clone(),this._previousEventType="keydown",this._fire("keydown",e)},e.prototype._onKeyPress=function(e){this._previousKeyDown&&(e.shiftKey&&this._previousKeyDown.asString()!==e.asString()&&(e.shiftKey=!1),"keypress"===this._previousEventType&&this._fire("keydown",this._previousKeyDown)),this._previousEventType="keypress",this._fire("keypress",e)},e.prototype._onKeyUp=function(e){this._fire("keyup",e)},e}();t.KeyboardController=o}),define("vs/editor/core/view/viewEventHandler",["require","exports","vs/editor/core/constants","vs/editor/core/view/viewContext"],function(e,t,n,i){var o=function(){function e(){this.shouldRender=!0}return e.prototype.onLineMappingChanged=function(){return!1},e.prototype.onModelFlushed=function(){return!1},e.prototype.onModelDecorationsChanged=function(){return!1},e.prototype.onModelLinesDeleted=function(){return!1},e.prototype.onModelLineChanged=function(){return!1},e.prototype.onModelLinesInserted=function(){return!1},e.prototype.onModelTokensChanged=function(){return!1},e.prototype.onCursorPositionChanged=function(){return!1},e.prototype.onCursorSelectionChanged=function(){return!1},e.prototype.onCursorRevealRange=function(){return!1},e.prototype.onConfigurationChanged=function(){return!1},e.prototype.onLayoutChanged=function(){return!1},e.prototype.onScrollChanged=function(){return!1},e.prototype.onZonesChanged=function(){return!1},e.prototype.onScrollWidthChanged=function(){return!1},e.prototype.onScrollHeightChanged=function(){return!1},e.prototype.onViewFocusChanged=function(){return!1},e.prototype.handleEvents=function(e){var t,o,r,s;for(t=0,o=e.length;o>t;t++)switch(r=e[t],s=r.getData(),r.getType()){case i.EventNames.LineMappingChangedEvent:this.shouldRender=this.onLineMappingChanged()||this.shouldRender;break;case i.EventNames.ModelFlushedEvent:this.shouldRender=this.onModelFlushed()||this.shouldRender;break;case i.EventNames.LinesDeletedEvent:this.shouldRender=this.onModelLinesDeleted(s)||this.shouldRender;break;case i.EventNames.LinesInsertedEvent:this.shouldRender=this.onModelLinesInserted(s)||this.shouldRender;break;case i.EventNames.LineChangedEvent:this.shouldRender=this.onModelLineChanged(s)||this.shouldRender;break;case i.EventNames.TokensChangedEvent:this.shouldRender=this.onModelTokensChanged(s)||this.shouldRender;break;case i.EventNames.DecorationsChangedEvent:this.shouldRender=this.onModelDecorationsChanged(s)||this.shouldRender;break;case i.EventNames.CursorPositionChangedEvent:this.shouldRender=this.onCursorPositionChanged(s)||this.shouldRender;break;case i.EventNames.CursorSelectionChangedEvent:this.shouldRender=this.onCursorSelectionChanged(s)||this.shouldRender;break;case i.EventNames.RevealRangeEvent:this.shouldRender=this.onCursorRevealRange(s)||this.shouldRender;break;case n.EventType.ConfigurationChanged:this.shouldRender=this.onConfigurationChanged(s)||this.shouldRender;break;case n.EventType.ViewLayoutChanged:this.shouldRender=this.onLayoutChanged(s)||this.shouldRender;break;case n.EventType.ViewScrollChanged:this.shouldRender=this.onScrollChanged(s)||this.shouldRender;break;case n.EventType.ViewZonesChanged:this.shouldRender=this.onZonesChanged()||this.shouldRender;break;case n.EventType.ViewScrollWidthChanged:this.shouldRender=this.onScrollWidthChanged()||this.shouldRender;break;case n.EventType.ViewScrollHeightChanged:this.shouldRender=this.onScrollHeightChanged(s)||this.shouldRender;break;case n.EventType.ViewFocusChanged:this.shouldRender=this.onViewFocusChanged(s)||this.shouldRender;break;default:console.info("View received unkown event: "),console.info(r)}},e}();t.ViewEventHandler=o}),define("vs/base/time/schedulers",["require","exports"],function(e,t){var n=function(){function e(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}return e.prototype.dispose=function(){this.cancel(),this.runner=null},e.prototype.cancel=function(){-1!==this.timeoutToken&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)},e.prototype.setRunner=function(e){this.runner=e},e.prototype.setTimeout=function(e){this.timeout=e},e.prototype.schedule=function(){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,this.timeout)},e.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.runner()},e}();t.RunOnceScheduler=n});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/controller/keyboardHandler",["require","exports","vs/editor/core/range","vs/editor/core/position","vs/base/dom/keyboardController","vs/base/dom/dom","vs/base/env","vs/editor/core/view/viewContext","vs/editor/editor","vs/editor/core/view/viewEventHandler","vs/base/time/schedulers"],function(e,t,n,i,o,r,s,a,u,l,c){var d;!function(e){e[e.Type=0]="Type",e[e.Paste=1]="Paste"}(d||(d={}));var h=function(){function e(e,t,n,i){this.value=e,this.selectionStart=t,this.selectionEnd=n,this.selectionToken=i}return e.fromTextArea=function(t,n){return new e(t.value,t.selectionStart,t.selectionEnd,n)},e.fromEditorSelectionAndPreviousState=function(t,i,o){if(s.browser.isIPad)return new e("",0,0,u);var r=100,a=0,u=i.startLineNumber,l=i.startColumn,c=i.endLineNumber,d=i.endColumn,h=t.getLineMaxColumn(c);i.isEmpty()&&o!==u&&(l=1,d=h);var p="",f=Math.max(1,u-a);u>f&&(p=t.getValueInRange(new n.Range(f,1,u,1),1)),p+=t.getValueInRange(new n.Range(u,1,u,l),1),p.length>r&&(p=p.substring(p.length-r,p.length));var g="",m=Math.min(c+a,t.getLineCount());g+=t.getValueInRange(new n.Range(c,d,c,h),1),m>c&&(g="\n"+t.getValueInRange(new n.Range(c+1,1,m,t.getLineMaxColumn(m)),1)),g.length>r&&(g=g.substring(0,r));var v=t.getValueInRange(new n.Range(u,l,c,d),1);return v.length>2*r&&(v=v.substring(0,r)+String.fromCharCode(8230)+v.substring(v.length-r,v.length)),new e(p+v+g,p.length,p.length+v.length,u)},e.prototype.getSelectionStart=function(){return this.selectionStart},e.prototype.resetSelection=function(){this.selectionStart=this.value.length,this.selectionEnd=this.value.length},e.prototype.getValue=function(){return this.value},e.prototype.getSelectionToken=function(){return this.selectionToken},e.prototype.applyToTextArea=function(e,t){if(e.value!==this.value&&(e.value=this.value),t)try{e.focus(),e.setSelectionRange(this.selectionStart,this.selectionEnd)}catch(n){}},e.prototype.extractNewText=function(e){if(this.selectionStart!==this.selectionEnd)return"";if(!e)return this.value;var t=e.value.substring(0,e.selectionStart),n=e.value.substring(e.selectionEnd,e.value.length);s.browser.isIE11orEarlier&&document.queryCommandValue("OverWrite")&&(n=n.substr(1));var i=this.value;return i.substring(0,t.length)===t&&(i=i.substring(t.length)),i.substring(i.length-n.length,i.length)===n&&(i=i.substring(0,i.length-n.length)),i},e}(),p=function(e){function t(t,a,u){var l=this;e.call(this),this.context=t,this.viewController=a,this.textArea=u.textArea,this.viewHelper=u,this.selection=new n.Range(1,1,1,1),this.cursorPosition=new i.Position(1,1),this.contentLeft=0,this.contentWidth=0,this.scrollLeft=0,this.asyncReadFromTextArea=new c.RunOnceScheduler(null,0),this.asyncSetSelectionToTextArea=new c.RunOnceScheduler(function(){return l._writePlaceholderAndSelectTextArea()},0),this.asyncTriggerCut=new c.RunOnceScheduler(function(){return l._triggerCut()},0),this.previousSetTextAreaState=null,this.hasFocus=!1,this.justHadAPaste=!1,this.justHadACut=!1,this.lastKeyPressTime=0,this.lastCompositionEndTime=0,this.lastValueWrittenToTheTextArea="",this.kbController=new o.KeyboardController(this.textArea),this.listenersToRemove=[],this.listenersToRemove.push(this.kbController.addListener("keydown",function(e){return l._onKeyDown(e)})),this.listenersToRemove.push(this.kbController.addListener("keyup",function(e){return l._onKeyUp(e)})),this.listenersToRemove.push(this.kbController.addListener("keypress",function(e){return l._onKeyPress(e)})),this.compositionCount=0,this.listenersToRemove.push(r.addListener(this.textArea,"compositionstart",function(){0===l.compositionCount&&l.showTextAreaAtCursor(),l.compositionCount++,l.asyncReadFromTextArea.cancel()})),this.listenersToRemove.push(r.addListener(this.textArea,"compositionend",function(){l.compositionCount--,0===l.compositionCount&&l.hideTextArea(),l.lastCompositionEndTime=(new Date).getTime(),l._scheduleReadFromTextArea(0)})),s.browser.isIPad&&this.listenersToRemove.push(r.addListener(this.textArea,"input",function(){var e=(new Date).getTime(),t=e-l.lastKeyPressTime;500>=t&&(l._scheduleReadFromTextArea(0),l.lastKeyPressTime=0)})),s.browser.isMacintosh&&this.listenersToRemove.push(r.addListener(this.textArea,"input",function(){if(l.justHadAPaste)return l.justHadAPaste=!1,void 0;if(l.justHadACut)return l.justHadACut=!1,void 0;var e=(new Date).getTime(),t=e-l.lastKeyPressTime;if(!(500>=t)){var n=e-l.lastCompositionEndTime;if(!(500>=n||l.compositionCount>0||l.textArea.selectionStart!==l.textArea.selectionEnd)){var i,o=l.textArea.value;if(s.browser.isChrome){var r=l.lastValueWrittenToTheTextArea.substring(1);if(o.length<=r.length)return;if(o.substring(o.length-r.length)!==r)return;i=o.substring(0,o.length-r.length)}else i=o;console.log("DEDUCED input: <<<"+i+">>>")}}})),this.listenersToRemove.push(r.addListener(this.textArea,"cut",function(e){return l._onCut(e)})),this.listenersToRemove.push(r.addListener(this.textArea,"copy",function(e){return l._onCopy(e)})),this.listenersToRemove.push(r.addListener(this.textArea,"paste",function(e){return l._onPaste(e)})),this.listenersToRemove.push(r.addListener(this.textArea,"contextmenu",function(){r.selectTextInInputElement(l.textArea),l.asyncSetSelectionToTextArea.cancel()})),this._writePlaceholderAndSelectTextArea(),this.context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this.context.removeEventHandler(this),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.kbController.dispose(),this.asyncReadFromTextArea.dispose(),this.asyncSetSelectionToTextArea.dispose(),this.asyncTriggerCut.dispose()},t.prototype.showTextAreaAtCursor=function(){var e,t,i;s.browser.isIE11orEarlier?(e=this.selection.startLineNumber,t=this.selection.startColumn,i=this.previousSetTextAreaState.getSelectionStart()+1):(e=this.cursorPosition.lineNumber,t=this.cursorPosition.column,i=t);var o={range:new n.Range(e,t,e,t),revealVerticalInCenter:!1,revealHorizontal:!0};this.context.privateViewEventBus.emit(a.EventNames.RevealRangeEvent,o);var u=this.viewHelper.visibleRangeForPositionRelativeToEditor(e,t),l=this.viewHelper.visibleRangeForPositionRelativeToEditor(e,i);s.browser.isIE11orEarlier?u&&l&&(this.textArea.style.top=u.top+"px",this.textArea.style.left=this.contentLeft+u.left-l.left-this.scrollLeft+"px",this.textArea.style.width=this.contentWidth+"px"):(u&&(this.textArea.style.left=this.contentLeft+u.left-this.scrollLeft+"px",this.textArea.style.top=u.top+"px"),this.setTextAreaState(new h("",0,0,0),!1)),this.textArea.style.height=this.context.configuration.editor.lineHeight+"px",r.addClass(this.viewHelper.viewDomNode,"ime-input")},t.prototype.hideTextArea=function(){this.textArea.style.height="",this.textArea.style.width="",this.textArea.style.left="0px",this.textArea.style.top="0px",r.removeClass(this.viewHelper.viewDomNode,"ime-input")},t.prototype.onScrollChanged=function(e){return this.scrollLeft=e.scrollLeft,!1},t.prototype.onViewFocusChanged=function(e){return this.hasFocus=e,this.hasFocus&&this.asyncSetSelectionToTextArea.schedule(),!1},t.prototype.onCursorSelectionChanged=function(e){return this.selection=e.selection,this.asyncSetSelectionToTextArea.schedule(),!1},t.prototype.onCursorPositionChanged=function(e){return this.cursorPosition=e.position,!1},t.prototype.onLayoutChanged=function(e){return this.contentLeft=e.contentLeft,this.contentWidth=e.contentWidth,!1},t.prototype.setTextAreaState=function(e,t){var n=t&&this.hasFocus&&!s.isTesting();n||e.resetSelection(),this.lastValueWrittenToTheTextArea=e.getValue(),e.applyToTextArea(this.textArea,n),this.previousSetTextAreaState=e},t.prototype._onKeyDown=function(e){this.viewController.emitKeyDown(e)},t.prototype._onKeyUp=function(e){this.viewController.emitKeyUp(e)},t.prototype._onKeyPress=function(e){if(this.hasFocus){if(s.browser.isOpera&&s.browser.isWindows){if("Ctrl-X"===e.asString())return this._onCut(null),void 0;if("Ctrl-V"===e.asString())return this._onPaste(null),void 0;if("Ctrl-C"===e.asString())return this._onCopy(null),void 0}this.lastKeyPressTime=(new Date).getTime(),s.browser.isIPad||this._scheduleReadFromTextArea(0)}},t.prototype._scheduleReadFromTextArea=function(e){var t=this;this.asyncSetSelectionToTextArea.cancel(),this.asyncReadFromTextArea.setRunner(function(){return t._readFromTextArea(e)}),this.asyncReadFromTextArea.schedule()},t.prototype._readFromTextArea=function(e){var t=this.previousSetTextAreaState?this.previousSetTextAreaState.getSelectionToken():0,n=h.fromTextArea(this.textArea,t),i=n.extractNewText(this.previousSetTextAreaState);""!==i&&(0===e?this.executeType(i):this.executePaste(i)),this.previousSetTextAreaState=n,this.asyncSetSelectionToTextArea.schedule()},t.prototype.executePaste=function(e){""!==e&&this.viewController.paste("keyboard",e,!1)},t.prototype.executeType=function(e){""!==e&&this.viewController.type("keyboard",e)},t.prototype._writePlaceholderAndSelectTextArea=function(){if(this.compositionCount<=0){var e=this.previousSetTextAreaState?this.previousSetTextAreaState.getSelectionToken():0,t=h.fromEditorSelectionAndPreviousState(this.context.model,this.selection,e);this.setTextAreaState(t,!0)}},t.prototype._onPaste=function(e){e&&e.clipboardData?(e.preventDefault(),this.executePaste(e.clipboardData.getData("text/plain"))):e&&window.clipboardData?(e.preventDefault(),this.executePaste(window.clipboardData.getData("Text"))):(this.textArea.selectionStart!==this.textArea.selectionEnd&&this.setTextAreaState(new h("",0,0,0),!1),this._scheduleReadFromTextArea(1)),this.justHadAPaste=!0},t.prototype._onCopy=function(e){this._ensureClipboardGetsEditorSelection(e)},t.prototype._triggerCut=function(){this.viewController.cut("keyboard")},t.prototype._onCut=function(e){this._ensureClipboardGetsEditorSelection(e),this.asyncTriggerCut.schedule(),this.justHadACut=!0},t.prototype._ensureClipboardGetsEditorSelection=function(e){var t=this._getPlainTextToCopy();e&&e.clipboardData?(e.clipboardData.setData("text/plain",t),e.preventDefault()):e&&window.clipboardData?(window.clipboardData.setData("Text",t),e.preventDefault()):this.setTextAreaState(new h(t,0,t.length,0),!0)},t.prototype._getPlainTextToCopy=function(){var e=s.browser.isWindows?"\r\n":"\n",t=s.browser.isWindows?2:1,i=this.context.model.getSelections();if(1===i.length){var o=this.selection;return o.isEmpty()?"":this.context.model.getValueInRange(o,t)}i=i.slice(0).sort(n.compareRangesUsingStarts);for(var r=[],a=0;a<i.length;a++)r.push(this.context.model.getValueInRange(i[a],t));return r.join(e)},t}(l.ViewEventHandler);t.KeyboardHandler=p}),define("vs/base/arrays",["require","exports"],function(e,t){function n(e,t){return"undefined"==typeof t&&(t=0),e[e.length-(1+t)]}function i(e,t){for(var n=0,i=e.length;i>n;n++)t(e[n],function(){e.splice(n,1),n--,i--})}function o(e,t){"undefined"==typeof t&&(t=null);for(var n=new Array(e);e-->0;)n.push(t);return n}function r(e,t,n){for(var i=0,o=e.length-1;o>=i;){var r=Math.floor((i+o)/2),s=n(e[r],t);if(0>s)i=r+1;else{if(!(s>0))return r;o=r-1}}return-1}function s(e){for(var t=new Array,n=0,i=e.length;i>n;n++)t.push.apply(t,e[n]);return t}function a(e,t){for(var n,i=0,o=e.length-1;o>i;)n=i+Math.ceil((o-i)/2),e[n].startIndex>t?o=n-1:i=n;return i}function u(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i&&t.push(i)}return t}function l(e,t){return e.indexOf(t)>=0}function c(e,t,n){var i=e[t],o=e[n];e[t]=o,e[n]=i}function d(e,t,n){e.splice(n,0,e.splice(t,1)[0])}t.tail=n,t.forEach=i,t.fill=o,t.binarySearch=r,t.merge=s,t.findIndexInSegmentsArray=a,t.coalesce=u,t.contains=l,t.swap=c,t.move=d}),define("vs/base/dom/touch",["require","exports","vs/base/arrays","vs/base/lifecycle","vs/base/dom/dom"],function(e,t,n,i,o){!function(e){e.Tap="-monaco-gesturetap",e.Change="-monaco-gesturechange",e.Start="-monaco-gesturestart",e.End="-monaco-gesturesend"}(t.EventType||(t.EventType={}));var r=t.EventType,s=function(){function e(e){this.callOnTarget=[],this.activeTouches={},this.target=e}return e.prototype.dispose=function(){this.target=null},Object.defineProperty(e.prototype,"target",{set:function(e){var t=this;i.cAll(this.callOnTarget),this.activeTouches={},this.targetElement=e,this.targetElement&&(this.callOnTarget.push(o.addListener(this.targetElement,"touchstart",function(e){return t.onTouchStart(e)})),this.callOnTarget.push(o.addListener(this.targetElement,"touchend",function(e){return t.onTouchEnd(e)})),this.callOnTarget.push(o.addListener(this.targetElement,"touchmove",function(e){return t.onTouchMove(e)})))},enumerable:!0,configurable:!0}),e.newGestureEvent=function(e){var t=document.createEvent("CustomEvent");return t.initEvent(e,!1,!0),t},e.prototype.onTouchStart=function(t){t.preventDefault(),t.stopPropagation(),o.cancelAtNextAnimationFrame(this.handle);for(var n=0,i=t.targetTouches.length;i>n;n++){var s=t.targetTouches.item(n);this.activeTouches[s.identifier]={id:s.identifier,initialTarget:s.target,initialTimeStamp:t.timeStamp,initialPageX:s.pageX,initialPageY:s.pageY,rollingTimestamps:[t.timeStamp],rollingPageX:[s.pageX],rollingPageY:[s.pageY]};var a=e.newGestureEvent(r.Start);a.pageX=s.pageX,a.pageY=s.pageY,this.targetElement.dispatchEvent(a)}},e.prototype.onTouchEnd=function(t){t.preventDefault(),t.stopPropagation();for(var i=Object.keys(this.activeTouches).length,o=0,s=t.changedTouches.length;s>o;o++){var a=t.changedTouches.item(o);if(this.activeTouches.hasOwnProperty(String(a.identifier))){var u=this.activeTouches[a.identifier],l=Date.now()-u.initialTimeStamp;if(l<e.HOLD_DELAY&&Math.abs(u.initialPageX-n.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-n.tail(u.rollingPageY))<30){var c=e.newGestureEvent(r.Tap);c.initialTarget=u.initialTarget,c.pageX=n.tail(u.rollingPageX),c.pageY=n.tail(u.rollingPageY),this.targetElement.dispatchEvent(c)}else if(1===i){var d=n.tail(u.rollingPageX),h=n.tail(u.rollingPageY),p=n.tail(u.rollingTimestamps)-u.rollingTimestamps[0],f=d-u.rollingPageX[0],g=h-u.rollingPageY[0];this.inertia(t.timeStamp,Math.abs(f)/p,f>0?1:-1,d,Math.abs(g)/p,g>0?1:-1,h)}delete this.activeTouches[a.identifier]}else console.warn("move of an UNKNOWN touch",a)}},e.prototype.inertia=function(t,n,i,s,a,u,l){var c=this;this.handle=o.scheduleAtNextAnimationFrame(function(){var o=Date.now(),d=o-t,h=0,p=0,f=!0;n+=e.SCROLL_FRICTION*d,a+=e.SCROLL_FRICTION*d,n>0&&(f=!1,h=i*n*d),a>0&&(f=!1,p=u*a*d);var g=e.newGestureEvent(r.Change);g.translationX=h,g.translationY=p,c.targetElement.dispatchEvent(g),f||c.inertia(o,n,i,s+h,a,u,l+p)})},e.prototype.onTouchMove=function(t){t.preventDefault(),t.stopPropagation();for(var i=0,o=t.changedTouches.length;o>i;i++){var s=t.changedTouches.item(i);if(this.activeTouches.hasOwnProperty(String(s.identifier))){var a=this.activeTouches[s.identifier],u=e.newGestureEvent(r.Change);u.translationX=s.pageX-n.tail(a.rollingPageX),u.translationY=s.pageY-n.tail(a.rollingPageY),u.pageX=s.pageX,u.pageY=s.pageY,this.targetElement.dispatchEvent(u),a.rollingPageX.length>3&&(a.rollingPageX.shift(),a.rollingPageY.shift(),a.rollingTimestamps.shift()),a.rollingPageX.push(s.pageX),a.rollingPageY.push(s.pageY),a.rollingTimestamps.push(t.timeStamp)}else console.warn("end of an UNKNOWN touch",s)}},e.HOLD_DELAY=2e3,e.SCROLL_FRICTION=-.005,e}();t.Gesture=s}),define("vs/editor/core/controller/mouseTarget",["require","exports","vs/editor/core/position","vs/editor/core/range","vs/editor/core/view/viewContext","vs/editor/editor"],function(e,t,n,i,o){var r=function(){function e(e,t,n,o,r){"undefined"==typeof n&&(n=null),"undefined"==typeof o&&(o=null),"undefined"==typeof r&&(r=null),this.element=e,this.type=t,this.position=n,!o&&n&&(o=new i.Range(n.lineNumber,n.column,n.lineNumber,n.column)),this.range=o,this.detail=r}return e.prototype._typeToString=function(){return 1===this.type?"TEXTAREA":2===this.type?"GUTTER_GLYPH_MARGIN":3===this.type?"GUTTER_LINE_NUMBERS":4===this.type?"GUTTER_LINE_DECORATIONS":5===this.type?"GUTTER_VIEW_ZONE":6===this.type?"CONTENT_TEXT":7===this.type?"CONTENT_EMPTY":8===this.type?"CONTENT_VIEW_ZONE":9===this.type?"CONTENT_WIDGET":10===this.type?"OVERVIEW_RULER":11===this.type?"SCROLLBAR":12===this.type?"OVERLAY_WIDGET":"UNKNOWN"},e.prototype.toString=function(){return this._typeToString()+": "+this.position+" - "+this.range+" - "+this.detail},e}(),s=function(){function e(e){return"[^/]*"+e+"[^/]*"}function t(){return"[^/]+"}function n(){for(var e=[],t=0;t<arguments.length-0;t++)e[t]=arguments[t+0];var n=!1;return"$"===e[e.length-1]&&(n=!0,e.pop()),new RegExp(i+e.join("\\/")+(n?"$":""))}var i="^"+o.ClassNames.OVERFLOW_GUARD+"\\/";return{IS_TEXTAREA_COVER:n(e(o.ClassNames.TEXTAREA_COVER),"$"),IS_TEXTAREA:n(o.ClassNames.TEXTAREA,"$"),IS_VIEW_LINES:n(t(),t(),o.ClassNames.VIEW_LINES,"$"),IS_CHILD_OF_VIEW_LINES:n(t(),t(),o.ClassNames.VIEW_LINES),IS_CHILD_OF_SCROLLABLE_ELEMENT:n(e(o.ClassNames.SCROLLABLE_ELEMENT)),IS_CHILD_OF_CONTENT_WIDGETS:n(t(),t(),o.ClassNames.CONTENT_WIDGETS),IS_CHILD_OF_OVERLAY_WIDGETS:n(o.ClassNames.OVERLAY_WIDGETS),IS_CHILD_OF_LINES_DECORATIONS:n(t(),t(),o.ClassNames.LINES_DECORATIONS),IS_CHILD_OF_LINE_NUMBERS:n(t(),t(),o.ClassNames.LINE_NUMBERS),IS_CHILD_OF_GLYPH_MARGIN:n(t(),t(),o.ClassNames.GLYPH_MARGIN)}}(),a=function(){function e(e,t){this.context=e,this.viewHelper=t}return e.prototype.getClassNamePathTo=function(e,t){for(var n,i=[];e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(n=e.className,n&&i.unshift(n)),e=e.parentNode;return i.join("/")},e.prototype.mouseTargetIsWidget=function(e){var t=e.target,n=this.getClassNamePathTo(t,this.viewHelper.viewDomNode);return s.IS_CHILD_OF_CONTENT_WIDGETS.test(n)?!0:s.IS_CHILD_OF_OVERLAY_WIDGETS.test(n)?!0:!1},e.prototype.createMouseTarget=function(e,t,n){var i=Math.max(0,this.viewHelper.getScrollTop()+(t.posy-e.top)),o=this.viewHelper.getScrollLeft()+(t.posx-e.left),a=t.target,u=this.getClassNamePathTo(a,this.viewHelper.viewDomNode),l=a.hasAttribute&&a.hasAttribute("lineNumber")?a.getAttribute("lineNumber"):null,c=a.hasAttribute&&a.hasAttribute("column")?a.getAttribute("column"):null;if(l&&c)return this.createMouseTargetFromViewCursor(a,parseInt(l,10),parseInt(c,10));if(s.IS_CHILD_OF_CONTENT_WIDGETS.test(u))return this.createMouseTargetFromContentWidgetsChild(a);if(s.IS_CHILD_OF_OVERLAY_WIDGETS.test(u))return this.createMouseTargetFromOverlayWidgetsChild(a);if(s.IS_TEXTAREA_COVER.test(u))return this.context.configuration.editor.glyphMargin?this.createMouseTargetFromGlyphMargin(a,i):this.context.configuration.editor.lineNumbers?this.createMouseTargetFromLineNumbers(a,i):this.createMouseTargetFromLinesDecorationsChild(a,i);if(s.IS_TEXTAREA.test(u))return new r(a,1);if(s.IS_VIEW_LINES.test(u))return this.createMouseTargetFromViewLines(a,i);if(!n||s.IS_CHILD_OF_VIEW_LINES.test(u)){var d=this._doHitTest(e,t);if(d.position)return this.createMouseTargetFromHitTestPosition(a,d.position.lineNumber,d.position.column,o);d.hitTarget&&(a=d.hitTarget,u=this.getClassNamePathTo(a,this.viewHelper.viewDomNode))}return s.IS_CHILD_OF_SCROLLABLE_ELEMENT.test(u)?this.createMouseTargetFromScrollbar(a,i):s.IS_CHILD_OF_LINES_DECORATIONS.test(u)?this.createMouseTargetFromLinesDecorationsChild(a,i):s.IS_CHILD_OF_LINE_NUMBERS.test(u)?this.createMouseTargetFromLineNumbers(a,i):s.IS_CHILD_OF_GLYPH_MARGIN.test(u)?this.createMouseTargetFromGlyphMargin(a,i):this.createMouseTargetFromUnknownTarget(a)},e.prototype._isChild=function(e,t,n){for(;e&&e!==document.body;){if(e===t)return!0;if(e===n)return!1;e=e.parentNode}return!1},e.prototype._findAttribute=function(e,t,n){for(;e&&e!==document.body;){if(e.hasAttribute(t))return e.getAttribute(t);if(e===n)return null;e=e.parentNode}return null},e.prototype._doHitTestWithCaretRangeFromPoint=function(e,t){var n=null,i=null,r=t.posx-document.body.scrollLeft,s=t.posy-document.body.scrollTop,a=document.caretRangeFromPoint(r,s),u=a?a.startContainer:null,l=u?u.parentNode:null,c=l?l.parentNode:null,d=c?c.parentNode:null,h=c&&c.nodeType===c.ELEMENT_NODE?c.className:"",p=d&&d.nodeType===d.ELEMENT_NODE?d.className:"";return p===o.ClassNames.VIEW_LINE?n=this.viewHelper.getPositionFromDOMInfo(a.startContainer.parentNode,a.startOffset):h===o.ClassNames.VIEW_LINE?n=this.viewHelper.getPositionFromDOMInfo(a.startContainer,a.startOffset):i=l,a&&a.detach(),{position:n,hitTarget:i}},e.prototype._doHitTestWithCaretPositionFromPoint=function(e){var t=null,n=null,i=e.posx-document.body.scrollLeft-document.documentElement.scrollLeft,o=e.posy-document.body.scrollTop-document.documentElement.scrollTop,r=document.caretPositionFromPoint(i,o),s=document.createRange();return s.setStart(r.offsetNode,r.offset),s.collapse(!0),t=this.viewHelper.getPositionFromDOMInfo(s.startContainer.parentNode,s.startOffset),s.detach(),{position:t,hitTarget:n}},e.prototype._doHitTestWithMoveToPoint=function(e){var t=null,n=null,i=document.body.createTextRange();try{var r=e.posx-document.body.scrollLeft-document.documentElement.scrollLeft,s=e.posy-document.body.scrollTop-document.documentElement.scrollTop;i.moveToPoint(r,s)}catch(a){return{position:null,hitTarget:null}}i.collapse(!0);var u=i?i.parentElement():null,l=u?u.parentNode:null,c=l?l.parentNode:null,d=c&&c.nodeType===c.ELEMENT_NODE?c.className:"";if(d===o.ClassNames.VIEW_LINE){var h=i.duplicate();h.moveToElementText(u),h.setEndPoint("EndToStart",i),t=this.viewHelper.getPositionFromDOMInfo(u,h.text.length),h.moveToElementText(this.viewHelper.viewDomNode)}else n=u;return i.moveToElementText(this.viewHelper.viewDomNode),{position:t,hitTarget:n}},e.prototype._doHitTest=function(e,t){return document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(t):document.body.createTextRange?this._doHitTestWithMoveToPoint(t):{position:null,hitTarget:null}},e.prototype._getZoneAtCoord=function(e){var t=this.viewHelper.getWhitespaceAtVerticalOffset(e);if(t){var i,o,r=t.verticalOffset+t.height/2,s=this.context.model.getLineCount();t.afterLineNumber===s||r>e&&t.afterLineNumber>0?(i=t.afterLineNumber,o=this.context.model.getLineMaxColumn(i)):(i=t.afterLineNumber+1,o=1);var a=new n.Position(i,o);return{viewZoneId:t.id,position:a}}return null},e.prototype._getFullLineRangeAtCoord=function(e){var t=this.viewHelper.getLineNumberAtVerticalOffset(e),n=this.context.model.getLineMaxColumn(t);return new i.Range(t,1,t,n)},e.prototype.createMouseTargetFromViewCursor=function(e,t,i){return new r(e,6,new n.Position(t,i))},e.prototype.createMouseTargetFromViewLines=function(e,t){var i=this._getZoneAtCoord(t);if(i)return new r(e,8,i.position,null,i.viewZoneId);var o=this.context.model.getLineCount(),s=this.context.model.getLineMaxColumn(o);return new r(e,7,new n.Position(o,s))},e.prototype.createMouseTargetFromHitTestPosition=function(e,t,o,s){var a=new n.Position(t,o),u=this.viewHelper.getLineWidth(t);if(s>u)return new r(e,7,a);var l=this.viewHelper.visibleRangeForPosition2(t,o).left;if(s===l)return new r(e,6,a);var c;if(o>1){var d=this.viewHelper.visibleRangeForPosition2(t,o).left;if(c=!1,c=c||s>d&&l>s,c=c||s>l&&d>s){var h=new i.Range(t,o,t,o-1);return new r(e,6,a,h)}}var p=this.context.model.getLineMaxColumn(t);if(p>o){var f=this.viewHelper.visibleRangeForPosition2(t,o+1);if(f){var g=this.viewHelper.visibleRangeForPosition2(t,o+1).left;if(c=!1,c=c||s>l&&g>s,c=c||s>g&&l>s){var h=new i.Range(t,o,t,o+1);return new r(e,6,a,h)}}}return new r(e,6,a)},e.prototype.createMouseTargetFromContentWidgetsChild=function(e){var t=this._findAttribute(e,"widgetId",this.viewHelper.viewDomNode);return t?new r(e,9,null,null,t):new r(e,0)},e.prototype.createMouseTargetFromOverlayWidgetsChild=function(e){var t=this._findAttribute(e,"widgetId",this.viewHelper.viewDomNode);return t?new r(e,12,null,null,t):new r(e,0)},e.prototype.createMouseTargetFromLinesDecorationsChild=function(e,t){var i=this._getZoneAtCoord(t);if(i)return new r(e,5,i.position,null,i.viewZoneId);var o=this._getFullLineRangeAtCoord(t);return new r(e,4,new n.Position(o.startLineNumber,1),o)},e.prototype.createMouseTargetFromLineNumbers=function(e,t){var i=this._getZoneAtCoord(t);if(i)return new r(e,5,i.position,null,i.viewZoneId);var o=this._getFullLineRangeAtCoord(t);return new r(e,3,new n.Position(o.startLineNumber,1),o)},e.prototype.createMouseTargetFromGlyphMargin=function(e,t){var i=this._getZoneAtCoord(t);if(i)return new r(e,5,i.position,null,i.viewZoneId);var o=this._getFullLineRangeAtCoord(t);return new r(e,2,new n.Position(o.startLineNumber,1),o)},e.prototype.createMouseTargetFromScrollbar=function(e){return new r(e,11)},e.prototype.createMouseTargetFromUnknownTarget=function(e){var t=this._isChild(e,this.viewHelper.viewDomNode,this.viewHelper.viewDomNode),n=null;return t&&(n=this._findAttribute(e,"widgetId",this.viewHelper.viewDomNode)),n?new r(e,12,null,null,n):new r(e,0)},e}();t.MouseTargetFactory=a}),define("vs/base/dom/globalMouseMoveMonitor",["require","exports","vs/base/lifecycle","vs/base/dom/dom","vs/base/dom/mouseEvent","vs/base/dom/iframe"],function(e,t,n,i,o,r){function s(e,t){var n=new o.StandardMouseEvent(t);return n.preventDefault(),{leftButton:n.leftButton,posx:n.posx,posy:n.posy}}t.standardMouseMoveMerger=s;var a=function(){function e(){this.hooks=[],this.mouseMoveEventMerger=null,this.mouseMoveCallback=null,this.onStopCallback=null}return e.prototype.dispose=function(){this.stopMonitoring(!1)},e.prototype.stopMonitoring=function(e){if(this.isMonitoring()){this.hooks=n.disposeAll(this.hooks),this.mouseMoveEventMerger=null,this.mouseMoveCallback=null;var t=this.onStopCallback;this.onStopCallback=null,e&&t()}},e.prototype.isMonitoring=function(){return this.hooks.length>0},e.prototype.startMonitoring=function(e,t,n){var s=this;if(!this.isMonitoring()){this.mouseMoveEventMerger=e,this.mouseMoveCallback=t,this.onStopCallback=n;for(var a=r.getSameOriginWindowChain(),u=0;u<a.length;u++)this.hooks.push(i.addDisposableThrottledListener(a[u].window.document,"mousemove",function(e){return s.mouseMoveCallback(e)},function(e,t){return s.mouseMoveEventMerger(e,t)})),this.hooks.push(i.addDisposableListener(a[u].window.document,"mouseup",function(){return s.stopMonitoring(!0)}));if(r.hasDifferentOriginAncestor()){var l=a[a.length-1];this.hooks.push(i.addDisposableListener(l.window.document,"mouseout",function(e){var t=new o.StandardMouseEvent(e);"html"===t.target.tagName.toLowerCase()&&s.stopMonitoring(!0)})),this.hooks.push(i.addDisposableListener(l.window.document,"mouseover",function(e){var t=new o.StandardMouseEvent(e);
"html"===t.target.tagName.toLowerCase()&&s.stopMonitoring(!0)})),this.hooks.push(i.addDisposableListener(l.window.document.body,"mouseleave",function(){s.stopMonitoring(!0)}))}}},e}();t.GlobalMouseMoveMonitor=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/controller/mouseHandler",["require","exports","vs/base/env","vs/editor/core/position","vs/base/dom/mouseEvent","vs/base/dom/dom","vs/editor/editor","vs/editor/core/controller/mouseTarget","vs/editor/core/view/viewEventHandler","vs/base/lifecycle","vs/base/dom/globalMouseMoveMonitor"],function(e,t,n,i,o,r,s,a,u,l,c){function d(e){return function(t,n){var i=new o.StandardMouseEvent(n),r=!1;return e&&(r=e.mouseTargetIsWidget(i)),r||i.preventDefault(),i}}var h=function(e){function t(n,i,o){var s=this;e.call(this),this.context=n,this.viewController=i,this.viewHelper=o,this.mouseTargetFactory=new a.MouseTargetFactory(this.context,o),this.listenersToRemove=[],this.hideTextAreaTimeout=-1,this.toDispose=[],this.mouseMoveMonitor=new c.GlobalMouseMoveMonitor,this.toDispose.push(this.mouseMoveMonitor),this.lastMouseEvent=null,this.lastMouseDownPosition=null,this.lastMouseDownPositionEqualCount=0,this.lastMouseDownCount=0,this.lastSetMouseDownCountTime=0,this.onScrollTimeout=-1,this.layoutWidth=0,this.layoutHeight=0,this.listenersToRemove.push(r.addListener(this.viewHelper.viewDomNode,"contextmenu",function(e){return s._onContextMenu(e)})),this.listenersToRemove.push(r.addThrottledListener(this.viewHelper.viewDomNode,"mousemove",function(e){return s._onMouseMove(e)},d(this.mouseTargetFactory),t.MOUSE_MOVE_MINIMUM_TIME)),this.listenersToRemove.push(r.addListener(this.viewHelper.viewDomNode,"mouseup",function(e){return s._onMouseUp(e)})),this.listenersToRemove.push(r.addNonBubblingMouseOutListener(this.viewHelper.viewDomNode,function(e){return s._onMouseLeave(e)})),this.listenersToRemove.push(r.addListener(this.viewHelper.viewDomNode,"mousedown",function(e){return s._onMouseDown(e)})),this.context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this.context.removeEventHandler(this),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.toDispose=l.disposeAll(this.toDispose),this._unhook(),-1!==this.hideTextAreaTimeout&&(window.clearTimeout(this.hideTextAreaTimeout),this.hideTextAreaTimeout=-1)},t.prototype.onLayoutChanged=function(){return!1},t.prototype.onScrollChanged=function(e){return this.mouseMoveMonitor.isMonitoring()&&this._hookedOnScroll(e),!1},t.prototype._onContextMenu=function(e){var t=new o.StandardMouseEvent(e),n=r.getDomNodePosition(this.viewHelper.linesContentDomNode),i=this.mouseTargetFactory.createMouseTarget(n,t,!0),s={event:t,target:i};this.viewController.emitContextMenu(s)},t.prototype._onMouseMove=function(e){if(!this.mouseMoveMonitor.isMonitoring()){var t=r.getDomNodePosition(this.viewHelper.linesContentDomNode),n=this.mouseTargetFactory.createMouseTarget(t,e,!0),i={event:e,target:n};this.viewController.emitMouseMove(i)}},t.prototype._onMouseLeave=function(e){var t={event:new o.StandardMouseEvent(e),target:null};this.viewController.emitMouseLeave(t)},t.prototype._onMouseUp=function(e){var t=new o.StandardMouseEvent(e),n=r.getDomNodePosition(this.viewHelper.linesContentDomNode),i=this.mouseTargetFactory.createMouseTarget(n,t,!0),s={event:t,target:i};this.viewController.emitMouseUp(s)},t.prototype._onMouseDown=function(e){var t=this,i=new o.StandardMouseEvent(e),s=r.getDomNodePosition(this.viewHelper.linesContentDomNode),a=this.mouseTargetFactory.createMouseTarget(s,i,!0),u=6===a.type||7===a.type,l=2===a.type||3===a.type||4===a.type,c=3===a.type,d=this.context.configuration.editor.selectOnLineNumbers,h=8===a.type||5===a.type;i.leftButton&&(u||c&&d)?(n.browser.isIE11orEarlier?i.browserEvent.fromElement?(i.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()}):(i.preventDefault(),this.viewHelper.focusTextArea()),this._updateMouse(a.type,i,i.shiftKey,i.detail),this._hook(a.type)):l?i.preventDefault():h&&this.viewHelper.shouldSuppressMouseDownOnViewZone(a.detail)&&i.preventDefault();var p={event:i,target:a};this.viewController.emitMouseDown(p)},t.prototype._hookedOnScroll=function(){var e=this;-1===this.onScrollTimeout&&(this.onScrollTimeout=window.setTimeout(function(){e.onScrollTimeout=-1,e._updateMouse(e.monitoringStartTargetType,null,!0)},10))},t.prototype._hook=function(e){var t=this;this.mouseMoveMonitor.isMonitoring()||(this.monitoringStartTargetType=e,this.mouseMoveMonitor.startMonitoring(d(null),function(e){t._updateMouse(t.monitoringStartTargetType,e,!0)},function(){t._unhook()}))},t.prototype._unhook=function(){-1!==this.onScrollTimeout&&(window.clearTimeout(this.onScrollTimeout),this.onScrollTimeout=-1)},t.prototype._getPositionOutsideEditor=function(e,t){var n;return t.posy<e.top?(n=this.viewHelper.getLineNumberAtVerticalOffset(Math.max(this.viewHelper.getScrollTop()-(e.top-t.posy),0)),{lineNumber:n,column:1}):t.posy>e.top+e.height?(n=this.viewHelper.getLineNumberAtVerticalOffset(this.viewHelper.getScrollTop()+(t.posy-e.top)),{lineNumber:n,column:this.context.model.getLineMaxColumn(n)}):(n=this.viewHelper.getLineNumberAtVerticalOffset(this.viewHelper.getScrollTop()+(t.posy-e.top)),t.posx<e.left?{lineNumber:n,column:1}:t.posx>e.left+e.width?{lineNumber:n,column:this.context.model.getLineMaxColumn(n)}:null)},t.prototype._updateMouse=function(e,n,o,s){"undefined"==typeof s&&(s=0),n=n||this.lastMouseEvent,this.lastMouseEvent=n;var a,u,l=r.getDomNodePosition(this.viewHelper.viewDomNode),c=this._getPositionOutsideEditor(l,n);if(c)a=c.lineNumber,u=c.column;else{var d=this.mouseTargetFactory.createMouseTarget(l,n,!0),h=d.position;if(!h)return;a=h.lineNumber,u=h.column}if(s){var p=(new Date).getTime();p-this.lastSetMouseDownCountTime>t.CLEAR_MOUSE_DOWN_COUNT_TIME&&(s=1),this.lastSetMouseDownCountTime=p,s>this.lastMouseDownCount+1&&(s=this.lastMouseDownCount+1);var f=new i.Position(a,u);this.lastMouseDownPosition&&this.lastMouseDownPosition.equals(f)?this.lastMouseDownPositionEqualCount++:this.lastMouseDownPositionEqualCount=1,this.lastMouseDownPosition=f,this.lastMouseDownCount=Math.min(s,this.lastMouseDownPositionEqualCount),n.detail=this.lastMouseDownCount}if(3===e)n.altKey?o?this.viewController.lastCursorLineSelect("mouse",a,u):this.viewController.createCursor("mouse",a,u,!0):o?this.viewController.lineSelectDrag("mouse",a,u):this.viewController.lineSelect("mouse",a,u);else if(this.lastMouseDownCount>=4)this.viewController.selectAll("mouse");else if(3===this.lastMouseDownCount)n.altKey?o?this.viewController.lastCursorLineSelectDrag("mouse",a,u):this.viewController.lastCursorLineSelect("mouse",a,u):o?this.viewController.lineSelectDrag("mouse",a,u):this.viewController.lineSelect("mouse",a,u);else if(2===this.lastMouseDownCount){var g="none",m=this.viewHelper.visibleRangeForPosition2(a,u);if(m){var v=l.left+m.left;n.posx>v?g="right":n.posx<v&&(g="left")}n.altKey?this.viewController.lastCursorWordSelect("mouse",a,u,g):o?this.viewController.wordSelectDrag("mouse",a,u,g):this.viewController.wordSelect("mouse",a,u,g)}else n.altKey?o?this.viewController.lastCursorMoveToSelect("mouse",a,u):this.viewController.createCursor("mouse",a,u,!1):o?this.viewController.moveToSelect("mouse",a,u):this.viewController.moveTo("mouse",a,u)},t.CLEAR_MOUSE_DOWN_COUNT_TIME=400,t.MOUSE_MOVE_MINIMUM_TIME=100,t}(u.ViewEventHandler);t.MouseHandler=h});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/controller/pointerHandler",["require","exports","vs/base/dom/mouseEvent","vs/base/dom/dom","vs/base/dom/touch","vs/editor/core/controller/mouseHandler"],function(e,t,n,i,o,r){var s=function(e){function t(t,n,o){var r=this;e.call(this,t,n,o);var s=function(e,t){var n={translationY:t.translationY,translationX:t.translationX};return e&&(n.translationY+=e.translationY,n.translationX+=e.translationX),n};this.viewHelper.linesContentDomNode.style.msTouchAction="none",this.viewHelper.linesContentDomNode.style.msContentZooming="none",this._installGestureHandlerTimeout=window.setTimeout(function(){if(r._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture;e.target=r.viewHelper.linesContentDomNode,r.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",function(t){var n=t.pointerType;r._lastPointerType=n===(t.MSPOINTER_TYPE_MOUSE||"mouse")?"mouse":n===(t.MSPOINTER_TYPE_TOUCH||"touch")?"touch":"pen","mouse"!==r._lastPointerType&&e.addPointer(t.pointerId)}),r.listenersToRemove.push(i.addThrottledListener(r.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return r._onGestureChange(e)},s)),r.listenersToRemove.push(i.addListener(r.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return r._onCaptureGestureTap(e)},!0))}},100),this._lastPointerType="mouse"}return __extends(t,e),t.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},t.prototype._onCaptureGestureTap=function(e){var t=this,o=new n.StandardMouseEvent(e),r=i.getDomNodePosition(this.viewHelper.linesContentDomNode),s=this.mouseTargetFactory.createMouseTarget(r,o,!1);s.position&&this.viewController.moveTo("mouse",s.position.lineNumber,s.position.column),o.browserEvent.fromElement?(o.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()})},t.prototype._onGestureChange=function(e){this.viewHelper.setScrollTop(this.viewHelper.getScrollTop()-e.translationY),this.viewHelper.setScrollLeft(this.viewHelper.getScrollLeft()-e.translationX)},t.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},t}(r.MouseHandler),a=function(e){function t(t,n,r){var s=this;e.call(this,t,n,r),this.gesture=new o.Gesture(this.viewHelper.linesContentDomNode),this.listenersToRemove.push(i.addListener(this.viewHelper.linesContentDomNode,o.EventType.Tap,function(e){return s.onTap(e)})),this.listenersToRemove.push(i.addListener(this.viewHelper.linesContentDomNode,o.EventType.Change,function(e){return s.onChange(e)}))}return __extends(t,e),t.prototype.dispose=function(){this.gesture.dispose(),e.prototype.dispose.call(this)},t.prototype.onTap=function(e){e.preventDefault(),this.viewHelper.focusTextArea();var t=i.getDomNodePosition(this.viewHelper.linesContentDomNode),o=new n.StandardMouseEvent(e),r=this.mouseTargetFactory.createMouseTarget(t,o,!1);r.position&&this.viewController.moveTo("mouse",r.position.lineNumber,r.position.column)},t.prototype.onChange=function(e){this.viewHelper.setScrollTop(this.viewHelper.getScrollTop()-e.translationY),this.viewHelper.setScrollLeft(this.viewHelper.getScrollLeft()-e.translationX)},t}(r.MouseHandler),u=function(){function e(e,t,n){this.handler=window.navigator.msPointerEnabled?new s(e,t,n):window.TouchEvent?new a(e,t,n):new r.MouseHandler(e,t,n)}return e.prototype.onScrollChanged=function(e){this.handler.onScrollChanged(e)},e.prototype.dispose=function(){this.handler.dispose()},e}();t.PointerHandler=u});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/viewPart",["require","exports","vs/editor/core/view/viewEventHandler"],function(e,t,n){var i=function(e){function t(t){e.call(this),this._context=t,this._context.addEventHandler(this),this._modificationBeforeRenderingRunners=[],this._modificationRunners=[]}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._modificationBeforeRenderingRunners=[],this._modificationRunners=[]},t.prototype._requestModificationFrameBeforeRendering=function(e){this._modificationBeforeRenderingRunners.push(e)},t.prototype._requestModificationFrame=function(e){this._modificationRunners.push(e)},t.prototype.onBeforeForcedLayout=function(){if(this._modificationBeforeRenderingRunners.length>0){for(var e=0;e<this._modificationBeforeRenderingRunners.length;e++)this._modificationBeforeRenderingRunners[e]();this._modificationBeforeRenderingRunners=[]}},t.prototype.onReadAfterForcedLayout=function(e,t){this.shouldRender&&this._render(e,t)},t.prototype.onWriteAfterForcedLayout=function(){this.shouldRender&&(this.shouldRender=!1,this._executeModificationRunners())},t.prototype._executeModificationRunners=function(){if(this._modificationRunners.length>0){for(var e=0;e<this._modificationRunners.length;e++)this._modificationRunners[e]();this._modificationRunners=[]}},t.prototype._render=function(){throw new Error("Implement me!")},t}(n.ViewEventHandler);t.ViewPart=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/parts/zones/zones",["require","exports","vs/base/types","vs/editor/core/view/viewPart"],function(e,t,n,i){var o=function(e){function t(t,n){e.call(this,t),this._whitespaceManager=n,this.domNode=document.createElement("div"),this.domNode.className="view-zones",this.domNode.style.position="absolute",this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._zones={}}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._whitespaceManager=null,this._zones={}},t.prototype.onConfigurationChanged=function(e){var t=this;if(e.lineHeight){var i,o,r,s={};for(i in this._zones)this._zones.hasOwnProperty(i)&&(o=this._zones[i],r=this._heightInLinesToPixels(o.delegate.heightInLines),n.isFunction(o.delegate.onComputedHeight)&&o.delegate.onComputedHeight(r),s[i]=r,this._whitespaceManager.changeWhitespace(parseInt(i,10),r));return this._requestModificationFrame(function(){for(i in t._zones)t._zones.hasOwnProperty(i)&&s.hasOwnProperty(i)&&(t._zones[i].delegate.domNode.style.height=s[i]+"px")}),!0}return!1},t.prototype.onLineMappingChanged=function(){var e,t,n=!1;for(t in this._zones)if(this._zones.hasOwnProperty(t)){e=this._zones[t];var i=this._computeWhitespaceAfterLineNumber(e.delegate);n=this._whitespaceManager.changeAfterLineNumberForWhitespace(parseInt(t,10),i)||n}return n},t.prototype.onLayoutChanged=function(){return!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype._computeWhitespaceAfterLineNumber=function(e){if(0===e.afterLineNumber)return 0;var t;if("undefined"!=typeof e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{var n=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t={lineNumber:n,column:this._context.model.getModelLineMaxColumn(n)}}var i=this._context.model.convertModelPositionToViewPosition(t.lineNumber,t.column);return i.lineNumber},t.prototype.addZone=function(e){var t=this._heightInLinesToPixels(e.heightInLines),i=this._whitespaceManager.addWhitespace(this._computeWhitespaceAfterLineNumber(e),t),o={whitespaceId:i,delegate:e,isVisible:!1};return n.isFunction(o.delegate.onComputedHeight)&&o.delegate.onComputedHeight(t),this._requestModificationFrame(function(){o.delegate.domNode.style.position="absolute",o.delegate.domNode.style.height=t+"px",o.delegate.domNode.style.width="100%",o.delegate.domNode.style.display="none"}),this._zones[o.whitespaceId.toString()]=o,this.domNode.appendChild(o.delegate.domNode),o.whitespaceId},t.prototype.removeZone=function(e){if(this._zones.hasOwnProperty(e.toString())){var t=this._zones[e.toString()];return delete this._zones[e.toString()],this._whitespaceManager.removeWhitespace(t.whitespaceId),this._requestModificationFrame(function(){t.delegate.domNode.parentNode&&t.delegate.domNode.parentNode.removeChild(t.delegate.domNode)}),!0}return!1},t.prototype.shouldSuppressMouseDownOnViewZone=function(e){if(this._zones.hasOwnProperty(e.toString())){var t=this._zones[e.toString()];return t.delegate.suppressMouseDown}return!1},t.prototype._heightInLinesToPixels=function(e){return this._context.configuration.editor.lineHeight*e},t.prototype._render=function(e,t){var i=this,o=this._whitespaceManager.getWhitespaceViewportData();t&&(t.renderedViewZones+=o.length),this._requestModificationFrame(function(){var t,r,s={},a=!1;for(t=0,r=o.length;r>t;t++)s[o[t].id.toString()]=o[t],a=!0;var u,l;for(u in i._zones)i._zones.hasOwnProperty(u)&&(l=i._zones[u],s.hasOwnProperty(u)?(l.delegate.domNode.style.top=e.getScrolledTopFromAbsoluteTop(s[u].verticalOffset)+"px",l.delegate.domNode.style.height=s[u].height+"px",l.isVisible||(l.delegate.domNode.style.display="block",l.isVisible=!0),n.isFunction(l.delegate.onDomNodeTop)&&l.delegate.onDomNodeTop(e.getScrolledTopFromAbsoluteTop(s[u].verticalOffset))):(l.isVisible&&(l.delegate.domNode.style.display="none",l.isVisible=!1),n.isFunction(l.delegate.onDomNodeTop)&&l.delegate.onDomNodeTop(e.getScrolledTopFromAbsoluteTop(-1e6))));a&&(i.domNode.style.width=e.scrollWidth+"px")})},t}(i.ViewPart);t.ViewZones=o}),define("vs/editor/core/view/lines/viewLineParts",["require","exports","vs/base/arrays"],function(e,t,n){function i(e,t,n){return n.length>0?new r(e,t,n):new o(t)}t.createLineParts=i;var o=function(){function e(e){this.lineTokens=e}return e.prototype.getParts=function(){return this.lineTokens.getTokens()},e.prototype.equals=function(t){if(t instanceof e){var n=t;return this.lineTokens.equals(n.lineTokens)}return!1},e.prototype.findIndexOfOffset=function(e){return this.lineTokens.findIndexOfOffset(e)},e}();t.FastViewLineParts=o;var r=function(){function e(e,t,n){for(var i,o,r,a=l.normalize(e,n),u=0,c=a.length,d=t.getTokens(),h=[],p=0,f=d.length;f>p;p++){for(i=d[p].startIndex,o=f>p+1?d[p+1].startIndex:t.getTextLength(),r=d[p].type;c>u&&a[u].startOffset<o;){if(a[u].startOffset>i&&(h.push(new s(i,r)),i=a[u].startOffset),h.push(new s(i,r+" "+a[u].className)),a[u].endOffset>=o){i=o;break}i=a[u].endOffset+1,u++}o>i&&h.push(new s(i,r))}this.parts=h,this.lastPartIndex=h.length-1,this.lastEndOffset=o}return e.prototype.getParts=function(){return this.parts},e.prototype.equals=function(t){if(t instanceof e){var n=t;if(this.lastPartIndex!==n.lastPartIndex)return!1;if(this.lastEndOffset!==n.lastEndOffset)return!1;for(var i=0,o=this.parts.length;o>i;i++){if(this.parts[i].startIndex!==n.parts[i].startIndex)return!1;if(this.parts[i].type!==n.parts[i].type)return!1}return!0}return!1},e.prototype.findIndexOfOffset=function(e){return n.findIndexInSegmentsArray(this.parts,e)},e}();t.ViewLineParts=r;var s=function(){function e(e,t){this.startIndex=e,this.type=t}return e}(),a=function(){function e(e,t,n){this.startOffset=e,this.endOffset=t,this.className=n}return e}();t.DecorationSegment=a;var u=function(){function e(){this.stopOffsets=[],this.classNames=[],this.count=0}return e.prototype.consumeLowerThan=function(e,t,n){for(;this.count>0&&this.stopOffsets[0]<e;){for(var i=0;i+1<this.count&&this.stopOffsets[i]===this.stopOffsets[i+1];)i++;n.push(new a(t,this.stopOffsets[i],this.classNames.join(" "))),t=this.stopOffsets[i]+1,this.stopOffsets.splice(0,i+1),this.classNames.splice(0,i+1),this.count-=i+1}return this.count>0&&e>t&&(n.push(new a(t,e-1,this.classNames.join(" "))),t=e),t},e.prototype.insert=function(e,t){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t);else for(var n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t);break}this.count++},e}(),l=function(){function e(){}return e.normalize=function(t,n){var i=[];if(0===n.length)return i;var o,r,s,a,l,c=new u,d=0;for(a=0,l=n.length;l>a;a++)o=n[a],o.range.endLineNumber<t||o.range.startLineNumber>t||(r=o.range.startLineNumber===t?o.range.startColumn-1:0,s=o.range.endLineNumber===t?o.range.endColumn-2:e.MAX_LINE_LENGTH-1,0>s||(d=c.consumeLowerThan(r,d,i),0===c.count&&(d=r),c.insert(s,o.options.inlineClassName)));return c.consumeLowerThan(e.MAX_LINE_LENGTH,d,i),i},e.MAX_LINE_LENGTH=1e7,e}();t.LineDecorationsNormalizer=l});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/lines/viewLine",["require","exports","vs/base/env","vs/editor/core/view/viewContext","vs/editor/core/view/lines/viewLineParts"],function(e,t,n,i,o){function r(e,t){return e.top===t.top?e.left-t.left:e.top-t.top}function s(e,t,n){var i=e.findIndexOfOffset(t);return n>=i?i:n}function a(e){return window.screen&&window.screen.deviceXDPI&&(navigator.userAgent.indexOf("Trident/6.0")>=0||navigator.userAgent.indexOf("Trident/5.0")>=0)?new d(e):n.browser.isWebKit?new h(e):new c(e)}function u(e){var t=e.lineContent,n={charOffsetInPart:[],hasOverflowed:!1,lastRenderedPartIndex:0,partsCount:0,output:[]},i=0;if(n.output.push("<span>"),t.length>0){var o,r,s,a,u=t.length,l=-1,c=0,d=0,h=0,p="",b=e.tabSize,C=e.stopRenderingLineAfter,w=e.parts;for(-1!==C&&u>C-1&&(p=t.substr(C-1,1),u=C-1,n.hasOverflowed=!0),r=0;u>r;r++){switch(r===c&&(l++,c=l+1<w.length?w[l+1].startIndex:Number.MAX_VALUE,r>0&&n.output.push("</span>"),i++,n.output.push('<span class="'),s="token "+w[l].type.replace(/[^a-z0-9\-]/gi," "),n.output.push(s),n.output.push('">'),h=0),n.charOffsetInPart[r]=h,o=t.charCodeAt(r)){case g:for(a=b-(r+d)%b,d+=a-1,h+=a-1;a>0;)n.output.push(" "),a--;break;case f:n.output.push(" ");break;case m:n.output.push("&lt;");break;case v:n.output.push("&gt;");break;case y:n.output.push("&amp;");break;case 0:n.output.push("&#00;");break;case _:n.output.push("&#8203");break;default:n.output.push(t.charAt(r))}h++}n.output.push("</span>"),n.charOffsetInPart[u]=h,n.lastRenderedPartIndex=l,p.length>0&&(n.output.push('<span class="'),n.output.push(s),n.output.push('" style="color:grey">'),n.output.push(p),n.output.push("&hellip;</span>"))}else n.output.push("<span>&nbsp;</span>");return n.output.push("</span>"),n.partsCount=i,n}var l=function(){function e(e,t,n,i){this.top=e,this.left=t,this.width=n,this.height=i}return e}(),c=function(){function e(e){this._context=e,this._domNode=document.createElement("div"),this._domNode.className=i.ClassNames.VIEW_LINE,this._domNode.style.height=this._context.configuration.editor.lineHeight+"px",this._isInvalid=!0,this._isMaybeInvalid=!1,this._lineParts=null,this._cachedInnerHTML=null,this._charOffsetInPart=[],this._hasOverflowed=!1,this._lastRenderedPartIndex=0}return e.prototype.getDomNode=function(){return this._domNode},e.prototype.setDomNode=function(e){this._domNode=e},e.prototype.onContentChanged=function(){this._isInvalid=!0},e.prototype.onLinesInsertedAbove=function(){this._isMaybeInvalid=!0},e.prototype.onLinesDeletedAbove=function(){this._isMaybeInvalid=!0},e.prototype.onLineChangedAbove=function(){this._isMaybeInvalid=!0},e.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},e.prototype.onModelDecorationsChanged=function(){this._isMaybeInvalid=!0},e.prototype.onConfigurationChanged=function(){this._isInvalid=!0},e.prototype.shouldUpdateHTML=function(e){var t=null;return(this._isMaybeInvalid||this._isInvalid)&&(t=this._computeLineParts(e)),this._isMaybeInvalid&&(this._isInvalid||this._lineParts&&this._lineParts.equals(t)||(this._isInvalid=!0),this._isMaybeInvalid=!1),this._isInvalid&&(this._lineParts=t),this._isInvalid},e.prototype.getLineOuterHTML=function(e,t){var n=[];return n.push('<div lineNumber="'),n.push(e.toString()),n.push('" style="top:'),n.push(t.toString()),n.push("px;height:"),n.push(this._context.configuration.editor.lineHeight.toString()),n.push('px;" class="'),n.push(i.ClassNames.VIEW_LINE),n.push('">'),n=n.concat(this._getLineInnerHTML(e)),n.push("</div>"),n},e.prototype.getLineStatistics=function(){return{partsCount:this._partsCount,charactersCount:this._charOffsetInPart.length}},e.prototype._getLineInnerHTML=function(e){return this._isInvalid&&(this._cachedInnerHTML=this._renderMyLine(e,this._lineParts),this._isInvalid=!1),this._cachedInnerHTML},e.prototype.layoutLine=function(e,t){var n=this._domNode.getAttribute("lineNumber");n!==e.toString()&&this._domNode.setAttribute("lineNumber",e.toString());var i=this._domNode.style.top;i!==t+"px"&&(this._domNode.style.top=t+"px");var o=this._domNode.style.height;o!==this._context.configuration.editor.lineHeight+"px"&&(this._domNode.style.height=this._context.configuration.editor.lineHeight+"px")},e.prototype._computeLineParts=function(e){return o.createLineParts(e,this._context.model.getLineTokens(e),this._context.model.getInlineDecorations(e))},e.prototype._renderMyLine=function(e,n){this._bustReadingCache();var i=t.renderLine({lineContent:this._context.model.getLineContent(e),tabSize:this._context.configuration.getIndentationOptions().tabSize,stopRenderingLineAfter:this._context.configuration.editor.stopRenderingLineAfter,parts:n.getParts()});return this._charOffsetInPart=i.charOffsetInPart,this._hasOverflowed=i.hasOverflowed,this._lastRenderedPartIndex=i.lastRenderedPartIndex,this._partsCount=i.partsCount,i.output},e.prototype._getReadingTarget=function(){return this._domNode.firstChild},e.prototype._bustReadingCache=function(){this._cachedWidth=-1},e.prototype.getHeight=function(){return this._domNode.offsetHeight},e.prototype.getWidth=function(){return-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget().offsetWidth),this._cachedWidth},e.prototype.getVisibleRangesForRange=function(e,t,n,i,o,r){var s=this._context.configuration.editor.stopRenderingLineAfter;return-1!==s&&t>s&&n>s?null:(-1!==s&&t>s&&(t=s),-1!==s&&n>s&&(n=s),this._readVisibleRangesForRange(e,t,n,i,o,r))},e.prototype._readVisibleRangesForRange=function(e,t,n,i,o,s){var a;if(a=t===n?this._readRawVisibleRangesForPosition(e,t,i,o,s):this._readRawVisibleRangesForRange(e,t,n,i,o,s),!a||a.length<=1)return a;a.sort(r);for(var u,l=[],c=a[0],d=1,h=a.length;h>d;d++)u=a[d],c.left+c.width+.001>=u.left?c.width=Math.max(c.width,u.left+u.width-c.left):(l.push(c),c=u);return l.push(c),l},e.prototype._readRawVisibleRangesForPosition=function(e,t,n,i,o){if(0===this._charOffsetInPart.length){var r=this._readRawVisibleRangesForEntireLine(n,i);return r[0].width=0,r}var a=s(this._lineParts,t-1,this._lastRenderedPartIndex),u=this._charOffsetInPart[t-1];return this._readRawVisibleRangesFrom(this._getReadingTarget(),a,u,a,u,n,i,o)},e.prototype._readRawVisibleRangesForRange=function(e,t,n,i,o,r){if(1===t&&n===this._charOffsetInPart.length)return this._readRawVisibleRangesForEntireLine(i,o);var a=s(this._lineParts,t-1,this._lastRenderedPartIndex),u=this._charOffsetInPart[t-1],l=s(this._lineParts,n-1,this._lastRenderedPartIndex),c=this._charOffsetInPart[n-1];return this._readRawVisibleRangesFrom(this._getReadingTarget(),a,u,l,c,i,o,r)},e.prototype._readRawVisibleRangesForEntireLine=function(e){var t=this._domNode.getBoundingClientRect();return[new l(t.top-e,0,this._getReadingTarget().offsetWidth,t.height)]},e.prototype._readRawVisibleRangesFrom=function(e,t,n,i,o,r,s,a){var u=p.createRange();u.setStart(e.children[t].firstChild,n),u.setEnd(e.children[i].firstChild,o);var l=u.getClientRects(),c=null;return l.length>0&&(c=this._createRawVisibleRangesFromClientRects(l,r,s)),p.detachRange(u,a),c},e.prototype._createRawVisibleRangesFromClientRects=function(e,t,n){var i,o,r=e.length,s=[];for(o=0;r>o;o++)i=e[o],s.push(new l(i.top-t,Math.max(0,i.left-n),i.width,i.height));return s},e.prototype.getColumnOfNodeOffset=function(e,t,n){for(var i=-1;t;)t=t.previousSibling,i++;var o=this._lineParts.getParts();if(i>=o.length)return this._context.configuration.editor.stopRenderingLineAfter;if(0===n)return o[i].startIndex+1;var r,s,a=o[i].startIndex;i+1<o.length?(r=o[i+1].startIndex,s=this._charOffsetInPart[r-1]+this._charOffsetInPart[r]):(r=this._context.model.getLineMaxColumn(e)-1,s=this._charOffsetInPart[r]);var u,l=a,c=r;-1!==this._context.configuration.editor.stopRenderingLineAfter&&(c=Math.min(this._context.configuration.editor.stopRenderingLineAfter-1,r));for(var d,h,p,f,g;c>l;){if(u=Math.floor((l+c)/2),d=this._charOffsetInPart[u],h=u===r?Number.MAX_VALUE:u+1===r?s:this._charOffsetInPart[u+1],p=u===a?Number.MIN_VALUE:this._charOffsetInPart[u-1],f=(p+d)/2,g=(d+h)/2,n>f&&g>=n)return u+1;f>=n?c=u-1:l=u+1}return l+1},e}(),d=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype._createRawVisibleRangesFromClientRects=function(e,t,n){var i,o,r=e.length,s=[],a=screen.logicalYDPI/screen.deviceYDPI,u=screen.logicalXDPI/screen.deviceXDPI;for(s=new Array(r),o=0;r>o;o++)i=e[o],s[o]=new l(i.top*a-t,Math.max(0,i.left*u-n),i.width*u,i.height*a);return s},t}(c),h=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype._readVisibleRangesForRange=function(t,n,i,o,r,s){var a=e.prototype._readVisibleRangesForRange.call(this,t,n,i,o,r,s);if(!a||0===a.length||n===i||1===n&&i===this._charOffsetInPart.length)return a;var u=this._readRawVisibleRangesForPosition(t,i-1,o,r,s),l=this._readRawVisibleRangesForPosition(t,i,o,r,s);if(u&&u.length>0&&l&&l.length>0){var c=u[0],d=l[0],h=!0;c.top===d.top&&(h=c.left<=d.left);var p=a[a.length-1];h&&p.top===d.top&&p.left<d.left?p.width=d.left-p.left:p.top>d.top&&a.splice(a.length-1,1)}return a},t}(c),p=function(){function e(){}return e.createRange=function(){return e._handyReadyRange||(e._handyReadyRange=document.createRange()),e._handyReadyRange},e.detachRange=function(e,t){e.selectNodeContents(t)},e}();t.createLine=a;var f=" ".charCodeAt(0),g="	".charCodeAt(0),m="<".charCodeAt(0),v=">".charCodeAt(0),y="&".charCodeAt(0),_="\r".charCodeAt(0);t.renderLine=u});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/lines/viewLayer",["require","exports","vs/base/dom/dom","vs/editor/core/view/viewEventHandler"],function(e,t,n,i){var o=function(e){function t(t,n){var i=this;e.call(this),this._context=t,this._layoutProvider=n,this.domNode=this._createDomNode(),this._guardElement=this._createGuard(),this.domNode.appendChild(this._guardElement),this._lines=[],this._rendLineNumberStart=1,this._renderer=new r(function(){return i._createLine()})}return __extends(t,e),t.prototype.dispose=function(){this._context=null,this._layoutProvider=null,this._lines=null},t.prototype.onConfigurationChanged=function(e){for(var t=0;t<this._lines.length;t++)this._lines[t].onConfigurationChanged(e);return!0},t.prototype.onLayoutChanged=function(){return!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelFlushed=function(){return this._lines=[],this._rendLineNumberStart=1,n.clearNode(this.domNode),this.domNode.appendChild(this._guardElement),!0},t.prototype.onModelLinesDeleted=function(e){var t,n=Math.max(e.fromLineNumber-this._rendLineNumberStart,0),i=Math.min(e.toLineNumber-this._rendLineNumberStart,this._lines.length-1);if(e.fromLineNumber<this._rendLineNumberStart&&(e.toLineNumber<this._rendLineNumberStart?this._rendLineNumberStart-=e.toLineNumber-e.fromLineNumber+1:this._rendLineNumberStart=e.fromLineNumber),i>=n){for(t=n;i>=t;t++)this.domNode.removeChild(this._lines[t].getDomNode());this._lines.splice(n,i-n+1)}for(t=n;t<this._lines.length;t++)this._lines[t].onLinesDeletedAbove();return!0},t.prototype.onModelLineChanged=function(e){var t=e.lineNumber-this._rendLineNumberStart,n=!1;t>=0&&t<this._lines.length&&(this._lines[t].onContentChanged(),n=!0);for(var i=Math.max(t,0);i<this._lines.length;i++)this._lines[i].onLineChangedAbove(),n=!0;return n},t.prototype.onModelLinesInserted=function(e){var t;if(e.fromLineNumber<=this._rendLineNumberStart){for(this._rendLineNumberStart+=e.toLineNumber-e.fromLineNumber+1,t=0;t<this._lines.length;t++)this._lines[t].onLinesInsertedAbove();
return!0}if(e.fromLineNumber>=this._rendLineNumberStart+this._lines.length)return!1;var n=Math.min(e.fromLineNumber-this._rendLineNumberStart,this._lines.length-1),i=Math.min(e.toLineNumber-this._rendLineNumberStart,this._lines.length-1);if(i>=n){var o=this._lines[n].getDomNode();for(t=n;i>=t;t++){var r=this._createLine();this.domNode.insertBefore(r.getDomNode(),o),this._lines.splice(t,0,r)}for(var s=i-n+1,t=this._lines.length-s;t<this._lines.length;t++)this.domNode.removeChild(this._lines[t].getDomNode());this._lines.splice(this._lines.length-s,s)}for(t=i;t<this._lines.length;t++)this._lines[t].onLinesInsertedAbove();return!0},t.prototype.onModelTokensChanged=function(e){var t=e.fromLineNumber-this._rendLineNumberStart,n=e.toLineNumber-this._rendLineNumberStart;if(0>n||t>=this._lines.length)return!1;for(var i=Math.min(Math.max(t,0),this._lines.length-1),o=Math.min(Math.max(n,0),this._lines.length-1),r=!1,s=i;o>=s;s++)r=!0,this._lines[s].onTokensChanged();return r},t.prototype._renderLines=function(e,t){var n={domNode:this.domNode,guardElement:this._guardElement,rendLineNumberStart:this._rendLineNumberStart,lines:this._lines,linesLength:this._lines.length,frameData:t},i=this._renderer.renderWithManyUpdates(n,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._guardElement=i.guardElement,this._rendLineNumberStart=i.rendLineNumberStart,this._lines=i.lines},t.prototype._createDomNode=function(){var e=document.createElement("div");return e.className="view-layer",e.style.position="absolute",e.style.width="1000000px",e.style.height="1000000px",e.setAttribute("role","presentation"),e.setAttribute("aria-hidden","true"),e},t.prototype._createGuard=function(){return document.createElement("div")},t.prototype._createLine=function(){throw new Error("Implement me!")},t}(i.ViewEventHandler);t.ViewLayer=o;var r=function(){function e(e){this._createLine=e}return e.prototype.renderWithManyUpdates=function(e,t,n,i){return this._render(e,t,n,i)},e.prototype._render=function(e,t,n,i){var o={domNode:e.domNode,guardElement:e.guardElement,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength,frameData:e.frameData};this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(n-o.rendLineNumberStart,o.linesLength-1),i,t);var r,s,a;return o.rendLineNumberStart>t?(r=t,s=Math.min(n,o.rendLineNumberStart-1),s>=r&&(this._insertLinesBefore(o,r,s,i,t),o.linesLength+=s-r+1)):o.rendLineNumberStart<t&&(a=Math.min(o.linesLength,t-o.rendLineNumberStart),a>0&&(this._removeLinesBefore(o,a),o.linesLength-=a)),o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<n?(r=o.rendLineNumberStart+o.linesLength,s=n,s>=r&&(this._insertLinesAfter(o,r,s,i,t),o.linesLength+=s-r+1)):o.rendLineNumberStart+o.linesLength-1>n&&(r=Math.max(0,n-o.rendLineNumberStart+1),s=o.linesLength-1,a=s-r+1,a>0&&(this._removeLinesAfter(o,a),o.linesLength-=a)),this._finishRendering(o,i),o},e.prototype._renderUntouchedLines=function(e,t,n,i,o){var r,s;for(r=t;n>=r;r++)s=e.rendLineNumberStart+r,e.lines[r].layoutLine(s,i[s-o])},e.prototype._insertLinesBefore=function(e,t,n){var i,o,r=e.linesLength>0?e.lines[0].getDomNode():e.guardElement,s=[];for(o=t;n>=o;o++)i=this._createLine(),s.push(i),e.domNode.insertBefore(i.getDomNode(),r);e.lines=s.concat(e.lines)},e.prototype._removeLinesBefore=function(e,t){var n;for(n=0;t>n;n++)e.domNode.removeChild(e.lines[n].getDomNode());e.lines.splice(0,t)},e.prototype._insertLinesAfter=function(e,t,n){var i,o,r=e.guardElement,s=[];for(o=t;n>=o;o++)i=this._createLine(),s.push(i),e.domNode.insertBefore(i.getDomNode(),r);e.lines=e.lines.concat(s)},e.prototype._removeLinesAfter=function(e,t){var n,i=e.linesLength-t;for(n=0;t>n;n++)e.domNode.removeChild(e.lines[i+n].getDomNode());e.lines.splice(i,t)},e.prototype._finishRendering=function(e,t){var n,i,o,r=!1,s=[],a=[],u=0,l=0,c=0,d=0,h=0,p=0;for(n=0;n<e.linesLength;n++)i=e.lines[n],i.shouldUpdateHTML(n+e.rendLineNumberStart)?(a=a.concat(i.getLineOuterHTML(n+e.rendLineNumberStart,t[n])),s[n]=!0,r=!0,e.frameData&&(o=i.getLineStatistics(),l++,d+=o.partsCount,p+=o.charactersCount)):e.frameData&&(o=i.getLineStatistics(),u++,c+=o.partsCount,h+=o.charactersCount);if(e.frameData&&(e.frameData.renderedVisibleLinesCount+=l,e.frameData.totalVisibleLinesCount+=l+u,e.frameData.renderedVisiblePartsCount+=d,e.frameData.totalVisiblePartsCount+=d+c,e.frameData.renderedVisibleCharactersCount+=p,e.frameData.totalVisibleCharactersCount+=p+h),r){var f=document.createElement("div");f.innerHTML=a.join("");var g,m;for(n=0;n<e.linesLength;n++)i=e.lines[n],s[n]&&(m=f.firstChild,g=i.getDomNode(),g.parentNode.replaceChild(m,g),i.setDomNode(m))}},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/lines/viewLines",["require","exports","vs/editor/core/view/lines/viewLine","vs/editor/core/view/lines/viewLayer","vs/editor/core/view/viewContext","vs/editor/core/range","vs/base/time/schedulers"],function(e,t,n,i,o,r,s){var a=function(e){function t(t,n){var i=this;e.call(this,t,n),this.domNode.className=o.ClassNames.VIEW_LINES,this._maxLineWidth=0,this._asyncUpdateLineWidths=new s.RunOnceScheduler(function(){i._updateLineWidths()},200),this._currentVisibleRange=new r.Range(1,1,1,1),this._lastCursorRevealRangeHorizontallyEvent=null,this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._asyncUpdateLineWidths.dispose(),e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(t){var n=e.prototype.onConfigurationChanged.call(this,t);return t.wrappingColumn&&(this._maxLineWidth=0),n},t.prototype.onLayoutChanged=function(t){var n=e.prototype.onLayoutChanged.call(this,t);return this._maxLineWidth=0,n},t.prototype.onModelFlushed=function(){var t=e.prototype.onModelFlushed.call(this);return this._maxLineWidth=0,t},t.prototype.onModelDecorationsChanged=function(t){for(var n=e.prototype.onModelDecorationsChanged.call(this,t),i=0;i<this._lines.length;i++)this._lines[i].onModelDecorationsChanged();return n||!0},t.prototype.onCursorRevealRange=function(e){var t=this._computeScrollTopToRevealRange(this._layoutProvider.getCurrentViewport(),e.range,e.revealVerticalInCenter);return e.revealHorizontal&&(this._lastCursorRevealRangeHorizontallyEvent=e),this._layoutProvider.setScrollTop(t),!0},t.prototype.getPositionFromDOMInfo=function(e,t){var n=this._getLineNumberFromDOMInfo(e);if(-1===n)return null;if(1===this._context.model.getLineMaxColumn(n))return{lineNumber:n,column:1};var i=n-this._rendLineNumberStart;if(0>i||i>=this._lines.length)return null;var o=this._lines[i].getColumnOfNodeOffset(n,e,t);return{lineNumber:n,column:o}},t.prototype._getLineNumberFromDOMInfo=function(e){for(;e&&1===e.nodeType;){if(e.className===o.ClassNames.VIEW_LINE)return parseInt(e.getAttribute("lineNumber"),10);e=e.parentElement}return-1},t.prototype.getLineWidth=function(e){var t=e-this._rendLineNumberStart;return 0>t||t>=this._lines.length?-1:this._lines[t].getWidth()},t.prototype.visibleRangesForRange2=function(e,n,i){if(this.shouldRender)return null;var o=e.endLineNumber;if(e=r.intersectRanges(e,this._currentVisibleRange),!e)return null;var s,a,u,l,c,d,h,p=[],f=this._context.configuration.editor.lineHeight,g=this.domNode.getBoundingClientRect(),m=g.top,v=g.left;for(i&&(h=this._context.model.convertViewPositionToModelPosition(e.startLineNumber,1).lineNumber),a=e.startLineNumber;a<=e.endLineNumber;a++)if(u=a-this._rendLineNumberStart,!(0>u||u>=this._lines.length)&&(l=a===e.startLineNumber?e.startColumn:1,c=a===e.endLineNumber?e.endColumn:this._context.model.getLineMaxColumn(a),s=this._lines[u].getVisibleRangesForRange(a,l,c,m,v,this._guardElement),s&&s.length>0)){for(var y=0,_=s.length;_>y;y++)s[y].top=(s[y].top/f+.5|0)*f+n,s[y].height=f;i&&o>a&&(d=h,h=this._context.model.convertViewPositionToModelPosition(a+1,1).lineNumber,d!==h&&(s[s.length-1].width+=t.LINE_FEED_WIDTH)),p=p.concat(s)}return 0===p.length?null:p},t.prototype._createLine=function(){return n.createLine(this._context)},t.prototype._renderAndUpdateLineHeights=function(t,n){e.prototype._renderLines.call(this,t,n),this._currentVisibleRange=new r.Range(0+this._rendLineNumberStart,1,this._lines.length-1+this._rendLineNumberStart,this._context.model.getLineMaxColumn(this._lines.length-1+this._rendLineNumberStart));var i=t.visibleRangesDeltaTop+"px";if(this.domNode.style.top!==i&&(this.domNode.style.top=i),this._lastCursorRevealRangeHorizontallyEvent){var o=this._computeScrollLeftToRevealRange(this._lastCursorRevealRangeHorizontallyEvent.range);this._lastCursorRevealRangeHorizontallyEvent=null;var s=this._context.configuration.getWrappingColumn(),a=0===s;a||this._ensureMaxLineWidth(o.maxHorizontalOffset),this._layoutProvider.setScrollLeft(o.scrollLeft)}},t.prototype._updateLineWidths=function(){var e,t,n=1;for(e=0;e<this._lines.length;e++)t=this._lines[e].getWidth(),n=Math.max(n,t);this._ensureMaxLineWidth(n)},t.prototype.render=function(e){var t=this._layoutProvider.getLinesViewportData();return this.shouldRender&&(this.shouldRender=!1,this._renderAndUpdateLineHeights(t,e),this._asyncUpdateLineWidths.schedule()),t.visibleRange=this._currentVisibleRange,t},t.prototype._ensureMaxLineWidth=function(e){this._maxLineWidth<e&&(this._maxLineWidth=e,this._layoutProvider.onMaxLineWidthChanged(this._maxLineWidth))},t.prototype._computeScrollTopToRevealRange=function(e,t,n){var i,o,r=e.top,s=e.height,a=r+s;i=this._layoutProvider.getVerticalOffsetForLineNumber(t.startLineNumber),o=this._layoutProvider.getVerticalOffsetForLineNumber(t.endLineNumber)+this._layoutProvider.heightInPxForLine(t.endLineNumber),n||(o+=this._context.configuration.editor.lineHeight);var u;if(n){var l=(i+o)/2;u=Math.max(0,l-s/2)}else u=this._computeMinimumScrolling(r,a,i,o);return u},t.prototype._computeScrollLeftToRevealRange=function(e){var n=0;if(e.startLineNumber!==e.endLineNumber)return{scrollLeft:0,maxHorizontalOffset:n};var i=this._layoutProvider.getCurrentViewport(),o=i.left,r=o+i.width,s=this.visibleRangesForRange2(e,0,!1),a=Number.MAX_VALUE,u=0;if(!s)return{scrollLeft:o,maxHorizontalOffset:n};var l,c;for(l=0;l<s.length;l++)c=s[l],c.left<a&&(a=c.left),c.left+c.width>u&&(u=c.left+c.width);n=u,a=Math.max(0,a-t.HORIZONTAL_EXTRA_PX),u+=this._context.configuration.editor.revealHorizontalRightPadding;var d=this._computeMinimumScrolling(o,r,a,u);return{scrollLeft:d,maxHorizontalOffset:n}},t.prototype._computeMinimumScrolling=function(e,t,n,i){var o=t-e,r=i-n;return o>r?e>n?n:i>t?Math.max(0,i-o):e:n},t.LINE_FEED_WIDTH=10,t.HORIZONTAL_EXTRA_PX=30,t}(i.ViewLayer);t.ViewLines=a}),define("vs/editor/core/view/parts/overviewRuler/overviewRulerImpl",["require","exports","vs/editor/editor"],function(e,t){t.hasCanvas=-1===window.navigator.userAgent.indexOf("MSIE 8");var n=function(){function e(e,t,n,i,o,r,s){this._canvasLeftOffset=e,this._minimumHeight=o,this._maximumHeight=r,this._getVerticalOffsetForLine=s,this._zones=[],this._domNode=document.createElement("canvas"),this._domNode.className=t,this._domNode.style.position="absolute",this._width=0,this._height=0,this._outerHeight=n,this._lineHeight=i,this._lanesCount=3}return e.prototype.dispose=function(){this._zones=[]},e.prototype.setLayout=function(e,t){this._domNode.style.top=e.top+"px",this._domNode.style.right=e.right+"px",(this._width!==e.width||this._height!==e.height)&&(this._width=e.width,this._height=e.height,this._domNode.width=this._width,this._domNode.height=this._height,t&&this.render())},e.prototype.getLanesCount=function(){return this._lanesCount},e.prototype.setLanesCount=function(e,t){this._lanesCount=e,t&&this.render()},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.setScrollHeight=function(e,t){this._outerHeight=e,t&&this.render()},e.prototype.setLineHeight=function(e,t){this._lineHeight=e,t&&this.render()},e.prototype.setZones=function(e,t){this._zones=e,t&&this.render()},e.prototype._insertZone=function(e,t,n,i,o,r){var s=Math.floor((t+n)/2),a=n-s;a>o/2&&(a=o/2),i/2>a&&(a=i/2),0>s-a&&(s=a),s+a>this._height&&(s=this._height-a),e[r]=e[r]||[],e[r].push({from:s-a,to:s+a})},e.prototype._renderVerticalPatch=function(e,t,n,i,o){var r,s,a,u,l,c,d,h={};for(r=0,s=this._zones.length;s>r;r++)if(a=this._zones[r],a.position&n)if(u=this._getVerticalOffsetForLine(a.startLineNumber),l=this._getVerticalOffsetForLine(a.endLineNumber)+this._lineHeight,u*=t,l*=t,a.forceHeight)l=u+a.forceHeight,this._insertZone(h,u,l,a.forceHeight,a.forceHeight,a.color);else if(c=a.endLineNumber-a.startLineNumber+1,d=c*this._maximumHeight,l-u>d)for(var p=a.startLineNumber;p<=a.endLineNumber;p++)u=this._getVerticalOffsetForLine(p),l=u+this._lineHeight,u*=t,l*=t,this._insertZone(h,u,l,this._minimumHeight,this._maximumHeight,a.color);else this._insertZone(h,u,l,this._minimumHeight,d,a.color);var f,g,m,v,y=function(e,t){return e.from-t.from};for(f in h)if(h.hasOwnProperty(f)){for(g=h[f],g.sort(y),m=g[0].from,v=g[0].to,e.fillStyle=f,r=1,s=g.length;s>r;r++)v>=g[r].from?v=Math.max(v,g[r].to):(e.fillRect(i,m,o,v-m),m=g[r].from,v=g[r].to);e.fillRect(i,m,o,v-m)}},e.prototype.render=function(){if(0!==this._outerHeight&&t.hasCanvas){var e=this._height/this._outerHeight,n=this._domNode.getContext("2d");n.clearRect(0,0,this._width,this._height);var i=this._width-this._canvasLeftOffset-1;this._lanesCount>=3?this._renderThreeLanes(n,e,i):2===this._lanesCount?this._renderTwoLanes(n,e,i):1===this._lanesCount&&this._renderOneLane(n,e,i)}},e.prototype._renderOneLane=function(e,t,n){this._renderVerticalPatch(e,t,7,this._canvasLeftOffset,n)},e.prototype._renderTwoLanes=function(e,t,n){var i=Math.floor(n/2),o=n-i,r=this._canvasLeftOffset,s=this._canvasLeftOffset+i;this._renderVerticalPatch(e,t,3,r,i),this._renderVerticalPatch(e,t,4,s,o)},e.prototype._renderThreeLanes=function(e,t,n){var i=Math.floor(n/3),o=Math.floor(n/3),r=n-i-o,s=this._canvasLeftOffset,a=this._canvasLeftOffset+i,u=this._canvasLeftOffset+i+r;this._renderVerticalPatch(e,t,1,s,i),this._renderVerticalPatch(e,t,2,a,r),this._renderVerticalPatch(e,t,4,u,o)},e}();t.OverviewRulerImpl=n});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/parts/overviewRuler/overviewRuler",["require","exports","vs/editor/core/view/parts/overviewRuler/overviewRulerImpl","vs/editor/core/view/viewEventHandler"],function(e,t,n,i){var o=function(e){function t(t,i,o,r,s,a){e.call(this),this._context=t,this._overviewRuler=new n.OverviewRulerImpl(0,i,o,this._context.configuration.editor.lineHeight,r,s,a),this._context.addEventHandler(this)}return __extends(t,e),t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this._context.removeEventHandler(this),this._overviewRuler.dispose()},t.prototype.onConfigurationChanged=function(e){return e.lineHeight?(this._overviewRuler.setLineHeight(this._context.configuration.editor.lineHeight,!0),!0):!1},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelFlushed=function(){return!0},t.prototype.onScrollHeightChanged=function(e){return this._overviewRuler.setScrollHeight(e,!0),!0},t.prototype.getDomNode=function(){return this._overviewRuler.getDomNode()},t.prototype.setLayout=function(e){this._overviewRuler.setLayout(e,!0)},t.prototype.setZones=function(e){this._overviewRuler.setZones(e,!0)},t}(i.ViewEventHandler);t.OverviewRuler=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/parts/overviewRuler/decorationsOverviewRuler",["require","exports","vs/editor/core/view/parts/overviewRuler/overviewRulerImpl","vs/editor/editor","vs/editor/core/view/viewPart"],function(e,t,n,i,o){var r=function(e){function t(i,o,r){e.call(this,i),this._overviewRuler=new n.OverviewRulerImpl(1,"decorationsOverviewRuler",o,this._context.configuration.editor.lineHeight,t.DECORATION_HEIGHT,t.DECORATION_HEIGHT,r),this._overviewRuler.setLanesCount(this._context.configuration.editor.overviewRulerLanes,!1),this._shouldUpdateDecorations=!0,this._zonesFromDecorations=[],this._shouldUpdateCursorPosition=!0,this._hideCursor=this._context.configuration.editor.hideCursorInOverviewRuler,this._zonesFromCursors=[],this._cursorPositions=[]}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._overviewRuler.dispose()},t.prototype.onCursorPositionChanged=function(e){return this._shouldUpdateCursorPosition=!0,this._cursorPositions=[e.position],this._cursorPositions=this._cursorPositions.concat(e.secondaryPositions),!0},t.prototype.onConfigurationChanged=function(e){var t=this._overviewRuler.getLanesCount(),n=this._context.configuration.editor.overviewRulerLanes,i=!1;return e.lineHeight&&(this._overviewRuler.setLineHeight(this._context.configuration.editor.lineHeight,!1),i=!0),t!==n&&(this._overviewRuler.setLanesCount(n,!1),i=!0),e.hideCursorInOverviewRuler&&(this._hideCursor=this._context.configuration.editor.hideCursorInOverviewRuler,this._shouldUpdateCursorPosition=!0,i=!0),i},t.prototype.onLayoutChanged=function(e){var t=this;return this._requestModificationFrame(function(){t._overviewRuler.setLayout(e.overviewRuler,!1)}),!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(){return this._shouldUpdateDecorations=!0,!0},t.prototype.onScrollHeightChanged=function(e){return this._overviewRuler.setScrollHeight(e,!1),!0},t.prototype.getDomNode=function(){return this._overviewRuler.getDomNode()},t.prototype._createZonesFromDecorations=function(){var e,t,n,i=this._context.model.getAllDecorations(),o=[];for(e=0,t=i.length;t>e;e++)n=i[e],n.options.overviewRuler.color&&o.push({startLineNumber:n.range.startLineNumber,endLineNumber:n.range.endLineNumber,color:n.options.overviewRuler.color,position:n.options.overviewRuler.position});return o},t.prototype._createZonesFromCursors=function(){var e,t,n,o=[];for(e=0,t=this._cursorPositions.length;t>e;e++)n=this._cursorPositions[e],o.push({forceHeight:2,startLineNumber:n.lineNumber,endLineNumber:n.lineNumber,color:"rgba(0, 0, 102, 0.8)",position:i.OverviewRulerLane.Full});return o},t.prototype._render=function(){var e=this;if(this._shouldUpdateDecorations||this._shouldUpdateCursorPosition){this._shouldUpdateDecorations&&(this._shouldUpdateDecorations=!1,this._zonesFromDecorations=this._createZonesFromDecorations()),this._shouldUpdateCursorPosition&&(this._shouldUpdateCursorPosition=!1,this._zonesFromCursors=this._hideCursor?[]:this._createZonesFromCursors());var t=[];t=t.concat(this._zonesFromDecorations),t=t.concat(this._zonesFromCursors),this._overviewRuler.setZones(t,!1),this._requestModificationFrame(function(){if(e._overviewRuler.render(),n.hasCanvas&&e._overviewRuler.getLanesCount()>0&&(e._zonesFromDecorations.length>0||e._zonesFromCursors.length>0)){var t=e._overviewRuler.getDomNode().getContext("2d");t.beginPath(),t.lineWidth=1,t.strokeStyle="rgba(197,197,197,0.4)",t.rect(0,0,e._overviewRuler.getWidth(),e._overviewRuler.getHeight()),t.stroke()}})}},t.DECORATION_HEIGHT=6,t}(o.ViewPart);t.DecorationsOverviewRuler=r}),define("vs/editor/core/view/parts/viewCursors/viewCursor",["require","exports"],function(e,t){var n=function(){function e(e,t){this._context=e,this._isInEditableRange=!0,this._domNode=this._createCursorDomNode(t),this._isVisible=!0,this.updatePosition({lineNumber:1,column:1})}return e.prototype._createCursorDomNode=function(e){var t=document.createElement("div");return t.className="cursor",e&&(t.className+=" secondary"),t.style.height=this._context.configuration.editor.lineHeight+"px",t.style.top="0px",t.style.left="0px",t.setAttribute("role","presentation"),t.setAttribute("aria-hidden","true"),t},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getIsInEditableRange=function(){return this._isInEditableRange},e.prototype.getPositionTop=function(){return this._positionTop},e.prototype.getPosition=function(){return this._position},e.prototype.show=function(){this._isVisible||(this._domNode.style.display="block",this._isVisible=!0)},e.prototype.hide=function(){this._isVisible&&(this._domNode.style.display="none",this._isVisible=!1)},e.prototype.onModelFlushed=function(){return this.updatePosition({lineNumber:1,column:1}),this._isInEditableRange=!0,!0},e.prototype.onCursorPositionChanged=function(e,t){return this.updatePosition(e),this._isInEditableRange=t,!0},e.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._domNode.style.height=this._context.configuration.editor.lineHeight+"px"),!0},e.prototype.prepareRender=function(e){var t=e.visibleRangeForPosition(this._position);t?(this._positionTop=t.top,this._positionLeft=t.left):this._positionTop=-1e3},e.prototype.render=function(){this._domNode.style.left=this._positionLeft+"px",this._domNode.style.top=this._positionTop+"px"},e.prototype.updatePosition=function(e){this._position=e,this._domNode.setAttribute("lineNumber",this._position.lineNumber.toString()),this._domNode.setAttribute("column",this._position.column.toString()),this._positionTop=-1e3,this._positionLeft=-1e3},e}();t.ViewCursor=n}),define("vs/css!vs/editor/core/view/parts/viewCursors/viewCursors",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/parts/viewCursors/viewCursors",["require","exports","vs/editor/core/view/parts/viewCursors/viewCursor","vs/editor/core/view/viewPart","vs/css!./viewCursors"],function(e,t,n,i){var o;!function(e){e[e.Hidden=0]="Hidden",e[e.Visible=1]="Visible",e[e.Blink=2]="Blink"}(o||(o={}));var r=function(e){function t(t){e.call(this,t),this._primaryCursor=new n.ViewCursor(this._context,!1),this._secondaryCursors=[],this._domNode=document.createElement("div"),this._domNode.className="cursors-layer",this._domNode.appendChild(this._primaryCursor.getDomNode()),this._blinkTimer=-1,this._editorHasFocus=!1,this._updateBlinking()}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),-1!==this._blinkTimer&&(window.clearInterval(this._blinkTimer),this._blinkTimer=-1)},t.prototype.getDomNode=function(){return this._domNode},t.prototype.onModelFlushed=function(){this._primaryCursor.onModelFlushed();for(var e=0,t=this._secondaryCursors.length;t>e;e++){var n=this._secondaryCursors[e].getDomNode();n.parentNode.removeChild(n)}return this._secondaryCursors=[],!0},t.prototype.onModelDecorationsChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onModelTokensChanged=function(e){var t=function(t){return e.fromLineNumber<=t.lineNumber&&t.lineNumber<=e.toLineNumber};if(t(this._primaryCursor.getPosition()))return!0;for(var n=0;n<this._secondaryCursors.length;n++)if(t(this._secondaryCursors[n].getPosition()))return!0;return!1},t.prototype.onCursorPositionChanged=function(e){if(this._primaryCursor.onCursorPositionChanged(e.position,e.isInEditableRange),this._updateBlinking(),this._secondaryCursors.length<e.secondaryPositions.length)for(var t=e.secondaryPositions.length-this._secondaryCursors.length,i=0;t>i;i++){var o=new n.ViewCursor(this._context,!0);this._primaryCursor.getDomNode().parentNode.insertBefore(o.getDomNode(),this._primaryCursor.getDomNode().nextSibling),this._secondaryCursors.push(o)}else if(this._secondaryCursors.length>e.secondaryPositions.length)for(var r=this._secondaryCursors.length-e.secondaryPositions.length,i=0;r>i;i++)this._secondaryCursors[0].getDomNode().parentNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1);for(var i=0;i<e.secondaryPositions.length;i++)this._secondaryCursors[i].onCursorPositionChanged(e.secondaryPositions[i],e.isInEditableRange);return!0},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onConfigurationChanged=function(e){this._primaryCursor.onConfigurationChanged(e);for(var t=0,n=this._secondaryCursors.length;n>t;t++)this._secondaryCursors[t].onConfigurationChanged(e);return!0},t.prototype.onLayoutChanged=function(){return!0},t.prototype.onScrollChanged=function(){return!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!0},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype.onViewFocusChanged=function(e){return this._editorHasFocus=e,this._updateBlinking(),!1},t.prototype.getPosition=function(){return this._primaryCursor.getPosition()},t.prototype._getRenderType=function(){return this._editorHasFocus?this._primaryCursor.getIsInEditableRange()&&!this._context.configuration.editor.readOnly?2:1:0},t.prototype._updateBlinking=function(){var e=this;-1!==this._blinkTimer&&(window.clearInterval(this._blinkTimer),this._blinkTimer=-1);var n=this._getRenderType();1===n||2===n?this._show():this._hide(),2===n&&(this._blinkTimer=window.setInterval(function(){return e._blink()},t.BLINK_INTERVAL))},t.prototype._blink=function(){this._isVisible?this._hide():this._show()},t.prototype._show=function(){this._primaryCursor.show();for(var e=0,t=this._secondaryCursors.length;t>e;e++)this._secondaryCursors[e].show();this._isVisible=!0},t.prototype._hide=function(){this._primaryCursor.hide();for(var e=0,t=this._secondaryCursors.length;t>e;e++)this._secondaryCursors[e].hide();this._isVisible=!1},t.prototype._render=function(e){var t=this;this._primaryCursor.prepareRender(e);for(var n=0,i=this._secondaryCursors.length;i>n;n++)this._secondaryCursors[n].prepareRender(e);this._requestModificationFrame(function(){t._primaryCursor.render(e);for(var n=0,i=t._secondaryCursors.length;i>n;n++)t._secondaryCursors[n].render(e)})},t.BLINK_INTERVAL=500,t}(i.ViewPart);t.ViewCursors=r}),define("vs/css!vs/editor/core/view/parts/contentWidgets/contentWidgets",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/parts/contentWidgets/contentWidgets",["require","exports","vs/editor/core/view/viewContext","vs/editor/editor","vs/editor/core/view/viewPart","vs/css!./contentWidgets"],function(e,t,n,i,o){var r=function(e){function t(t){e.call(this,t),this._widgets={},this._contentWidth=0,this.domNode=document.createElement("div"),this.domNode.className=n.ClassNames.CONTENT_WIDGETS}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets=null,this.domNode=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(e){var t=this;return this._contentWidth=e.contentWidth,this._requestModificationFrameBeforeRendering(function(){var e;for(e in t._widgets)t._widgets.hasOwnProperty(e)&&(t._widgets[e].widget.getDomNode().style.maxWidth=t._contentWidth+"px")}),!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!1},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype.addWidget=function(e){this._widgets[e.getId()]={widget:e,position:null,preference:null,isVisible:!1};var t=e.getDomNode();t.style.position="absolute",t.style.maxWidth=this._contentWidth+"px",t.style.top="-1000px",t.setAttribute("widgetId",e.getId()),this.domNode.appendChild(t),this.shouldRender=!0},t.prototype.setWidgetPosition=function(e,t,n){var i=this._widgets[e.getId()];i.position=t,i.preference=n,this.shouldRender=!0},t.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var n=this._widgets[t];delete this._widgets[t];var i=n.widget.getDomNode();i.parentNode.removeChild(i),this.shouldRender=!0}},t.prototype._layoutBoxInViewport=function(e,t,n){var i=n.visibleRangeForPosition(e);if(!i)return null;var o=t.clientWidth,r=t.clientHeight,s=i.top,a=s,u=i.top+i.height,l=n.viewportHeight-u,c=s-r,d=a>=r,h=u,p=l>=r,f=i.left;return f+o>n.viewportLeft+n.viewportWidth&&(f=n.viewportLeft+n.viewportWidth-o),f<n.viewportLeft&&(f=n.viewportLeft),{aboveTop:c,fitsAbove:d,belowTop:h,fitsBelow:p,left:f}},t.prototype._prepareRenderWidgetAtExactPosition=function(e,t){var n=t.visibleRangeForPosition(e);return n?{top:n.top,left:n.left}:null},t.prototype._prepareRenderWidget=function(e,t){var n=this;if(!e.position||!e.preference)return null;var i,o,r,s=this._context.model.validateModelPosition(e.position),a=this._context.model.convertModelPositionToViewPosition(s.lineNumber,s.column),u=null,l=function(){if(!u){var i=e.widget.getDomNode();u=n._layoutBoxInViewport(a,i,t)}};for(o=1;2>=o;o++)for(r=0;r<e.preference.length;r++)if(i=e.preference[r],1===i){if(l(),!u)return null;if(2===o||u.fitsAbove)return{top:u.aboveTop,left:u.left}}else{if(2!==i)return this._prepareRenderWidgetAtExactPosition(a,t);if(l(),!u)return null;if(2===o||u.fitsBelow)return{top:u.belowTop,left:u.left}}},t.prototype._render=function(e,t){var n,i,o=this,r={};for(i in this._widgets)this._widgets.hasOwnProperty(i)&&(n=this._prepareRenderWidget(this._widgets[i],e),n&&(t&&t.renderedContentWidgets++,r[i]=n));this._requestModificationFrame(function(){var e,t,n;for(e in o._widgets)o._widgets.hasOwnProperty(e)&&(t=o._widgets[e],n=o._widgets[e].widget.getDomNode(),r.hasOwnProperty(e)?(n.style.top=r[e].top+"px",n.style.left=r[e].left+"px",t.isVisible||(t.isVisible=!0)):t.isVisible&&(t.isVisible=!1,n.style.top="-1000px"))})},t}(o.ViewPart);t.ViewContentWidgets=r}),define("vs/css!vs/editor/core/view/parts/overlayWidgets/overlayWidgets",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/parts/overlayWidgets/overlayWidgets",["require","exports","vs/editor/core/view/viewContext","vs/editor/editor","vs/editor/core/view/viewPart","vs/css!./overlayWidgets"],function(e,t,n,i,o){var r=function(e){function t(t){e.call(this,t),this._widgets={},this._verticalScrollbarWidth=0,this._horizontalScrollbarHeight=0,this._editorHeight=0,this.domNode=document.createElement("div"),this.domNode.className=n.ClassNames.OVERLAY_WIDGETS}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets=null},t.prototype.onLayoutChanged=function(e){var t=this;return this._verticalScrollbarWidth=e.verticalScrollbarWidth,this._horizontalScrollbarHeight=e.horizontalScrollbarHeight,this._editorHeight=e.height,this._requestModificationFrame(function(){t.domNode.style.width=e.width+"px"}),!0},t.prototype.addWidget=function(e){this._widgets[e.getId()]={widget:e,preference:null};var t=e.getDomNode();t.style.position="absolute",t.setAttribute("widgetId",e.getId()),this.domNode.appendChild(t)},t.prototype.setWidgetPosition=function(e,t){var n=this,i=this._widgets[e.getId()];i.preference=t,this._requestModificationFrame(function(){n._widgets.hasOwnProperty(e.getId())&&n._renderWidget(i)})},t.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var n=this._widgets[t],i=n.widget.getDomNode();
delete this._widgets[t],i.parentNode.removeChild(i)}},t.prototype._renderWidget=function(e){var t="data-editor-restoreStyleTop",n=e.widget.getDomNode();if(null!==e.preference)if(0===e.preference)n.hasAttribute(t)||n.setAttribute(t,n.style.top),n.style.top="0px",n.style.right=2*this._verticalScrollbarWidth+"px";else if(1===e.preference){n.hasAttribute(t)||n.setAttribute(t,n.style.top);var i=n.clientHeight;n.style.top=this._editorHeight-i-2*this._horizontalScrollbarHeight+"px",n.style.right=2*this._verticalScrollbarWidth+"px"}else 2===e.preference&&(n.hasAttribute(t)||n.setAttribute(t,n.style.top),n.style.top="0px",n.style.right="50%");else if(n.hasAttribute(t)){var o=n.getAttribute(t);n.removeAttribute(t),n.style.top=o}},t.prototype._render=function(e,t){var n,i=this;if(t)for(n in this._widgets)this._widgets.hasOwnProperty(n)&&t.renderedOverlayWidgets++;this._requestModificationFrame(function(){for(n in i._widgets)i._widgets.hasOwnProperty(n)&&i._renderWidget(i._widgets[n])})},t.prototype.onReadAfterForcedLayout=function(e,t){return this._render(e,t),null},t.prototype.onWriteAfterForcedLayout=function(){this._executeModificationRunners()},t}(o.ViewPart);t.ViewOverlayWidgets=r}),define("vs/editor/core/view/layout/lines/whitespaceComputer",["require","exports"],function(e,t){var n=function(){function e(){this.heights=[],this.ids=[],this.afterLineNumbers=[],this.prefixSum=[],this.prefixSumValidIndex=-1,this.whitespaceId2Index={},this.lastWhitespaceId=0}return e.findInsertionIndex=function(e,t){for(var n,i=0,o=e.length;o>i;)n=Math.floor((i+o)/2),t<e[n]?o=n:i=n+1;return i},e.prototype.insertWhitespace=function(t,n){var i=++this.lastWhitespaceId,o=e.findInsertionIndex(this.afterLineNumbers,t);return this.insertWhitespaceAtIndex(i,o,t,n),i},e.prototype.insertWhitespaceAtIndex=function(e,t,n,i){this.heights.splice(t,0,i),this.ids.splice(t,0,e),this.afterLineNumbers.splice(t,0,n),this.prefixSum.splice(t,0,0);var o,r;for(o in this.whitespaceId2Index)this.whitespaceId2Index.hasOwnProperty(o)&&(r=this.whitespaceId2Index[o],r>=t&&(this.whitespaceId2Index[o]=r+1));this.whitespaceId2Index[e.toString()]=t,this.prefixSumValidIndex=Math.min(this.prefixSumValidIndex,t-1)},e.prototype.changeWhitespace=function(e,t){var n=e.toString();if(this.whitespaceId2Index.hasOwnProperty(n)){var i=this.whitespaceId2Index[n];if(this.heights[i]!==t)return this.heights[i]=t,this.prefixSumValidIndex=Math.min(this.prefixSumValidIndex,i-1),!0}return!1},e.prototype.changeAfterLineNumberForWhitespace=function(t,n){var i=t.toString();if(this.whitespaceId2Index.hasOwnProperty(i)){var o=this.whitespaceId2Index[i];if(this.afterLineNumbers[o]!==n){var r=this.heights[o];this.removeWhitespace(t);var s=e.findInsertionIndex(this.afterLineNumbers,n);return this.insertWhitespaceAtIndex(t,s,n,r),!0}}return!1},e.prototype.removeWhitespace=function(e){var t=e.toString();if(this.whitespaceId2Index.hasOwnProperty(t)){var n=this.whitespaceId2Index[t];return delete this.whitespaceId2Index[t],this.removeWhitespaceAtIndex(n),!0}return!1},e.prototype.removeWhitespaceAtIndex=function(e){this.heights.splice(e,1),this.ids.splice(e,1),this.afterLineNumbers.splice(e,1),this.prefixSum.splice(e,1),this.prefixSumValidIndex=Math.min(this.prefixSumValidIndex,e-1);var t,n;for(t in this.whitespaceId2Index)this.whitespaceId2Index.hasOwnProperty(t)&&(n=this.whitespaceId2Index[t],n>=e&&(this.whitespaceId2Index[t]=n-1))},e.prototype.onModelLinesDeleted=function(e,t){var n,i,o;for(i=0,o=this.afterLineNumbers.length;o>i;i++)n=this.afterLineNumbers[i],n>=e&&t>=n?this.afterLineNumbers[i]=e-1:n>t&&(this.afterLineNumbers[i]-=t-e+1)},e.prototype.onModelLinesInserted=function(e,t){var n,i,o;for(i=0,o=this.afterLineNumbers.length;o>i;i++)n=this.afterLineNumbers[i],n>=e&&(this.afterLineNumbers[i]+=t-e+1)},e.prototype.getTotalHeight=function(){return 0===this.heights.length?0:this.getAccumulatedHeight(this.heights.length-1)},e.prototype.getAccumulatedHeight=function(e){var t=Math.max(0,this.prefixSumValidIndex+1);0===t&&(this.prefixSum[0]=this.heights[0],t++);for(var n=t;e>=n;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.heights[n];return this.prefixSumValidIndex=Math.max(this.prefixSumValidIndex,e),this.prefixSum[e]},e.prototype.getAccumulatedHeightBeforeLineNumber=function(e){var t=this.findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getAccumulatedHeight(t)},e.prototype.findLastWhitespaceBeforeLineNumber=function(e){for(var t,n=this.afterLineNumbers,i=0,o=n.length-1;o>=i;)if(t=Math.floor((i+o)/2),n[t]<e){if(t+1>=n.length||n[t+1]>=e)return t;i=t+1}else o=t-1;return-1},e.prototype.findFirstWhitespaceAfterLineNumber=function(e){var t=this.findLastWhitespaceBeforeLineNumber(e),n=t+1;return n<this.heights.length?n:-1},e.prototype.getFirstWhitespaceIndexAfterLineNumber=function(e){return this.findFirstWhitespaceAfterLineNumber(e)},e.prototype.getCount=function(){return this.heights.length},e.prototype.getAfterLineNumberForWhitespaceIndex=function(e){return this.afterLineNumbers[e]},e.prototype.getIdForWhitespaceIndex=function(e){return this.ids[e]},e.prototype.getHeightForWhitespaceIndex=function(e){return this.heights[e]},e}();t.WhitespaceComputer=n}),define("vs/editor/core/view/layout/lines/verticalObjects",["require","exports","vs/editor/core/view/layout/lines/whitespaceComputer"],function(e,t,n){var i=function(){function e(){this.whitespaces=new n.WhitespaceComputer}return e.prototype.replaceLines=function(e){this.linesCount=e},e.prototype.insertWhitespace=function(e,t){return this.whitespaces.insertWhitespace(e,t)},e.prototype.changeWhitespace=function(e,t){return this.whitespaces.changeWhitespace(e,t)},e.prototype.changeAfterLineNumberForWhitespace=function(e,t){return this.whitespaces.changeAfterLineNumberForWhitespace(e,t)},e.prototype.removeWhitespace=function(e){return this.whitespaces.removeWhitespace(e)},e.prototype.onModelLinesDeleted=function(e,t){this.linesCount-=t-e+1,this.whitespaces.onModelLinesDeleted(e,t)},e.prototype.onModelLinesInserted=function(e,t){this.linesCount+=t-e+1,this.whitespaces.onModelLinesInserted(e,t)},e.prototype.getTotalHeight=function(e){var t=e*this.linesCount,n=this.whitespaces.getTotalHeight();return t+n},e.prototype.getVerticalOffsetForLineNumber=function(e,t){var n;n=e>1?t*(e-1):0;var i=this.whitespaces.getAccumulatedHeightBeforeLineNumber(e);return n+i},e.prototype.getLineNumberAtOrAfterVerticalOffset=function(e,t){if(0>e)return 1;for(var n,i,o,r=1,s=this.linesCount;s>r;)if(n=Math.floor((r+s)/2),i=this.getVerticalOffsetForLineNumber(n,t),o=t,e>=i+o)r=n+1;else{if(e>=i)return n;s=n}return r>this.linesCount?this.linesCount:r},e.prototype.getCenteredLineInViewport=function(e,t,n){for(var i,o,r=this.getLinesViewportData(e,t,n),s=(t-e)/2,a=r.visibleRangesDeltaTop,u=r.startLineNumber;u<=r.endLineNumber;u++)if(i=a+r.relativeVerticalOffset[u-r.startLineNumber],o=i+n,a+=n,s>=i&&o>s||i>s)return u;return r.endLineNumber},e.prototype.getLinesViewportData=function(e,t,n){var i,o,r=this.getLineNumberAtOrAfterVerticalOffset(e,n),s=this.linesCount,a=this.getVerticalOffsetForLineNumber(r,n),u=this.whitespaces.getFirstWhitespaceIndexAfterLineNumber(r),l=this.whitespaces.getCount();-1===u?(u=l,o=s+1):(o=this.whitespaces.getAfterLineNumberForWhitespaceIndex(u),i=this.whitespaces.getHeightForWhitespaceIndex(u));for(var c=a,d=0,h=[],p=r;s>=p;p++){for(c+=n,h.push(d),d=0;o===p;)d+=i,c+=i,u++,u>=l?o=s+1:(o=this.whitespaces.getAfterLineNumberForWhitespaceIndex(u),i=this.whitespaces.getHeightForWhitespaceIndex(u));if(c>t){s=p;break}}for(var f=1;f<h.length;f++)h[f]+=h[f-1];return{startLineNumber:r,endLineNumber:s,visibleRangesDeltaTop:a-e,relativeVerticalOffset:h,visibleRange:null}},e.prototype.getVerticalOffsetForWhitespaceIndex=function(e,t){var n,n,i=this.whitespaces.getAfterLineNumberForWhitespaceIndex(e);n=i>=1?t*i:0;var o;return o=e>0?this.whitespaces.getAccumulatedHeight(e-1):0,n+o},e.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(e,t){var n,i,o,r=0,s=this.whitespaces.getCount()-1;if(0>s)return-1;var a=this.getVerticalOffsetForWhitespaceIndex(s,t),u=this.whitespaces.getHeightForWhitespaceIndex(s);if(e>=a+u)return-1;for(;s>r;)if(n=Math.floor((r+s)/2),i=this.getVerticalOffsetForWhitespaceIndex(n,t),o=this.whitespaces.getHeightForWhitespaceIndex(n),e>=i+o)r=n+1;else{if(e>=i)return n;s=n}return r},e.prototype.getWhitespaceAtVerticalOffset=function(e,t){var n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e,t);if(0>n)return null;if(n>=this.whitespaces.getCount())return null;var i=this.getVerticalOffsetForWhitespaceIndex(n,t);if(i>e)return null;var o=this.whitespaces.getHeightForWhitespaceIndex(n),r=this.whitespaces.getIdForWhitespaceIndex(n),s=this.whitespaces.getAfterLineNumberForWhitespaceIndex(n);return{id:r,afterLineNumber:s,verticalOffset:i,height:o}},e.prototype.getWhitespaceViewportData=function(e,t,n){var i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e,n),o=this.whitespaces.getCount()-1;if(0>i)return[];var r,s,a,u=[];for(r=i;o>=r&&(s=this.getVerticalOffsetForWhitespaceIndex(r,n),a=this.whitespaces.getHeightForWhitespaceIndex(r),!(s>=t));r++)u.push({id:this.whitespaces.getIdForWhitespaceIndex(r),afterLineNumber:this.whitespaces.getAfterLineNumberForWhitespaceIndex(r),verticalOffset:s,height:a});return u},e}();t.VerticalObjects=i}),define("vs/editor/core/view/layout/lines/linesLayout",["require","exports","vs/editor/core/view/layout/lines/verticalObjects"],function(e,t,n){var i=function(){function e(e,t){this.configuration=e,this.model=t,this.verticalObjects=new n.VerticalObjects,this.verticalObjects.replaceLines(t.getLineCount())}return e.prototype.insertWhitespace=function(e,t){return this.verticalObjects.insertWhitespace(e,t)},e.prototype.changeWhitespace=function(e,t){return this.verticalObjects.changeWhitespace(e,t)},e.prototype.changeAfterLineNumberForWhitespace=function(e,t){return this.verticalObjects.changeAfterLineNumberForWhitespace(e,t)},e.prototype.removeWhitespace=function(e){return this.verticalObjects.removeWhitespace(e)},e.prototype.onModelFlushed=function(){this.verticalObjects.replaceLines(this.model.getLineCount())},e.prototype.onModelLinesDeleted=function(e){this.verticalObjects.onModelLinesDeleted(e.fromLineNumber,e.toLineNumber)},e.prototype.onModelLinesInserted=function(e){this.verticalObjects.onModelLinesInserted(e.fromLineNumber,e.toLineNumber)},e.prototype.getVerticalOffsetForLineNumber=function(e){return this.verticalObjects.getVerticalOffsetForLineNumber(e,this.configuration.editor.lineHeight)},e.prototype.getLinesTotalHeight=function(){return this.verticalObjects.getTotalHeight(this.configuration.editor.lineHeight)},e.prototype.getTotalHeight=function(e,t){var n=this.getLinesTotalHeight();return n+=this.configuration.editor.scrollBeyondLastLine?e.height-this.configuration.editor.lineHeight:t,Math.max(e.height,n)},e.prototype.getLineNumberAtOrAfterVerticalOffset=function(e){return this.verticalObjects.getLineNumberAtOrAfterVerticalOffset(e,this.configuration.editor.lineHeight)},e.prototype.getHeightForLineNumber=function(){return this.configuration.editor.lineHeight},e.prototype.getWhitespaceViewportData=function(e){return this.verticalObjects.getWhitespaceViewportData(e.top,e.top+e.height,this.configuration.editor.lineHeight)},e.prototype.getWhitespaceAtVerticalOffset=function(e){return this.verticalObjects.getWhitespaceAtVerticalOffset(e,this.configuration.editor.lineHeight)},e.prototype.getLinesViewportData=function(e){return this.verticalObjects.getLinesViewportData(e.top,e.top+e.height,this.configuration.editor.lineHeight)},e.prototype.getCenteredLineInViewport=function(e){return this.verticalObjects.getCenteredLineInViewport(e.top,e.top+e.height,this.configuration.editor.lineHeight)},e}();t.LinesLayout=i}),define("vs/editor/core/view/layout/editorLayoutProvider",["require","exports"],function(e,t){var n=function(){function e(e,t,n,i,o,r,s,a){this.verticalScrollbarWidth=10,this.horizontalScrollbarHeight=10,this.outerWidth=e,this.outerHeight=t,this.lineHeight=n,this.showGlyphMargin=i,this.glyphMarginWidth=this.computeGlyphMarginWidth(),this.showLineNumbers=o,this.lineNumbersMinChars=r,this.lineDecorationsWidth=s,this.lineCount=0,this.maxDigitWidth=a,this.lineNumbersWidth=this.computeLineNumbersWidth(),this.layoutInfo=this.layout()}return e.prototype.setDimensions=function(e,t){return this.outerWidth!==e||this.outerHeight!==t?(this.outerWidth=e,this.outerHeight=t,this.layoutInfo=this.layout(),!0):!1},e.prototype.setScrollbarSize=function(e,t){return this.verticalScrollbarWidth!==e||this.horizontalScrollbarHeight!==t?(this.verticalScrollbarWidth=e,this.horizontalScrollbarHeight=t,this.layoutInfo=this.layout(),!0):!1},e.prototype.setGlyphMargin=function(e){return this.showGlyphMargin=e,this.setGlyphMarginWidth(this.computeGlyphMarginWidth())},e.prototype.setLineHeight=function(e){return this.lineHeight=e,this.setGlyphMarginWidth(this.computeGlyphMarginWidth())},e.prototype.computeGlyphMarginWidth=function(){return this.showGlyphMargin?this.lineHeight:0},e.prototype.setGlyphMarginWidth=function(e){return this.glyphMarginWidth!==e?(this.glyphMarginWidth=e,this.layoutInfo=this.layout(),!0):!1},e.prototype.setLineDecorationsWidth=function(e){return this.lineDecorationsWidth!==e?(this.lineDecorationsWidth=e,this.layoutInfo=this.layout(),!0):!1},e.prototype.setShowLineNumbers=function(e){return this.showLineNumbers=e,this.setLineNumbersWidth(this.computeLineNumbersWidth())},e.prototype.setLineNumbersMinChars=function(e){return this.lineNumbersMinChars=e,this.setLineNumbersWidth(this.computeLineNumbersWidth())},e.prototype.setLineCount=function(e){return this.lineCount=e,this.setLineNumbersWidth(this.computeLineNumbersWidth())},e.prototype.setMaxDigitWidth=function(e){return this.maxDigitWidth=e,this.setLineNumbersWidth(this.computeLineNumbersWidth())},e.prototype.setLineNumbersWidth=function(e){return this.lineNumbersWidth!==e?(this.lineNumbersWidth=e,this.layoutInfo=this.layout(),!0):!1},e.prototype.getLayoutInfo=function(){return this.layoutInfo},e.prototype.layout=function(){var e=this.outerWidth,t=this.outerHeight,n=this.lineNumbersWidth,i=this.glyphMarginWidth,o=t,r=t,s=this.lineDecorationsWidth,a=t,u=e-i-n-s,l=t,c=this.verticalScrollbarWidth,d=this.horizontalScrollbarHeight,h=0,p=h+i,f=p+n,g=f+s;return{width:e,height:t,glyphMarginLeft:h,glyphMarginWidth:i,glyphMarginHeight:r,lineNumbersLeft:p,lineNumbersWidth:n,lineNumbersHeight:o,decorationsLeft:f,decorationsWidth:s,decorationsHeight:a,contentLeft:g,contentWidth:u,contentHeight:l,verticalScrollbarWidth:c,horizontalScrollbarHeight:d}},e.prototype.digitCount=function(e){for(var t=0;e;)e=Math.floor(e/10),t++;return t?t:1},e.prototype.computeLineNumbersWidth=function(){if(this.showLineNumbers){var e=Math.max(this.digitCount(this.lineCount),this.lineNumbersMinChars);return e*this.maxDigitWidth}return 0},e}();t.EditorLayoutProvider=n}),define("vs/base/ui/scrollbar/impl/common",["require","exports"],function(e,t){function n(e){switch(e){case"hidden":return 1;case"visible":return 2;default:return 0}}!function(e){e[e.Auto=0]="Auto",e[e.Hidden=1]="Hidden",e[e.Visible=2]="Visible"}(t.Visibility||(t.Visibility={}));t.Visibility;t.visibilityFromString=n}),define("vs/base/ui/scrollbar/impl/domNodeScrollable",["require","exports","vs/base/dom/dom","vs/base/dom/touch","vs/base/eventEmitter"],function(e,t,n,i,o){var r=function(){function e(e){this.eventEmitterHelper=new o.EventEmitter,this.domNode=e,this.gestureHandler=new i.Gesture(this.domNode)}return e.prototype.getScrollHeight=function(){return this.domNode.scrollHeight},e.prototype.getScrollWidth=function(){return this.domNode.scrollWidth},e.prototype.getScrollLeft=function(){return this.domNode.scrollLeft},e.prototype.setScrollLeft=function(e){this.domNode.scrollLeft=e},e.prototype.getScrollTop=function(){return this.domNode.scrollTop},e.prototype.setScrollTop=function(e){this.domNode.scrollTop=e},e.prototype.addScrollListener=function(e){var t=this,i=this.eventEmitterHelper.addListener2("scroll",e),o=n.addDisposableListener(this.domNode,"scroll",function(e){t.eventEmitterHelper.emit("scroll",{browserEvent:e})});return{dispose:function(){o.dispose(),i.dispose()}}},e.prototype.dispose=function(){this.domNode=null,this.eventEmitterHelper.dispose(),this.gestureHandler&&(this.gestureHandler.dispose(),this.gestureHandler=null)},e}();t.DomNodeScrollable=r}),define("vs/base/ui/scrollbar/impl/abstractScrollbar",["require","exports","vs/base/dom/dom","vs/base/dom/mouseEvent","vs/base/ui/scrollbar/impl/common","vs/base/lifecycle","vs/base/dom/globalMouseMoveMonitor"],function(e,t,n,i,o,r,s){function a(e){return e+"px"}function u(e,t,n,i,o){null!==t&&(e.style.top=a(t)),null!==n&&(e.style.left=a(n)),null!==i&&(e.style.bottom=a(i)),null!==o&&(e.style.right=a(o))}function l(e,t,n){null!==t&&(e.style.width=a(t)),null!==n&&(e.style.height=a(n))}var c=function(){function e(e,t,n){this.visibleSize=0,this.scrollSize=0,this.scrollPosition=0,this.scrollbarSize=t,this.oppositeScrollbarSize=n,this.arrowSize=e,this.refreshComputedValues()}return e.prototype.setVisibleSize=function(e){return this.visibleSize!==e?(this.visibleSize=e,this.refreshComputedValues(),!0):!1},e.prototype.setScrollSize=function(e){return this.scrollSize!==e?(this.scrollSize=e,this.refreshComputedValues(),!0):!1},e.prototype.setScrollPosition=function(e){return this.scrollPosition!==e?(this.scrollPosition=e,this.refreshComputedValues(),!0):!1},e.prototype.refreshComputedValues=function(){if(this.computedAvailableSize=Math.max(0,this.visibleSize-this.oppositeScrollbarSize),this.computedRepresentableSize=Math.max(0,this.computedAvailableSize-2*this.arrowSize),this.computedRatio=this.scrollSize>0?this.computedRepresentableSize/this.scrollSize:0,this.computedIsNeeded=this.scrollSize>this.visibleSize,this.computedIsNeeded){if(this.computedSliderSize=Math.floor(this.visibleSize*this.computedRatio),this.computedSliderPosition=Math.floor(this.scrollPosition*this.computedRatio),this.computedSliderSize<e.MINIMUM_SLIDER_SIZE){var t=(e.MINIMUM_SLIDER_SIZE-this.computedSliderSize)/2;this.computedSliderSize=e.MINIMUM_SLIDER_SIZE,this.computedSliderPosition-=t,this.computedSliderPosition+this.computedSliderSize>this.computedRepresentableSize&&(this.computedSliderPosition=this.computedRepresentableSize-this.computedSliderSize),this.computedSliderPosition<0&&(this.computedSliderPosition=0)}}else this.computedSliderSize=this.computedRepresentableSize,this.computedSliderPosition=0},e.prototype.getArrowSize=function(){return this.arrowSize},e.prototype.getRectangleLargeSize=function(){return this.computedAvailableSize},e.prototype.getRectangleSmallSize=function(){return this.scrollbarSize},e.prototype.isNeeded=function(){return this.computedIsNeeded},e.prototype.getSliderSize=function(){return this.computedSliderSize},e.prototype.getSliderPosition=function(){return this.computedSliderPosition},e.prototype.convertSliderPositionToScrollPosition=function(e){return e/this.computedRatio},e.prototype.validateScrollPosition=function(e){return e=Math.round(e),e=Math.max(e,0),e=Math.min(e,this.scrollSize-this.visibleSize)},e.MINIMUM_SLIDER_SIZE=20,e}();t.ScrollbarState=c;var d=function(){function e(e,t,i,o,r,a,c,d,h){var f=this;this.parent=h,this.mouseWheelEventFactory=d,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",l(this.bgDomNode,a,c),u(this.bgDomNode,null!==t?0:null,null!==i?0:null,null!==o?0:null,null!==r?0:null),this.domNode=document.createElement("div"),this.domNode.className=e,this.domNode.style.position="absolute",l(this.domNode,p.ARROW_IMG_SIZE,p.ARROW_IMG_SIZE),u(this.domNode,t,i,o,r),this.mouseMoveMonitor=new s.GlobalMouseMoveMonitor,this.toDispose=[],this.toDispose.push(n.addDisposableListener(this.bgDomNode,"mousedown",function(e){return f._arrowMouseDown(e)})),this.toDispose.push(n.addDisposableListener(this.domNode,"mousedown",function(e){return f._arrowMouseDown(e)})),this.toDispose.push(this.mouseMoveMonitor),this.interval=-1,this.timeout=-1}return e.prototype.dispose=function(){this.toDispose=r.disposeAll(this.toDispose),this._clearArrowTimers()},e.prototype._arrowMouseDown=function(e){var t=this,n=function(){t.parent.onMouseWheel(t.mouseWheelEventFactory())},o=function(){t.interval=window.setInterval(n,1e3/24)};n(),this._clearArrowTimers(),this.timeout=window.setTimeout(o,200),this.mouseMoveMonitor.startMonitoring(s.standardMouseMoveMerger,function(){},function(){t._clearArrowTimers()});var r=new i.StandardMouseEvent(e);r.preventDefault()},e.prototype._clearArrowTimers=function(){-1!==this.interval&&(window.clearInterval(this.interval),this.interval=-1),-1!==this.timeout&&(window.clearTimeout(this.timeout),this.timeout=-1)},e}(),h=function(){function e(e,t,n){this.visibility=e,this.visibleClassName=t,this.invisibleClassName=n,this.domNode=null,this.isVisible=!1,this.isNeeded=!1,this.shouldBeVisible=!1,this.fadeAwayTimeout=-1}return e.prototype.dispose=function(){-1!==this.fadeAwayTimeout&&(window.clearTimeout(this.fadeAwayTimeout),this.fadeAwayTimeout=-1)},e.prototype.applyVisibilitySetting=function(e){return 1===this.visibility?!1:2===this.visibility?!0:e},e.prototype.setShouldBeVisible=function(e){var t=this.applyVisibilitySetting(e);this.shouldBeVisible!==t&&(this.shouldBeVisible=t,this.ensureVisibility())},e.prototype.setIsNeeded=function(e){this.isNeeded!==e&&(this.isNeeded=e,this.ensureVisibility())},e.prototype.setDomNode=function(e){this.domNode=e,this.domNode.className=this.invisibleClassName,this.domNode.style.display="none",this.setShouldBeVisible(!1)},e.prototype.ensureVisibility=function(){return this.isNeeded?(this.shouldBeVisible?this._reveal():this._hide(!0),void 0):(this._hide(!1),void 0)},e.prototype._reveal=function(){var e=this;this.isVisible||(this.isVisible=!0,window.setTimeout(function(){e.domNode.className=e.visibleClassName},0),this.domNode.style.display="block",-1!==this.fadeAwayTimeout&&(window.clearTimeout(this.fadeAwayTimeout),this.fadeAwayTimeout=-1))},e.prototype._hide=function(e){var t=this;this.isVisible&&(this.isVisible=!1,this.domNode.className=this.invisibleClassName,e?-1===this.fadeAwayTimeout&&(this.fadeAwayTimeout=window.setTimeout(function(){t.fadeAwayTimeout=-1,t.domNode.style.display="none"},800)):this.domNode.style.display="none")},e}(),p=function(){function e(e,t,n,i){this.parent=e,this.scrollbarState=t,this.visibilityController=new h(n,"visible scrollbar "+i,"invisible scrollbar "+i),this.mouseMoveMonitor=new s.GlobalMouseMoveMonitor,this.toDispose=[],this.toDispose.push(this.visibilityController),this.toDispose.push(this.mouseMoveMonitor)}return e.prototype._createDomNode=function(){var e=this;this.domNode=document.createElement("div"),this.visibilityController.setDomNode(this.domNode),this.domNode.style.position="absolute",this.toDispose.push(n.addDisposableListener(this.domNode,"mousedown",function(t){return e._domNodeMouseDown(t)}))},e.prototype._createArrow=function(e,t,n,i,o,r,s,a){var u=new d(e,t,n,i,o,r,s,a,this.parent);this.domNode.appendChild(u.bgDomNode),this.domNode.appendChild(u.domNode),this.toDispose.push(u)},e.prototype._createSlider=function(e,t,i,o){var r=this;this.slider=document.createElement("div"),this.slider.className="slider",this.slider.style.position="absolute",u(this.slider,e,t,null,null),l(this.slider,i,o),this.domNode.appendChild(this.slider),this.toDispose.push(n.addDisposableListener(this.slider,"mousedown",function(e){return r._sliderMouseDown(e)}))},e.prototype.destroy=function(){this.toDispose=r.disposeAll(this.toDispose)},e.prototype.onElementSize=function(e){this.scrollbarState.setVisibleSize(e)&&(this._renderDomNode(this.scrollbarState.getRectangleLargeSize(),this.scrollbarState.getRectangleSmallSize()),this._renderSlider(),this.visibilityController.setIsNeeded(this.scrollbarState.isNeeded()))},e.prototype.onElementScrollSize=function(e){this.scrollbarState.setScrollSize(e)&&(this._renderSlider(),this.visibilityController.setIsNeeded(this.scrollbarState.isNeeded()))},e.prototype.onElementScrollPosition=function(e){this.scrollbarState.setScrollPosition(e)&&(this._renderSlider(),this.visibilityController.setIsNeeded(this.scrollbarState.isNeeded()))},e.prototype.beginReveal=function(){this.visibilityController.setShouldBeVisible(!0)},e.prototype.beginHide=function(){this.visibilityController.setShouldBeVisible(!1)},e.prototype._renderSlider=function(){this._updateSlider(this.scrollbarState.getSliderSize(),this.scrollbarState.getArrowSize()+this.scrollbarState.getSliderPosition())},e.prototype._domNodeMouseDown=function(e){var t=new i.StandardMouseEvent(e);t.target===this.domNode&&this.onMouseDown(e)},e.prototype.onMouseDown=function(e){var t=new i.StandardMouseEvent(e),o=n.getDomNodePosition(this.domNode),r=this._mouseDownRelativePosition(t,o)-this.scrollbarState.getArrowSize()-this.scrollbarState.getSliderSize()/2;this.setDesiredScrollPosition(this.scrollbarState.convertSliderPositionToScrollPosition(r)),this._sliderMouseDown(e)},e.prototype._sliderMouseDown=function(e){var t=this,o=new i.StandardMouseEvent(e);if(o.leftButton){var r=this._sliderMousePosition(o)-this.scrollbarState.getSliderPosition();n.toggleClass(this.slider,"active",!0),this.mouseMoveMonitor.startMonitoring(s.standardMouseMoveMerger,function(e){var n=t._sliderMousePosition(e)-r;t.setDesiredScrollPosition(t.scrollbarState.convertSliderPositionToScrollPosition(n))},function(){n.toggleClass(t.slider,"active",!1),t.parent.onDragEnd()}),o.preventDefault(),this.parent.onDragStart()}},e.prototype.validateScrollPosition=function(e){return this.scrollbarState.validateScrollPosition(e)},e.prototype.setDesiredScrollPosition=function(e){e=this.validateScrollPosition(e),this._setScrollPosition(e),this.onElementScrollPosition(e),this._renderSlider()},e.prototype._renderDomNode=function(){},e.prototype._updateSlider=function(){},e.prototype._mouseDownRelativePosition=function(){return 0},e.prototype._sliderMousePosition=function(){return 0},e.prototype._setScrollPosition=function(){},e.ARROW_IMG_SIZE=11,e}();t.AbstractScrollbar=p});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/scrollbar/impl/horizontalScrollbar",["require","exports","vs/base/ui/scrollbar/impl/abstractScrollbar","vs/base/dom/mouseEvent"],function(e,t,n,i){function o(e,t,n){e.style[t]!==n&&(e.style[t]=n)}var r=function(e){function t(t,i,o){var r=this,s=new n.ScrollbarState(o.horizontalHasArrows?o.arrowSize:0,o.horizontalScrollbarSize,o.verticalScrollbarSize);if(e.call(this,i,s,o.horizontal,"horizontal"),this.scrollable=t,this._createDomNode(),o.horizontalHasArrows){var a=(o.arrowSize-n.AbstractScrollbar.ARROW_IMG_SIZE)/2,u=(o.horizontalScrollbarSize-n.AbstractScrollbar.ARROW_IMG_SIZE)/2;this._createArrow("left-arrow",u,a,null,null,o.arrowSize,o.horizontalScrollbarSize,function(){return r._createMouseWheelEvent(1)}),this._createArrow("right-arrow",u,null,null,a,o.arrowSize,o.horizontalScrollbarSize,function(){return r._createMouseWheelEvent(-1)})}this._createSlider(Math.floor((o.horizontalScrollbarSize-o.horizontalSliderSize)/2),0,null,o.horizontalSliderSize)}return __extends(t,e),t.prototype._createMouseWheelEvent=function(e){return new i.StandardMouseWheelEvent(null,e,0)},t.prototype._updateSlider=function(e,t){o(this.slider,"width",e+"px"),o(this.slider,"left",t+"px")},t.prototype._renderDomNode=function(e,t){o(this.domNode,"width",e+"px"),o(this.domNode,"height",t+"px"),o(this.domNode,"left","0"),o(this.domNode,"bottom","0")},t.prototype._mouseDownRelativePosition=function(e,t){return e.posx-t.left},t.prototype._sliderMousePosition=function(e){return e.posx},t.prototype._setScrollPosition=function(e){this.scrollable.setScrollLeft(e)},t}(n.AbstractScrollbar);t.HorizontalScrollbar=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/scrollbar/impl/verticalScrollbar",["require","exports","vs/base/ui/scrollbar/impl/abstractScrollbar","vs/base/dom/mouseEvent"],function(e,t,n,i){function o(e,t,n){e.style[t]!==n&&(e.style[t]=n)}var r=function(e){function t(t,i,o){var r=this,s=new n.ScrollbarState(o.verticalHasArrows?o.arrowSize:0,o.verticalScrollbarSize,o.horizontalScrollbarSize);if(e.call(this,i,s,o.vertical,"vertical"),this.scrollable=t,this._createDomNode(),o.verticalHasArrows){var a=(o.arrowSize-n.AbstractScrollbar.ARROW_IMG_SIZE)/2,u=(o.verticalScrollbarSize-n.AbstractScrollbar.ARROW_IMG_SIZE)/2;this._createArrow("up-arrow",a,u,null,null,o.verticalScrollbarSize,o.arrowSize,function(){return r._createMouseWheelEvent(1)}),this._createArrow("down-arrow",null,u,a,null,o.verticalScrollbarSize,o.arrowSize,function(){return r._createMouseWheelEvent(-1)})}this._createSlider(0,Math.floor((o.verticalScrollbarSize-o.verticalSliderSize)/2),o.verticalSliderSize,null)}return __extends(t,e),t.prototype._createMouseWheelEvent=function(e){return new i.StandardMouseWheelEvent(null,0,e)},t.prototype._updateSlider=function(e,t){o(this.slider,"height",e+"px"),o(this.slider,"top",t+"px")},t.prototype._renderDomNode=function(e,t){o(this.domNode,"width",t+"px"),o(this.domNode,"height",e+"px"),o(this.domNode,"right","0"),o(this.domNode,"top","0")},t.prototype._mouseDownRelativePosition=function(e,t){return e.posy-t.top},t.prototype._sliderMousePosition=function(e){return e.posy},t.prototype._setScrollPosition=function(e){this.scrollable.setScrollTop(e)},t}(n.AbstractScrollbar);t.VerticalScrollbar=r}),define("vs/css!vs/base/ui/scrollbar/impl/scrollbars",["vs/css!vs/editor/editor.main"],{}),define("vs/base/ui/scrollbar/impl/scrollableElement",["require","exports","vs/base/dom/dom","vs/base/dom/mouseEvent","vs/base/env","vs/base/ui/scrollbar/impl/common","vs/base/ui/scrollbar/impl/domNodeScrollable","vs/base/ui/scrollbar/impl/horizontalScrollbar","vs/base/ui/scrollbar/impl/verticalScrollbar","vs/base/lifecycle","vs/css!./scrollbars"],function(e,t,n,i,o,r,s,a,u,l){var c=500,d=50,h=function(){function e(e,t){var i=this;this.originalElement=e,this.originalElement.style.overflow="hidden",this.options=this._createOptions(t),this.scrollable=this.options.scrollable?this.options.scrollable:new s.DomNodeScrollable(this.originalElement),this.verticalScrollbarWidth=this.options.verticalScrollbarSize,this.horizontalScrollbarHeight=this.options.horizontalScrollbarSize,this.verticalScrollbar=new u.VerticalScrollbar(this.scrollable,this,this.options),this.horizontalScrollbar=new a.HorizontalScrollbar(this.scrollable,this,this.options),this.domNode=document.createElement("div"),this.domNode.className="monaco-scrollable-element "+this.options.className,this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation"),this.domNode.style.position="relative",this.domNode.style.overflow="hidden",this.domNode.appendChild(this.originalElement),this.domNode.appendChild(this.horizontalScrollbar.domNode),this.domNode.appendChild(this.verticalScrollbar.domNode),this.options.useShadows&&(this.leftShadowDomNode=document.createElement("div"),this.leftShadowDomNode.className="shadow",this.domNode.appendChild(this.leftShadowDomNode)),this.options.useShadows&&(this.topShadowDomNode=document.createElement("div"),this.topShadowDomNode.className="shadow",this.domNode.appendChild(this.topShadowDomNode),this.topLeftShadowDomNode=document.createElement("div"),this.topLeftShadowDomNode.className="shadow top-left-corner",this.domNode.appendChild(this.topLeftShadowDomNode)),this.listenOnDomNode=this.options.listenOnDomNode||this.domNode,this.toDispose=[],this.toDispose.push(this.scrollable.addScrollListener(function(){return i._onScroll()})),this.options.handleMouseWheel&&this.handleMouseWheel(),this.toDispose.push(n.addDisposableListener(this.listenOnDomNode,"mouseover",function(e){return i._onMouseOver(e)})),this.toDispose.push(n.addDisposableNonBubblingMouseOutListener(this.listenOnDomNode,function(e){return i._onMouseOut(e)
})),this.onElementDimensionsTimeout=-1,this.onElementInternalDimensionsTimeout=-1,this.hideTimeout=-1,this.isDragging=!1,this.mouseIsOver=!1,this.onElementDimensions(!0),this.onElementInternalDimensions(!0)}return e.prototype.dispose=function(){this.toDispose=l.disposeAll(this.toDispose),this.verticalScrollbar.destroy(),this.horizontalScrollbar.destroy(),-1!==this.onElementDimensionsTimeout&&(window.clearTimeout(this.onElementDimensionsTimeout),this.onElementDimensionsTimeout=-1),-1!==this.onElementInternalDimensionsTimeout&&(window.clearTimeout(this.onElementInternalDimensionsTimeout),this.onElementInternalDimensionsTimeout=-1)},e.prototype.destroy=function(){this.dispose()},e.prototype.getDomNode=function(){return this.domNode},e.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this.domNode,insertBefore:this.verticalScrollbar.domNode,top:this.options.verticalHasArrows?this.options.arrowSize:0,bottom:(this.options.verticalHasArrows?this.options.arrowSize:0)+this.options.horizontalScrollbarSize,width:this.options.verticalScrollbarSize}},e.prototype.getVerticalSliderDomNode=function(){return this.verticalScrollbar.slider},e.prototype.delegateVerticalScrollbarMouseDown=function(e){return this.verticalScrollbar.onMouseDown(e)},e.prototype.onElementDimensions=function(e){var t=this;"undefined"==typeof e&&(e=!1),e?this.actualElementDimensions():-1===this.onElementDimensionsTimeout&&(this.onElementDimensionsTimeout=window.setTimeout(function(){return t.actualElementDimensions()},0))},e.prototype.actualElementDimensions=function(){this.onElementDimensionsTimeout=-1,this.dimensions=this._computeDimensions(),this.verticalScrollbar.onElementSize(this.dimensions.height),this.horizontalScrollbar.onElementSize(this.dimensions.width)},e.prototype.onElementInternalDimensions=function(e){var t=this;"undefined"==typeof e&&(e=!1),e?this.actualElementInternalDimensions():-1===this.onElementInternalDimensionsTimeout&&(this.onElementInternalDimensionsTimeout=window.setTimeout(function(){return t.actualElementInternalDimensions()},0))},e.prototype.actualElementInternalDimensions=function(){this.onElementInternalDimensionsTimeout=-1,this.horizontalScrollbar.onElementScrollSize(this.scrollable.getScrollWidth()),this.verticalScrollbar.onElementScrollSize(this.scrollable.getScrollHeight())},e.prototype.updateClassName=function(e){this.options.className=e,o.browser.isMacintosh&&(this.options.className+=" mac"),this.domNode.className="monaco-scrollable-element "+this.options.className},e.prototype.handleMouseWheel=function(){var e=this,t=function(t){var n=new i.StandardMouseWheelEvent(t);e.onMouseWheel(n)};this.toDispose.push(n.addDisposableListener(this.listenOnDomNode,"mousewheel",t)),this.toDispose.push(n.addDisposableListener(this.listenOnDomNode,"DOMMouseScroll",t))},e.prototype.onMouseWheel=function(e){if(this.options.handleMouseWheel){var t=-1,n=-1;if(e.deltaY||e.deltaX){var i=e.deltaY,o=e.deltaX;if(this.options.flipAxes&&(i=e.deltaX,o=e.deltaY),i){var r=this.scrollable.getScrollTop();t=this.verticalScrollbar.validateScrollPosition((-1!==t?t:r)-d*i),t===r&&(t=-1)}if(o){var s=this.scrollable.getScrollLeft();n=this.horizontalScrollbar.validateScrollPosition((-1!==n?n:s)-d*o),n===s&&(n=-1)}(-1!==t||-1!==n)&&(e.preventDefault(),e.stopPropagation(),-1!==t&&(this.verticalScrollbar.setDesiredScrollPosition(t),t=-1),-1!==n&&(this.horizontalScrollbar.setDesiredScrollPosition(n),n=-1))}}},e.prototype._onScroll=function(){var e=this.scrollable.getScrollHeight(),t=this.scrollable.getScrollTop(),i=this.scrollable.getScrollWidth(),o=this.scrollable.getScrollLeft();if(this.verticalScrollbar.onElementScrollPosition(t),this.horizontalScrollbar.onElementScrollPosition(o),this.options.useShadows){var r=e>0&&t>0,s=this.options.useShadows&&i>0&&o>0;this.topShadowDomNode&&n.toggleClass(this.topShadowDomNode,"top",r),this.topLeftShadowDomNode&&n.toggleClass(this.topLeftShadowDomNode,"top",r),this.leftShadowDomNode&&n.toggleClass(this.leftShadowDomNode,"left",s),this.topLeftShadowDomNode&&n.toggleClass(this.topLeftShadowDomNode,"left",s)}this._reveal()},e.prototype.onDragStart=function(){this.isDragging=!0,this._reveal()},e.prototype.onDragEnd=function(){this.isDragging=!1,this._hide()},e.prototype._onMouseOut=function(){this.mouseIsOver=!1,this._hide()},e.prototype._onMouseOver=function(){this.mouseIsOver=!0,this._reveal()},e.prototype._reveal=function(){this.verticalScrollbar.beginReveal(),this.horizontalScrollbar.beginReveal(),this._scheduleHide()},e.prototype._hide=function(){this.mouseIsOver||this.isDragging||(this.verticalScrollbar.beginHide(),this.horizontalScrollbar.beginHide())},e.prototype._scheduleHide=function(){-1!==this.hideTimeout&&window.clearTimeout(this.hideTimeout),this.hideTimeout=window.setTimeout(this._hide.bind(this),c)},e.prototype._computeDimensions=function(){var e=this.domNode.clientWidth,t=this.domNode.clientHeight,n=t-(this.options.verticalHasArrows?2*this.options.arrowSize:0)-this.options.horizontalScrollbarSize,i=e-(this.options.horizontalHasArrows?2*this.options.arrowSize:0)-this.options.verticalScrollbarSize;return{width:e,height:t,representableHeight:n,representableWidth:i}},e.prototype._createOptions=function(e){function t(e,t,n){return e.hasOwnProperty(t)?e[t]:n}var n={className:t(e,"className",""),useShadows:t(e,"useShadows",!0),handleMouseWheel:t(e,"handleMouseWheel",!0),flipAxes:t(e,"flipAxes",!1),arrowSize:t(e,"arrowSize",11),scrollable:t(e,"scrollable",null),listenOnDomNode:t(e,"listenOnDomNode",null),horizontal:r.visibilityFromString(t(e,"horizontal","auto")),horizontalScrollbarSize:t(e,"horizontalScrollbarSize",10),horizontalSliderSize:0,horizontalHasArrows:t(e,"horizontalHasArrows",!1),vertical:r.visibilityFromString(t(e,"vertical","auto")),verticalScrollbarSize:t(e,"verticalScrollbarSize",10),verticalHasArrows:t(e,"verticalHasArrows",!1),verticalSliderSize:0};return n.horizontalSliderSize=t(e,"horizontalSliderSize",n.horizontalScrollbarSize),n.verticalSliderSize=t(e,"verticalSliderSize",n.verticalScrollbarSize),o.browser.isMacintosh&&(n.className+=" mac"),n},e}();t.ScrollableElement=h});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/layout/scroll/editorScrollable",["require","exports","vs/base/eventEmitter"],function(e,t,n){var i=function(e){function t(n){e.call(this,[t._SCROLL_EVENT,t._INTERNAL_SIZE_CHANGED_EVENT]),this.linesContent=n,this.scrollTop=0,this.scrollLeft=0,this.scrollWidth=0,this.scrollHeight=0,this.width=0,this.height=0}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.getWidth=function(){return this.width},t.prototype.setWidth=function(e){0>e&&(e=0),this.width!==e&&(this.width=e,this.setScrollWidth(this.scrollWidth),this.setScrollLeft(this.scrollLeft))},t.prototype.getScrollWidth=function(){return this.scrollWidth},t.prototype.setScrollWidth=function(e){e<this.width&&(e=this.width),this.scrollWidth!==e&&(this.scrollWidth=e,this.setScrollLeft(this.scrollLeft),this._emitInternalSizeEvent())},t.prototype.getScrollLeft=function(){return this.scrollLeft},t.prototype.setScrollLeft=function(e){0>e&&(e=0),e+this.width>this.scrollWidth&&(e=this.scrollWidth-this.width),this.scrollLeft!==e&&(this.scrollLeft=e,this.linesContent.scrollLeft=e,this._emitScrollEvent(!1,!0))},t.prototype.getHeight=function(){return this.height},t.prototype.setHeight=function(e){0>e&&(e=0),this.height!==e&&(this.height=e,this.setScrollHeight(this.scrollHeight),this.setScrollTop(this.scrollTop))},t.prototype.getScrollHeight=function(){return this.scrollHeight},t.prototype.setScrollHeight=function(e){e<this.height&&(e=this.height),this.scrollHeight!==e&&(this.scrollHeight=e,this.setScrollTop(this.scrollTop),this._emitInternalSizeEvent())},t.prototype.getScrollTop=function(){return this.scrollTop},t.prototype.setScrollTop=function(e){0>e&&(e=0),e+this.height>this.scrollHeight&&(e=this.scrollHeight-this.height),this.scrollTop!==e&&(this.scrollTop=e,this._emitScrollEvent(!0,!1))},t.prototype._emitScrollEvent=function(e,n){var i={vertical:e,horizontal:n,scrollTop:this.scrollTop,scrollLeft:this.scrollLeft};this.emit(t._SCROLL_EVENT,i)},t.prototype.addScrollListener=function(e){return this.addListener2(t._SCROLL_EVENT,e)},t.prototype._emitInternalSizeEvent=function(){this.emit(t._INTERNAL_SIZE_CHANGED_EVENT)},t.prototype.addInternalSizeChangeListener=function(e){return this.addListener2(t._INTERNAL_SIZE_CHANGED_EVENT,e)},t._SCROLL_EVENT="scroll",t._INTERNAL_SIZE_CHANGED_EVENT="internalSizeChanged",t}(n.EventEmitter);t.EditorScrollable=i}),define("vs/editor/core/view/layout/scroll/scrollManager",["require","exports","vs/base/ui/scrollbar/impl/scrollableElement","vs/editor/core/constants","vs/editor/core/view/viewContext","vs/editor/core/view/layout/scroll/editorScrollable","vs/base/dom/dom","vs/base/lifecycle"],function(e,t,n,i,o,r,s,a){function u(e,t,n){e.hasOwnProperty(n)&&(t[n]=e[n])}var l=function(){function e(e,t,a,l){var c=this;this.toDispose=[],this.configuration=e,this.privateViewEventBus=t,this.linesContent=a,this.scrollable=new r.EditorScrollable(a),this.toDispose.push(this.scrollable),this.toDispose.push(this.scrollable.addScrollListener(function(e){c.privateViewEventBus.emit(i.EventType.ViewScrollChanged,e)}));var d={scrollable:this.scrollable,listenOnDomNode:l,vertical:this.configuration.editor.scrollbar.vertical,horizontal:this.configuration.editor.scrollbar.horizontal,className:o.ClassNames.SCROLLABLE_ELEMENT+" "+this.configuration.editor.theme,useShadows:!1};u(this.configuration.editor.scrollbar,d,"verticalHasArrows"),u(this.configuration.editor.scrollbar,d,"horizontalHasArrows"),u(this.configuration.editor.scrollbar,d,"verticalScrollbarSize"),u(this.configuration.editor.scrollbar,d,"verticalSliderSize"),u(this.configuration.editor.scrollbar,d,"horizontalScrollbarSize"),u(this.configuration.editor.scrollbar,d,"horizontalSliderSize"),u(this.configuration.editor.scrollbar,d,"handleMouseWheel"),u(this.configuration.editor.scrollbar,d,"arrowSize"),this.scrollbar=new n.ScrollableElement(a,d),this.toDispose.push(this.scrollbar),this.toDispose.push(this.scrollable.addInternalSizeChangeListener(function(){c.scrollbar.onElementInternalDimensions()})),this.toDispose.push(this.configuration.addListener2(i.EventType.ConfigurationChanged,function(){c.scrollbar.updateClassName(c.configuration.editor.theme)}));var h=function(e,t,n){if(t){var i=e.scrollTop;i&&(c.scrollable.setScrollTop(c.getScrollTop()+i),e.scrollTop=0)}if(n){var o=e.scrollLeft;o&&(c.scrollable.setScrollLeft(c.getScrollLeft()+o),e.scrollLeft=0)}};this.toDispose.push(s.addDisposableListener(l,"scroll",function(){return h(l,!0,!0)})),this.toDispose.push(s.addDisposableListener(a,"scroll",function(){return h(a,!0,!1)}))}return e.prototype.dispose=function(){this.toDispose=a.disposeAll(this.toDispose)},e.prototype.getVerticalScrollbarWidth=function(){return this.scrollbar.verticalScrollbarWidth},e.prototype.getHorizontalScrollbarHeight=function(){return this.scrollbar.horizontalScrollbarHeight},e.prototype.onSizeProviderLayoutChanged=function(){this.scrollbar&&this.scrollbar.onElementDimensions()},e.prototype.getScrolledTopFromAbsoluteTop=function(e){return e-this.scrollable.getScrollTop()},e.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar?this.scrollbar.getOverviewRulerLayoutInfo():null},e.prototype.getScrollbarContainerDomNode=function(){return this.scrollbar?this.scrollbar.getDomNode():this.linesContent},e.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollbar&&this.scrollbar.delegateVerticalScrollbarMouseDown(e)},e.prototype.getWidth=function(){return this.scrollable.getWidth()},e.prototype.setWidth=function(e){this.scrollable.setWidth(e)},e.prototype.getHeight=function(){return this.scrollable.getHeight()},e.prototype.setHeight=function(e){this.scrollable.setHeight(e)},e.prototype.getScrollHeight=function(){return this.scrollable.getScrollHeight()},e.prototype.setScrollHeight=function(e){this.scrollable.setScrollHeight(e)},e.prototype.getScrollWidth=function(){return this.scrollable.getScrollWidth()},e.prototype.setScrollWidth=function(e){this.scrollable.setScrollWidth(e)},e.prototype.getScrollLeft=function(){return this.scrollable.getScrollLeft()},e.prototype.setScrollLeft=function(e){this.scrollable.setScrollLeft(e)},e.prototype.getScrollTop=function(){return this.scrollable.getScrollTop()},e.prototype.setScrollTop=function(e){this.scrollable.setScrollTop(e)},e.prototype.addScrollListener=function(e){return this.scrollable.addScrollListener(e)},e}();t.ScrollManager=l});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/layout/layoutProvider",["require","exports","vs/editor/core/constants","vs/editor/core/view/layout/lines/linesLayout","vs/editor/core/view/viewEventHandler","vs/editor/core/view/layout/editorLayoutProvider","vs/editor/core/view/layout/scroll/scrollManager"],function(e,t,n,i,o,r,s){var a=function(e){function t(t,n,o,a,u){e.call(this),this.configuration=t,this.privateViewEventBus=o,this.model=n,this.scrollManager=new s.ScrollManager(t,o,a,u),this.editorLayoutProvider=new r.EditorLayoutProvider(this.configuration.editor.observedOuterWidth,this.configuration.editor.observedOuterHeight,this.configuration.editor.lineHeight,this.configuration.editor.glyphMargin,this.configuration.editor.lineNumbers,this.configuration.editor.lineNumbersMinChars,this.configuration.editor.lineDecorationsWidth,this.configuration.editor.maxDigitWidth),this.editorLayoutProvider.setLineCount(this.model.getLineCount()),this.editorLayoutProvider.setScrollbarSize(this.scrollManager.getVerticalScrollbarWidth(),this.scrollManager.getHorizontalScrollbarHeight()),this._updateWrappingColumn(this.getLayoutInfo(),0),this.linesLayout=new i.LinesLayout(t,n),this._updatePageSize(),this._updateHeight()}return __extends(t,e),t.prototype.dispose=function(){this.scrollManager.dispose()},t.prototype.updateLineCount=function(){var e=this.editorLayoutProvider.setLineCount(this.model.getLineCount());e&&this._emitLayoutChangedEvent()},t.prototype.onZonesChanged=function(){return this._updateHeight(),!1},t.prototype.onModelFlushed=function(){return this.linesLayout.onModelFlushed(),this.updateLineCount(),this._updateHeight(),!1},t.prototype.onModelLinesDeleted=function(e){return this.linesLayout.onModelLinesDeleted(e),this.updateLineCount(),this._updateHeight(),!1},t.prototype.onModelLineChanged=function(){return!1},t.prototype.onModelLinesInserted=function(e){return this.linesLayout.onModelLinesInserted(e),this.updateLineCount(),this._updateHeight(),!1},t.prototype.onConfigurationChanged=function(){var e=this.linesLayout.getCenteredLineInViewport(this.getCurrentViewport());this._updatePageSize();var t=this.editorLayoutProvider.setDimensions(this.configuration.editor.observedOuterWidth,this.configuration.editor.observedOuterHeight);return t=this.editorLayoutProvider.setShowLineNumbers(this.configuration.editor.lineNumbers)||t,t=this.editorLayoutProvider.setLineNumbersMinChars(this.configuration.editor.lineNumbersMinChars)||t,t=this.editorLayoutProvider.setGlyphMargin(this.configuration.editor.glyphMargin)||t,t=this.editorLayoutProvider.setLineDecorationsWidth(this.configuration.editor.lineDecorationsWidth)||t,t=this.editorLayoutProvider.setLineHeight(this.configuration.editor.lineHeight)||t,t=this.editorLayoutProvider.setMaxDigitWidth(this.configuration.editor.maxDigitWidth)||t,this._updateWrappingColumn(this.getLayoutInfo(),e),t&&this._emitLayoutChangedEvent(),this._updateHeight(),!1},t.prototype._updateHeight=function(){var e=this.scrollManager.getScrollHeight();this.scrollManager.setScrollHeight(this.getTotalHeight());var t=this.scrollManager.getScrollHeight();e!==t&&this.privateViewEventBus.emit(n.EventType.ViewScrollHeightChanged,t)},t.prototype._updateWrappingColumn=function(e,t){var n=this.configuration.getWrappingColumn(),i=-1;0===n?i=Math.max(1,Math.floor((e.contentWidth-e.verticalScrollbarWidth)/this.configuration.editor.thinnestCharacterWidth)):n>0&&(i=n),this.model.setWrappingColumn(i,t)},t.prototype._updatePageSize=function(){var e=this.editorLayoutProvider.getLayoutInfo();this.configuration.editor.pageSize=Math.floor(e.height/this.configuration.editor.lineHeight)-2},t.prototype.getLayoutInfo=function(){var e=this.editorLayoutProvider.getLayoutInfo(),t=this.scrollManager.getOverviewRulerLayoutInfo();return e.overviewRuler={top:t.top,width:t.width,height:e.height-t.top-t.bottom,right:0},e},t.prototype.getCurrentViewport=function(){var e=this.editorLayoutProvider.getLayoutInfo();return{top:this.scrollManager.getScrollTop(),left:this.scrollManager.getScrollLeft(),width:e.contentWidth,height:e.contentHeight}},t.prototype._emitLayoutChangedEvent=function(e){"undefined"==typeof e&&(e=0),this.scrollManager.onSizeProviderLayoutChanged();var t=this.getLayoutInfo();this.scrollManager.setWidth(t.contentWidth),this.scrollManager.setHeight(t.contentHeight),this._updateWrappingColumn(t,e),this.privateViewEventBus.emit(n.EventType.ViewLayoutChanged,t)},t.prototype.emitLayoutChangedEvent=function(){this._emitLayoutChangedEvent()},t.prototype._computeScrollWidth=function(e,n){var i=this.configuration.getWrappingColumn(),o=0===i;return o?Math.max(e,n):Math.max(e+t.LINES_HORIZONTAL_EXTRA_PX,n)},t.prototype.onMaxLineWidthChanged=function(e){var t=this._computeScrollWidth(e,this.getCurrentViewport().width),i=this.scrollManager.getScrollWidth();this.scrollManager.setScrollWidth(t);var t=this.scrollManager.getScrollWidth();t!==i&&(this.privateViewEventBus.emit(n.EventType.ViewScrollWidthChanged),this._updateHeight())},t.prototype.saveState=function(){return{scrollTop:this.scrollManager.getScrollTop(),scrollLeft:this.scrollManager.getScrollLeft(),linesDomNodeWidth:this.scrollManager.getScrollWidth()}},t.prototype.restoreState=function(e){this.scrollManager.setScrollTop(e.scrollTop),this.scrollManager.setScrollLeft(e.scrollLeft)},t.prototype.addWhitespace=function(e,t){return this.linesLayout.insertWhitespace(e,t)},t.prototype.changeWhitespace=function(e,t){return this.linesLayout.changeWhitespace(e,t)},t.prototype.changeAfterLineNumberForWhitespace=function(e,t){return this.linesLayout.changeAfterLineNumberForWhitespace(e,t)},t.prototype.removeWhitespace=function(e){return this.linesLayout.removeWhitespace(e)},t.prototype.getVerticalOffsetForLineNumber=function(e){return this.linesLayout.getVerticalOffsetForLineNumber(e)},t.prototype.heightInPxForLine=function(e){return this.linesLayout.getHeightForLineNumber(e)},t.prototype.getLineNumberAtVerticalOffset=function(e){return this.linesLayout.getLineNumberAtOrAfterVerticalOffset(e)},t.prototype.getTotalHeight=function(){var e=0;return this.scrollManager.getScrollWidth()>this.scrollManager.getWidth()&&(e=this.scrollManager.getHorizontalScrollbarHeight()),this.linesLayout.getTotalHeight(this.getCurrentViewport(),e)},t.prototype.getWhitespaceAtVerticalOffset=function(e){return this.linesLayout.getWhitespaceAtVerticalOffset(e)},t.prototype.getLinesViewportData=function(){return this.linesLayout.getLinesViewportData(this.getCurrentViewport())},t.prototype.getWhitespaceViewportData=function(){return this.linesLayout.getWhitespaceViewportData(this.getCurrentViewport())},t.prototype.getOverviewRulerInsertData=function(){var e=this.scrollManager.getOverviewRulerLayoutInfo();return{parent:e.parent,insertBefore:e.insertBefore}},t.prototype.getScrollbarContainerDomNode=function(){return this.scrollManager.getScrollbarContainerDomNode()},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollManager.delegateVerticalScrollbarMouseDown(e)},t.prototype.getScrollHeight=function(){return this.scrollManager.getScrollHeight()},t.prototype.getScrollWidth=function(){return this.scrollManager.getScrollWidth()},t.prototype.getScrollLeft=function(){return this.scrollManager.getScrollLeft()},t.prototype.setScrollLeft=function(e){this.scrollManager.setScrollLeft(e)},t.prototype.getScrollTop=function(){return this.scrollManager.getScrollTop()},t.prototype.setScrollTop=function(e){this.scrollManager.setScrollTop(e)},t.prototype.getScrolledTopFromAbsoluteTop=function(e){return this.scrollManager.getScrolledTopFromAbsoluteTop(e)},t.LINES_HORIZONTAL_EXTRA_PX=30,t}(o.ViewEventHandler);t.LayoutProvider=a}),define("vs/editor/core/view/viewEventDispatcher",["require","exports","vs/base/eventEmitter"],function(e,t,n){var i=function(){function e(e){this.eventHandlerGateKeeper=e,this.eventHandlers=[],this.eventQueue=[],this.isConsumingQueue=!1}return e.prototype.addEventHandler=function(e){this.eventHandlers.push(e)},e.prototype.removeEventHandler=function(e){for(var t=0;t<this.eventHandlers.length;t++)if(this.eventHandlers[t]===e){this.eventHandlers.splice(t,1);break}},e.prototype.emit=function(e,t){this.eventQueue.push(new n.EmitterEvent(e,t)),this.isConsumingQueue||this.consumeQueue()},e.prototype.emitMany=function(e){this.eventQueue=this.eventQueue.concat(e),this.isConsumingQueue||this.consumeQueue()},e.prototype.consumeQueue=function(){var e=this;this.eventHandlerGateKeeper(function(){try{e.isConsumingQueue=!0;for(var t,n,i,o;e.eventQueue.length>0;)for(o=e.eventQueue,e.eventQueue=[],i=e.eventHandlers.slice(0),t=0,n=i.length;n>t;t++)i[t].handleEvents(o)}finally{e.isConsumingQueue=!1}})},e}();t.ViewEventDispatcher=i}),define("vs/editor/core/view/viewController",["require","exports","vs/editor/core/internalConstants","vs/editor/core/constants","vs/editor/core/position"],function(e,t,n,i,o){var r=function(){function e(e,t,n){this.viewModel=e,this.configuration=t,this.outgoingEventBus=n}return e.prototype.paste=function(e,t,i){this.configuration.handlerDispatcher.trigger(e,n.Handler.Paste,{text:t,pasteOnNewLine:i})},e.prototype.type=function(e,t){this.configuration.handlerDispatcher.trigger(e,n.Handler.Type,{text:t})},e.prototype.cut=function(e){this.configuration.handlerDispatcher.trigger(e,n.Handler.Cut,null)},e.prototype.moveTo=function(e,t,i){this.configuration.handlerDispatcher.trigger(e,n.Handler.MoveTo,{position:this.convertViewToModelPosition(t,i),viewPosition:new o.Position(t,i)})},e.prototype.moveToSelect=function(e,t,i){this.configuration.handlerDispatcher.trigger(e,n.Handler.MoveToSelect,{position:this.convertViewToModelPosition(t,i),viewPosition:new o.Position(t,i)})},e.prototype.createCursor=function(e,t,i,r){this.configuration.handlerDispatcher.trigger(e,n.Handler.CreateCursor,{position:this.convertViewToModelPosition(t,i),viewPosition:new o.Position(t,i),wholeLine:r})},e.prototype.lastCursorMoveToSelect=function(e,t,i){this.configuration.handlerDispatcher.trigger(e,n.Handler.LastCursorMoveToSelect,{position:this.convertViewToModelPosition(t,i),viewPosition:new o.Position(t,i)})},e.prototype.wordSelect=function(e,t,i,o){this.configuration.handlerDispatcher.trigger(e,n.Handler.WordSelect,{position:this.convertViewToModelPosition(t,i),preference:o})},e.prototype.wordSelectDrag=function(e,t,i,o){this.configuration.handlerDispatcher.trigger(e,n.Handler.WordSelectDrag,{position:this.convertViewToModelPosition(t,i),preference:o})},e.prototype.lastCursorWordSelect=function(e,t,i,o){this.configuration.handlerDispatcher.trigger(e,n.Handler.LastCursorWordSelect,{position:this.convertViewToModelPosition(t,i),preference:o})},e.prototype.lineSelect=function(e,t,i){this.configuration.handlerDispatcher.trigger(e,n.Handler.LineSelect,{position:this.convertViewToModelPosition(t,i),viewPosition:new o.Position(t,i)})},e.prototype.lineSelectDrag=function(e,t,i){this.configuration.handlerDispatcher.trigger(e,n.Handler.LineSelectDrag,{position:this.convertViewToModelPosition(t,i),viewPosition:new o.Position(t,i)})},e.prototype.lastCursorLineSelect=function(e,t,i){this.configuration.handlerDispatcher.trigger(e,n.Handler.LastCursorLineSelect,{position:this.convertViewToModelPosition(t,i),viewPosition:new o.Position(t,i)})},e.prototype.lastCursorLineSelectDrag=function(e,t,i){this.configuration.handlerDispatcher.trigger(e,n.Handler.LastCursorLineSelectDrag,{position:this.convertViewToModelPosition(t,i),viewPosition:new o.Position(t,i)})},e.prototype.selectAll=function(e){this.configuration.handlerDispatcher.trigger(e,n.Handler.SelectAll,null)},e.prototype.convertViewToModelPosition=function(e,t){return this.viewModel.convertViewPositionToModelPosition(e,t)},e.prototype.convertViewToModelRange=function(e){return this.viewModel.convertViewRangeToModelRange(e)},e.prototype.convertViewToModelMouseEvent=function(e){e.target&&(e.target.position&&(e.target.position=this.convertViewToModelPosition(e.target.position.lineNumber,e.target.position.column)),e.target.range&&(e.target.range=this.convertViewToModelRange(e.target.range)))},e.prototype.emitKeyDown=function(e){this.outgoingEventBus.emit(i.EventType.KeyDown,e)},e.prototype.emitKeyUp=function(e){this.outgoingEventBus.emit(i.EventType.KeyUp,e)},e.prototype.emitContextMenu=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(i.EventType.ContextMenu,e)},e.prototype.emitMouseMove=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(i.EventType.MouseMove,e)},e.prototype.emitMouseLeave=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(i.EventType.MouseLeave,e)},e.prototype.emitMouseUp=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(i.EventType.MouseUp,e)},e.prototype.emitMouseDown=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(i.EventType.MouseDown,e)},e}();t.ViewController=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/viewOverlays",["require","exports","vs/base/dom/dom","vs/editor/core/view/viewPart"],function(e,t,n,i){var o=function(e){function t(t){e.call(this,t),this._dynamicOverlays=[],this._overlays=[],this.domNode=document.createElement("div"),this.domNode.className="view-overlays",this.domNode.style.position="absolute",this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._backgroundDomNode=document.createElement("div"),this._backgroundDomNode.className="background",this.domNode.appendChild(this._backgroundDomNode),this._staticDomNode=document.createElement("div"),this._staticDomNode.className="static",this.domNode.appendChild(this._staticDomNode),this._dynamicDomNode=document.createElement("div"),this._dynamicDomNode.className="dynamic",this.domNode.appendChild(this._dynamicDomNode),this._scrollHeight=0}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this);for(var t=0;t<this._dynamicOverlays.length;t++)this._dynamicOverlays[t].dispose();this._dynamicOverlays=null;for(var t=0;t<this._overlays.length;t++)this._overlays[t].dispose();this._overlays=null},t.prototype.onViewFocusChanged=function(e){var t=this;return this._requestModificationFrame(function(){n.toggleClass(t._dynamicDomNode,"focused",e)}),!1},t.prototype.onLayoutChanged=function(e){var t=this;return this._requestModificationFrame(function(){t._backgroundDomNode.style.width=e.width+"px"}),!1},t.prototype.addDynamicOverlay=function(e){this._dynamicOverlays.push(e)},t.prototype.addOverlay=function(e){this._overlays.push(e),this._staticDomNode.appendChild(e.getDomNode())},t.prototype._render=function(e,t){for(var n=this,i=!1,o=0;!i&&o<this._dynamicOverlays.length;o++)i=this._dynamicOverlays[o].shouldCallRender()||i;var r=null;if(i){r=[];for(var o=0;o<this._dynamicOverlays.length;o++)r=r.concat(this._dynamicOverlays[o].render(e,t))}for(var o=0;o<this._overlays.length;o++)this._overlays[o].prepareRender(e);this._requestModificationFrame(function(){r&&(n._dynamicDomNode.innerHTML=r.join(""));for(var t=0;t<n._overlays.length;t++)n._overlays[t].render(e);n._scrollHeight!==e.scrollHeight&&(n._scrollHeight=e.scrollHeight,n._backgroundDomNode.style.height=n._scrollHeight+"px");var i=e.getViewportVerticalOffsetForLineNumber(e.visibleRange.startLineNumber)+"px";n._backgroundDomNode.style.top!==i&&(n._backgroundDomNode.style.top=i)})},t.prototype.onReadAfterForcedLayout=function(e,t){return this._render(e,t),null},t.prototype.onWriteAfterForcedLayout=function(){this._executeModificationRunners()},t}(i.ViewPart);t.ViewOverlays=o}),define("vs/css!vs/editor/core/view/overlays/currentLineHighlight/currentLineHighlight",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/overlays/currentLineHighlight/currentLineHighlight",["require","exports","vs/editor/core/view/viewEventHandler","vs/css!./currentLineHighlight"],function(e,t,n){var i=function(e){function t(t){e.call(this),this._context=t,this._currentLine=document.createElement("div"),this._currentLine.className="current-line",this._currentLineIsVisible=!0,this._currentLine.style.width="0px",this._currentLine.style.height=this._context.configuration.editor.lineHeight+"px",this._selectionIsEmpty=!0,this._primaryCursorIsInEditableRange=!0,this._updatePrimaryCursorPosition({lineNumber:1,column:1}),this._updateCurrentLine(),this._context.addEventHandler(this)}return __extends(t,e),t.prototype._updatePrimaryCursorPosition=function(e){this._primaryCursorPosition=e,this._primaryCursorPositionTop=-1e3},t.prototype.dispose=function(){this._context.removeEventHandler(this)},t.prototype.getDomNode=function(){return this._currentLine},t.prototype.onModelFlushed=function(){return this._primaryCursorIsInEditableRange=!0,this._selectionIsEmpty=!0,this._updatePrimaryCursorPosition({lineNumber:1,column:1}),!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(e){return this._primaryCursorIsInEditableRange=e.isInEditableRange,this._updatePrimaryCursorPosition(e.position),this._updateCurrentLine(),!0},t.prototype.onCursorSelectionChanged=function(e){return this._selectionIsEmpty=e.selection.isEmpty(),this._updateCurrentLine(),!1},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._currentLine.style.height=this._context.configuration.editor.lineHeight+"px"),!0},t.prototype.onLayoutChanged=function(e){return this._currentLine.style.left=e.contentLeft+"px",this._currentLine.style.width=e.contentWidth+"px",!0},t.prototype.onScrollChanged=function(){return!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!0},t.prototype._shouldShowCurrentLine=function(){return this._selectionIsEmpty&&this._primaryCursorIsInEditableRange&&!this._context.configuration.editor.readOnly},t.prototype._updateCurrentLine=function(){this._shouldShowCurrentLine()?this._currentLineIsVisible||(this._currentLine.style.display="block",this._currentLineIsVisible=!0):this._currentLineIsVisible&&(this._currentLine.style.display="none",this._currentLineIsVisible=!1)},t.prototype.prepareRender=function(e){if(this.shouldRender){var t=e.visibleRangeForPosition(this._primaryCursorPosition);this._primaryCursorPositionTop=t?t.top:-1e3}},t.prototype.render=function(){this.shouldRender&&(this.shouldRender=!1,this._currentLine.style.top=this._primaryCursorPositionTop+"px")},t}(n.ViewEventHandler);t.CurrentLineHighlightOverlay=i}),define("vs/css!vs/editor/core/view/overlays/selections/selections",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/overlays/selections/selections",["require","exports","vs/editor/core/view/viewEventHandler","vs/css!./selections"],function(e,t,n){var i;
!function(e){e[e.EXTERN=0]="EXTERN",e[e.INTERN=1]="INTERN",e[e.FLAT=2]="FLAT"}(i||(i={}));var o=function(e){function t(t){e.call(this),this._context=t,this._selections=[],this._contentLeft=0,this._previousRender=null,this._horizontalScrollChanged=!1,this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._selections=null,this._previousRender=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(e){return this._selections=[e.selection],this._selections=this._selections.concat(e.secondarySelections),!0},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(e){return this._contentLeft=e.contentLeft,!0},t.prototype.onScrollChanged=function(e){return e.horizontal&&(this._horizontalScrollChanged=!0),e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!1},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype._visibleRangesHaveGaps=function(e){if(e.length<=1)return!1;var t,n,i,o;for(t=e[0].top,i=1,o=e.length;o>i;i++){if(n=e[i].top,n===t)return!0;t=n}return!1},t.prototype._enrichVisibleRangesWithStyle=function(e){var t,n,i,o,r,s,a,u,l,c,d;for(c=0,d=e.length;d>c;c++)t=e[c],n=t.left,i=t.left+t.width,u={top:0,bottom:0},l={top:0,bottom:0},c>0&&(o=e[c-1].left,r=e[c-1].left+e[c-1].width,n===o?u.top=2:n>o&&(u.top=1),i===r?l.top=2:i>o&&r>i&&(l.top=1)),d>c+1&&(s=e[c+1].left,a=e[c+1].left+e[c+1].width,n===s?u.bottom=2:n>s&&a>n&&(u.bottom=1),i===a?l.bottom=2:a>i&&(l.bottom=1)),t.startStyle=u,t.endStyle=l},t.prototype._getVisibleRangesWithStyle=function(e,t){var n=t.visibleRangesForRange(e,!0)||[],i=this._visibleRangesHaveGaps(n),o=navigator.userAgent.indexOf("Trident/7.0")>=0;return o||i||!this._context.configuration.editor.roundedSelection||this._enrichVisibleRangesWithStyle(n),n},t.prototype._createSelectionPiece=function(e,t,n,i,o,r,s,a,u){s.push('<div class="cslr '),s.push(e),s.push('" style="top:'),s.push(t.toString()),s.push("px;left:"),a.push(n),u.push(s.length),s.push((n-r).toString()),s.push("px;width:"),s.push(i.toString()),s.push("px;height:"),s.push(o),s.push('px;"></div>')},t.prototype._actualRenderOneSelection=function(e,n,i,o,r){var s,a,u,l=e.length>0&&e[0].startStyle,c=this._context.configuration.editor.lineHeight.toString(),d=0;for(a=0;a<e.length;a++)u=e[a],l&&((1===u.startStyle.top||1===u.startStyle.bottom)&&(d++,this._createSelectionPiece(t.SELECTION_CLASS_NAME,u.top,u.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH,c,n,i,o,r),s=t.EDITOR_BACKGROUND_CLASS_NAME,1===u.startStyle.top&&(s+=" "+t.SELECTION_TOP_RIGHT),1===u.startStyle.bottom&&(s+=" "+t.SELECTION_BOTTOM_RIGHT),d++,this._createSelectionPiece(s,u.top,u.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH,c,n,i,o,r)),(1===u.endStyle.top||1===u.endStyle.bottom)&&(d++,this._createSelectionPiece(t.SELECTION_CLASS_NAME,u.top,u.left+u.width,t.ROUNDED_PIECE_WIDTH,c,n,i,o,r),s=t.EDITOR_BACKGROUND_CLASS_NAME,1===u.endStyle.top&&(s+=" "+t.SELECTION_TOP_LEFT),1===u.endStyle.bottom&&(s+=" "+t.SELECTION_BOTTOM_LEFT),d++,this._createSelectionPiece(s,u.top,u.left+u.width,t.ROUNDED_PIECE_WIDTH,c,n,i,o,r))),s=t.SELECTION_CLASS_NAME,l&&(0===u.startStyle.top&&(s+=" "+t.SELECTION_TOP_LEFT),0===u.startStyle.bottom&&(s+=" "+t.SELECTION_BOTTOM_LEFT),0===u.endStyle.top&&(s+=" "+t.SELECTION_TOP_RIGHT),0===u.endStyle.bottom&&(s+=" "+t.SELECTION_BOTTOM_RIGHT)),d++,this._createSelectionPiece(s,u.top,u.left,u.width,c,n,i,o,r);return d},t.prototype._actualRender=function(e){var t,n,i,o=[],r=[],s=[],a=0;for(o.push('<div class="selections-layer" style="left:'),o.push(this._contentLeft.toString()),o.push("px;width:"),o.push(e.scrollWidth.toString()),o.push("px;height:"),o.push(e.scrollHeight.toString()),o.push('px;">'),i=0;i<this._selections.length;i++)t=this._selections[i],t.isEmpty()||(n=this._getVisibleRangesWithStyle(t,e),a+=this._actualRenderOneSelection(n,e.viewportLeft,o,r,s));return o.push("</div>"),{html:o,lefts:r,leftsIndices:s,piecesCount:a}},t.prototype.shouldCallRender=function(){return this.shouldRender||this._horizontalScrollChanged},t.prototype.render=function(e,t){if(this.shouldRender)this._previousRender=this._actualRender(e),this.shouldRender=!1,this._horizontalScrollChanged=!1;else if(this._horizontalScrollChanged){var n,i,o=this._previousRender.html,r=this._previousRender.lefts,s=this._previousRender.leftsIndices;for(n=0,i=r.length;i>n;n++)o[s[n]]=(r[n]-e.viewportLeft).toString();this._horizontalScrollChanged=!1}return t&&(t.renderedSelectionPieces+=this._previousRender.piecesCount),this._previousRender.html},t.SELECTION_CLASS_NAME="selected-text",t.SELECTION_TOP_LEFT="top-left-radius",t.SELECTION_BOTTOM_LEFT="bottom-left-radius",t.SELECTION_TOP_RIGHT="top-right-radius",t.SELECTION_BOTTOM_RIGHT="bottom-right-radius",t.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",t.ROUNDED_PIECE_WIDTH=10,t}(n.ViewEventHandler);t.SelectionsOverlay=o}),define("vs/css!vs/editor/core/view/overlays/decorations/decorations",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/overlays/decorations/decorations",["require","exports","vs/editor/core/view/viewEventHandler","vs/css!./decorations"],function(e,t,n){var i=function(e){function t(t){e.call(this),this._context=t,this._contentLeft=0,this._previousRender=null,this._horizontalScrollChanged=!1,this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._previousRender=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(e){return this._contentLeft=e.contentLeft,!0},t.prototype.onScrollChanged=function(e){return e.horizontal&&(this._horizontalScrollChanged=!0),e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!0},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype._actualRender=function(e){var t,n,i,o,r,s,a,u,l,c,d=[],h=[],p=[],f=this._context.model.getDecorationsInRange(e.visibleRange),g=this._context.configuration.editor.lineHeight.toString(),m=0;for(d.push('<div class="decorations-layer" style="left:'),d.push(this._contentLeft.toString()),d.push("px;width:"),d.push(e.scrollWidth.toString()),d.push("px;height:"),d.push(e.scrollHeight.toString()),d.push('px;">'),a=0,u=f.length;u>a;a++)if(t=f[a],n=t.range,t.options.className)if(t.options.isWholeLine)for(l=n.startLineNumber;l<=n.endLineNumber;l++)e.lineIsVisible(l)&&(r=e.heightInPxForLine(l),s=e.getViewportVerticalOffsetForLineNumber(l),m++,d.push('<div class="cdr '),d.push(t.options.className),d.push('" style="top:'),d.push(s.toString()),d.push("px;left:0;width:100%;height:"),d.push(r.toString()),d.push('px;"></div>'));else if(i=e.visibleRangesForRange(n,!1))for(l=0,c=i.length;c>l;l++)o=i[l],m++,d.push('<div class="cdr '),d.push(t.options.className),d.push('" style="top:'),d.push(o.top.toString()),d.push("px;left:"),h.push(o.left),p.push(d.length),d.push((o.left-e.viewportLeft).toString()),d.push("px;width:"),d.push(o.width.toString()),d.push("px;height:"),d.push(g.toString()),d.push('px;"></div>');return d.push("</div>"),{html:d,lefts:h,leftsIndices:p,piecesCount:m}},t.prototype.shouldCallRender=function(){return this.shouldRender||this._horizontalScrollChanged},t.prototype.render=function(e,t){if(this.shouldRender)this._previousRender=this._actualRender(e),this.shouldRender=!1,this._horizontalScrollChanged=!1;else if(this._horizontalScrollChanged){var n,i,o=this._previousRender.html,r=this._previousRender.lefts,s=this._previousRender.leftsIndices;for(n=0,i=r.length;i>n;n++)o[s[n]]=(r[n]-e.viewportLeft).toString();this._horizontalScrollChanged=!1}return t&&(t.renderedDecorationsPieces+=this._previousRender.piecesCount),this._previousRender.html},t}(n.ViewEventHandler);t.DecorationsOverlay=i}),define("vs/css!vs/editor/core/view/overlays/glyphMargin/glyphMargin",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/overlays/glyphMargin/glyphMargin",["require","exports","vs/editor/core/view/viewContext","vs/editor/core/view/viewEventHandler","vs/css!./glyphMargin"],function(e,t,n,i){var o=function(e){function t(t){e.call(this),this._context=t,this._glyphMarginLeft=0,this._glyphMarginWidth=0,this._previousRender=null,this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._previousRender=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(e){return this._glyphMarginLeft=e.glyphMarginLeft,this._glyphMarginWidth=e.glyphMarginWidth,!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!1},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype._actualRender=function(e){var t=[],i=0;if(!this._context.configuration.editor.glyphMargin)return{html:t,count:i};var o,r,s,a,u,l,c,d,h,p,f=this._context.model.getDecorationsInRange(e.visibleRange),g=this._context.configuration.editor.lineHeight.toString(),m={};for(a=0,u=f.length;u>a;a++)if(o=f[a],o.options.glyphMarginClassName)if(r=o.range,o.options.isWholeLine)for(h=r.startLineNumber;h<=r.endLineNumber;h++)e.lineIsVisible(h)&&(l=e.getViewportVerticalOffsetForLineNumber(h),m.hasOwnProperty(l.toString())||(m[l.toString()]={}),m[l.toString()][o.options.glyphMarginClassName]=!0);else if(s=e.visibleRangesForRange(r,!1))for(h=0,p=s.length;p>h;h++)l=s[h].top,m.hasOwnProperty(l.toString())||(m[l.toString()]={}),m[l.toString()][o.options.glyphMarginClassName]=!0;t.push('<div class="'),t.push(n.ClassNames.GLYPH_MARGIN),t.push('" style="left:'),t.push(this._glyphMarginLeft.toString()),t.push("px;width:"),t.push(this._glyphMarginWidth.toString()),t.push("px;height:"),t.push(e.scrollHeight.toString()),t.push('px;">');for(c in m){t.push('<div class="cgmr');for(d in m[c])i++,t.push(" "),t.push(d);t.push('" style="top:'),t.push(c),t.push("px;height:"),t.push(g),t.push('px;"></div>')}return t.push("</div>"),{html:t,count:i}},t.prototype.shouldCallRender=function(){return this.shouldRender},t.prototype.render=function(e,t){return this.shouldRender&&(this._previousRender=this._actualRender(e),this.shouldRender=!1),t&&(t.renderedMarginGlyphs+=this._previousRender.count),this._previousRender.html},t}(i.ViewEventHandler);t.GlyphMarginOverlay=o}),define("vs/css!vs/editor/core/view/overlays/linesDecorations/linesDecorations",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/overlays/linesDecorations/linesDecorations",["require","exports","vs/editor/core/view/viewContext","vs/editor/core/view/viewEventHandler","vs/css!./linesDecorations"],function(e,t,n,i){var o=function(e){function t(t){e.call(this),this._context=t,this._decorationsLeft=0,this._decorationsWidth=0,this._previousRender=null,this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._previousRender=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(e){return this._decorationsLeft=e.decorationsLeft,this._decorationsWidth=e.decorationsWidth,!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!1},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype._actualRender=function(e){var t,i,o,r,s,a,u,l,c,d,h=[],p=0,f=this._context.model.getDecorationsInRange(e.visibleRange),g=this._context.configuration.editor.lineHeight.toString(),m={};for(r=0,s=f.length;s>r;r++)if(t=f[r],t.options.linesDecorationsClassName)if(i=t.range,t.options.isWholeLine)for(c=i.startLineNumber;c<=i.endLineNumber;c++)e.lineIsVisible(c)&&(a=e.getViewportVerticalOffsetForLineNumber(c),m.hasOwnProperty(a.toString())||(m[a.toString()]={}),m[a.toString()][t.options.linesDecorationsClassName]=!0);else if(o=e.visibleRangesForRange(i,!1))for(c=0,d=o.length;d>c;c++)a=o[c].top,m.hasOwnProperty(a.toString())||(m[a.toString()]={}),m[a.toString()][t.options.linesDecorationsClassName]=!0;h.push('<div class="'),h.push(n.ClassNames.LINES_DECORATIONS),h.push('" style="left:'),h.push(this._decorationsLeft.toString()),h.push("px;width:"),h.push(this._decorationsWidth.toString()),h.push("px;height:"),h.push(e.scrollHeight.toString()),h.push('px;">');for(u in m){h.push('<div class="cldr');for(l in m[u])p++,h.push(" "),h.push(l);h.push('" style="top:'),h.push(u),h.push("px;height:"),h.push(g),h.push('px;"></div>')}return h.push("</div>"),{html:h,renderedCount:p}},t.prototype.shouldCallRender=function(){return this.shouldRender},t.prototype.render=function(e,t){return this.shouldRender&&(this._previousRender=this._actualRender(e),this.shouldRender=!1),t&&(t.renderedLinesDecorations+=this._previousRender.renderedCount),this._previousRender.html},t}(i.ViewEventHandler);t.LinesDecorationsOverlay=o}),define("vs/css!vs/editor/core/view/overlays/lineNumbers/lineNumbers",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/overlays/lineNumbers/lineNumbers",["require","exports","vs/editor/core/view/viewContext","vs/editor/core/view/viewEventHandler","vs/css!./lineNumbers"],function(e,t,n,i){var o=function(e){function t(t){e.call(this),this._context=t,this._lineNumbersLeft=0,this._lineNumbersWidth=0,this._previousRender=[],this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._previousRender=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(){return!1},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(e){return this._lineNumbersLeft=e.lineNumbersLeft,this._lineNumbersWidth=e.lineNumbersWidth,!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!1},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype._actualRender=function(e){var t=[];if(!this._context.configuration.editor.lineNumbers)return t;var i,o;for(t.push('<div class="'),t.push(n.ClassNames.LINE_NUMBERS),t.push('" style="left:'),t.push(this._lineNumbersLeft.toString()),t.push("px;width:"),t.push(this._lineNumbersWidth.toString()),t.push("px;height:"),t.push(e.scrollHeight.toString()),t.push('px;">'),o=e.visibleRange.startLineNumber;o<=e.visibleRange.endLineNumber;o++)i=e.getViewportVerticalOffsetForLineNumber(o),t.push('<div class="clnr" style="top:'),t.push(i.toString()),t.push('px;">'),t.push(this._context.model.getLineRenderLineNumber(o)),t.push("</div>");return t.push("</div>"),t},t.prototype.shouldCallRender=function(){return this.shouldRender},t.prototype.render=function(e){return this.shouldRender&&(this._previousRender=this._actualRender(e),this.shouldRender=!1),this._previousRender},t}(i.ViewEventHandler);t.LineNumbersOverlay=o}),define("vs/css!vs/editor/core/view/overlays/scrollDecoration/scrollDecoration",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/overlays/scrollDecoration/scrollDecoration",["require","exports","vs/editor/core/view/viewContext","vs/editor/core/view/viewEventHandler","vs/css!./scrollDecoration"],function(e,t,n,i){var o=function(e){function t(t){e.call(this),this._context=t,this._width=0,this._previousRender=[],this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._previousRender=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(){return!1},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(e){return this._width=e.width,!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!1},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype._actualRender=function(e){var t=[];return this._context.configuration.editor.scrollbar.useShadows?0===e.getViewportVerticalOffsetForLineNumber(1)?t:(t.push('<div class="'),t.push(n.ClassNames.SCROLL_DECORATION),t.push('" style="width:'),t.push(this._width.toString()),t.push('px;"></div>'),t):t},t.prototype.shouldCallRender=function(){return this.shouldRender},t.prototype.render=function(e){return this.shouldRender&&(this._previousRender=this._actualRender(e),this.shouldRender=!1),this._previousRender},t}(i.ViewEventHandler);t.ScrollDecorationOverlay=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/viewImpl",["require","exports","vs/nls!vs/editor/editor.main","vs/base/dom/dom","vs/base/eventEmitter","vs/editor/core/constants","vs/editor/core/view/viewContext","vs/editor/core/controller/keyboardHandler","vs/editor/core/controller/pointerHandler","vs/editor/core/view/parts/zones/zones","vs/editor/core/view/lines/viewLines","vs/editor/core/view/parts/overviewRuler/overviewRuler","vs/editor/core/view/parts/overviewRuler/decorationsOverviewRuler","vs/editor/core/view/parts/viewCursors/viewCursors","vs/editor/core/view/parts/contentWidgets/contentWidgets","vs/editor/core/view/parts/overlayWidgets/overlayWidgets","vs/editor/core/view/layout/layoutProvider","vs/editor/core/view/viewEventHandler","vs/editor/core/view/viewEventDispatcher","vs/editor/core/range","vs/base/env","vs/base/errors","vs/editor/core/view/viewController","vs/editor/core/view/viewOverlays","vs/editor/core/view/overlays/currentLineHighlight/currentLineHighlight","vs/editor/core/view/overlays/selections/selections","vs/editor/core/view/overlays/decorations/decorations","vs/editor/core/view/overlays/glyphMargin/glyphMargin","vs/editor/core/view/overlays/linesDecorations/linesDecorations","vs/editor/core/view/overlays/lineNumbers/lineNumbers","vs/editor/core/view/overlays/scrollDecoration/scrollDecoration","vs/base/lifecycle"],function(e,t,n,i,o,r,s,a,u,l,c,d,h,p,f,g,m,v,y,_,b,C,w,E,S,L,x,T,M,N,I,D){var k=function(e){function t(t,n,i,r){var l=this;e.call(this),this.telemetryService=r,this.outgoingEventBus=new o.EventEmitter;var c=new w.ViewController(i,n,this.outgoingEventBus);this.listenersToRemove=[],this.listenersToDispose=[],this.eventDispatcher=new y.ViewEventDispatcher(function(e){return l._renderOnce(e)}),this.linesContent=document.createElement("div"),this.linesContent.className=s.ClassNames.LINES_CONTENT,this.domNode=document.createElement("div"),this.domNode.className=n.getEditorClassName(),this.overflowGuardContainer=document.createElement("div"),this.overflowGuardContainer.className=s.ClassNames.OVERFLOW_GUARD,this.layoutProvider=new m.LayoutProvider(n,i,this.eventDispatcher,this.linesContent,this.domNode),this.eventDispatcher.addEventHandler(this.layoutProvider),this.context=new s.ViewContext(t,n,i,this.eventDispatcher,function(e){return l.eventDispatcher.addEventHandler(e)},function(e){return l.eventDispatcher.removeEventHandler(e)}),this.createTextArea(),this.createViewParts(),this.keyboardHandler=new a.KeyboardHandler(this.context,c,this.createKeyboardHandlerHelper()),this.pointerHandler=new u.PointerHandler(this.context,c,this.createPointerHandlerHelper()),this.hasFocus=!1,this.renderOnceCount=0,this.isRendering=!1,this.codeEditorHelper=null,this.eventDispatcher.addEventHandler(this),this.listenersToRemove.push(i.addBulkListener(function(e){return l.eventDispatcher.emitMany(e)}))}return __extends(t,e),t.prototype.createTextArea=function(){var e=this;this.textArea=document.createElement("textarea"),this.textArea.className=s.ClassNames.TEXTAREA,this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",n.localize("vs_editor_core_view_viewImpl",0)),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-multiline","true"),this.textArea.style.top="0px",this.textArea.style.left="0px",this.textArea.style.fontSize=this.context.configuration.editor.fontSize+"px",this.textArea.style.lineHeight=this.context.configuration.editor.lineHeight+"px",this.listenersToDispose.push(i.addDisposableListener(this.textArea,"focus",function(){return e._setHasFocus(!0)})),this.listenersToDispose.push(i.addDisposableListener(this.textArea,"blur",function(){return e._setHasFocus(!1)})),this.textAreaCover=document.createElement("div"),this.textAreaCover.className=this.context.configuration.editor.glyphMargin?s.ClassNames.GLYPH_MARGIN+" "+s.ClassNames.TEXTAREA_COVER:this.context.configuration.editor.lineNumbers?s.ClassNames.LINE_NUMBERS+" "+s.ClassNames.TEXTAREA_COVER:"monaco-editor-background "+s.ClassNames.TEXTAREA_COVER,this.textAreaCover.style.position="absolute",this.textAreaCover.style.width="1px",this.textAreaCover.style.height="1px",this.textAreaCover.style.top="0px",this.textAreaCover.style.left="0px"},t.prototype.createViewParts=function(){var e=this;this.viewParts=[],this.viewLines=new c.ViewLines(this.context,this.layoutProvider),this.viewZones=new l.ViewZones(this.context,this.layoutProvider),this.viewParts.push(this.viewZones);var t=new h.DecorationsOverviewRuler(this.context,this.layoutProvider.getScrollHeight(),function(t){return e.layoutProvider.getVerticalOffsetForLineNumber(t)});this.viewParts.push(t);var n=new E.ViewOverlays(this.context);this.viewParts.push(n),n.addDynamicOverlay(new T.GlyphMarginOverlay(this.context)),n.addDynamicOverlay(new M.LinesDecorationsOverlay(this.context)),n.addDynamicOverlay(new N.LineNumbersOverlay(this.context)),n.addDynamicOverlay(new L.SelectionsOverlay(this.context)),n.addDynamicOverlay(new x.DecorationsOverlay(this.context)),n.addDynamicOverlay(new I.ScrollDecorationOverlay(this.context)),n.addOverlay(new S.CurrentLineHighlightOverlay(this.context)),this.contentWidgets=new f.ViewContentWidgets(this.context),this.viewParts.push(this.contentWidgets);var i=new p.ViewCursors(this.context);if(this.viewParts.push(i),this.overlayWidgets=new g.ViewOverlayWidgets(this.context),this.viewParts.push(this.overlayWidgets),this.linesContentContainer=this.layoutProvider.getScrollbarContainerDomNode(),this.linesContentContainer.style.position="absolute",t){var o=this.layoutProvider.getOverviewRulerInsertData();o.parent.insertBefore(t.getDomNode(),o.insertBefore)}this.linesContent.appendChild(this.viewZones.domNode),this.linesContent.appendChild(this.viewLines.domNode),this.linesContent.appendChild(this.contentWidgets.domNode),this.linesContent.appendChild(i.getDomNode()),this.overflowGuardContainer.appendChild(n.domNode),this.overflowGuardContainer.appendChild(this.linesContentContainer),this.overflowGuardContainer.appendChild(this.overlayWidgets.domNode),this.overflowGuardContainer.appendChild(this.textArea),this.overflowGuardContainer.appendChild(this.textAreaCover),this.domNode.appendChild(this.overflowGuardContainer)},t.prototype.createPointerHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode,linesContentDomNode:this.linesContent,focusTextArea:function(){e.focus()},getScrollTop:function(){return e.layoutProvider.getScrollTop()},setScrollTop:function(t){return e.layoutProvider.setScrollTop(t)},getScrollLeft:function(){return e.layoutProvider.getScrollLeft()},setScrollLeft:function(t){return e.layoutProvider.setScrollLeft(t)},getLineNumberAtVerticalOffset:function(t){return e.layoutProvider.getLineNumberAtVerticalOffset(t)},getWhitespaceAtVerticalOffset:function(t){return e.layoutProvider.getWhitespaceAtVerticalOffset(t)},shouldSuppressMouseDownOnViewZone:function(t){return e.viewZones.shouldSuppressMouseDownOnViewZone(t)},getPositionFromDOMInfo:function(t,n){return e._renderNow(),e.viewLines.getPositionFromDOMInfo(t,n)},visibleRangeForPosition2:function(t,n){e._renderNow();var i=e.viewLines.visibleRangesForRange2(new _.Range(t,n,t,n),0,!1);return i?i[0]:null},getLineWidth:function(t){return e._renderNow(),e.viewLines.getLineWidth(t)}}},t.prototype.createKeyboardHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode,textArea:this.textArea,visibleRangeForPositionRelativeToEditor:function(t,n){e._renderNow();var i=e.layoutProvider.getLinesViewportData(),o=e.viewLines.visibleRangesForRange2(new _.Range(t,n,t,n),i.visibleRangesDeltaTop,!1);return o?o[0]:null}}},t.prototype.onLayoutChanged=function(e){return this.domNode.style.width=e.width+"px",this.domNode.style.height=e.height+"px",this.overflowGuardContainer.style.width=e.width+"px",this.overflowGuardContainer.style.height=e.height+"px",this.linesContent.style.width=e.contentWidth+"px",this.linesContent.style.height=e.contentHeight+"px",this.linesContentContainer.style.left=e.contentLeft+"px",this.linesContentContainer.style.width=e.contentWidth+"px",this.linesContentContainer.style.height=e.contentHeight+"px",this.outgoingEventBus.emit(r.EventType.ViewLayoutChanged,e),!1},t.prototype.onConfigurationChanged=function(){return this.domNode.className=this.context.configuration.getEditorClassName(),this.textArea.style.fontSize=this.context.configuration.editor.fontSize+"px",this.textArea.style.lineHeight=this.context.configuration.editor.lineHeight+"px",!1},t.prototype.onScrollChanged=function(){return this.outgoingEventBus.emit("scroll",{scrollTop:this.layoutProvider.getScrollTop(),scrollLeft:this.layoutProvider.getScrollLeft()}),!1},t.prototype.onViewFocusChanged=function(e){return i.toggleClass(this.domNode,"focused",e),e?this.outgoingEventBus.emit(r.EventType.ViewFocusGained,{}):this.outgoingEventBus.emit(r.EventType.ViewFocusLost,{}),!1},t.prototype.dispose=function(){this.eventDispatcher.removeEventHandler(this),this.outgoingEventBus.dispose(),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.listenersToDispose=D.disposeAll(this.listenersToDispose),this.keyboardHandler.dispose(),this.pointerHandler.dispose(),this.viewLines.dispose();for(var e=0,t=this.viewParts.length;t>e;e++)this.viewParts[e].dispose();this.viewParts=[],this.layoutProvider.dispose()},t.prototype.getCodeEditorHelper=function(){var e=this;return this.codeEditorHelper||(this.codeEditorHelper={getScrollTop:function(){return e.layoutProvider.getScrollTop()},setScrollTop:function(t){return e.layoutProvider.setScrollTop(t)},getScrollLeft:function(){return e.layoutProvider.getScrollLeft()},setScrollLeft:function(t){return e.layoutProvider.setScrollLeft(t)},getLayoutInfo:function(){return e.layoutProvider.getLayoutInfo()},getVerticalOffsetForLineNumber:function(t){return e.layoutProvider.getVerticalOffsetForLineNumber(t)},delegateVerticalScrollbarMouseDown:function(t){return e.layoutProvider.delegateVerticalScrollbarMouseDown(t)},getOffsetForColumn:function(t,n){e._renderNow();var i=e.viewLines.visibleRangesForRange2(new _.Range(t,n,t,n),0,!1);return i?i[0].left:-1}}),this.codeEditorHelper},t.prototype.getInternalEventBus=function(){return this.outgoingEventBus},t.prototype.saveState=function(){return this.layoutProvider.saveState()},t.prototype.restoreState=function(e){return this.layoutProvider.restoreState(e)},t.prototype.focus=function(){this.textArea.focus(),i.selectTextInInputElement(this.textArea),this._setHasFocus(!0)},t.prototype.isFocused=function(){return this.hasFocus},t.prototype.createOverviewRuler=function(e,t,n){var i=this;return new d.OverviewRuler(this.context,e,this.layoutProvider.getScrollHeight(),t,n,function(e){return i.layoutProvider.getVerticalOffsetForLineNumber(e)})},t.prototype.change=function(e){var t=this;this._renderOnce(function(){var n=!1,i={addZone:function(e){return n=!0,t.viewZones.addZone(e)},removeZone:function(e){n=t.viewZones.removeZone(e)||n}},o=e(i);return i.addZone=null,i.removeZone=null,n&&t.context.privateViewEventBus.emit(r.EventType.ViewZonesChanged,null),o})},t.prototype.addContentWidget=function(e){var t=this;this._renderOnce(function(){t.contentWidgets.addWidget(e.widget),t.layoutContentWidget(e)})},t.prototype.layoutContentWidget=function(e){var t=this;this._renderOnce(function(){var n=e.position?e.position.position:null,i=e.position?e.position.preference:null;t.contentWidgets.setWidgetPosition(e.widget,n,i)})},t.prototype.removeContentWidget=function(e){var t=this;this._renderOnce(function(){t.contentWidgets.removeWidget(e.widget)})},t.prototype.addOverlayWidget=function(e){var t=this;this._renderOnce(function(){t.overlayWidgets.addWidget(e.widget),t.layoutOverlayWidget(e)})},t.prototype.layoutOverlayWidget=function(e){var t=this;this._renderOnce(function(){var n=e.position?e.position.preference:null;
t.overlayWidgets.setWidgetPosition(e.widget,n)})},t.prototype.removeOverlayWidget=function(e){var t=this;this._renderOnce(function(){t.overlayWidgets.removeWidget(e.widget)})},t.prototype.render=function(){this.layoutProvider.emitLayoutChangedEvent()},t.prototype.renderOnce=function(e){return this._renderOnce(e)},t.prototype._renderOnce=function(e){var t=this;return this.outgoingEventBus.deferredEmit(function(){t.renderOnceCount++;try{var n=e?e():null}finally{t.renderOnceCount--}if(0===t.renderOnceCount&&!t.isRendering)try{t.isRendering=!0,t._scheduleRender()}finally{t.isRendering=!1}return n})},t.prototype._scheduleRender=function(){var e=this;this._shouldRender=!0,i.runAtThisOrScheduleAtNextAnimationFrame(function(){e._renderNow()})},t.prototype._renderNow=function(){var e=this;this._shouldRender&&(this._shouldRender=!1,this.outgoingEventBus.deferredEmit(function(){e.actualRender()}))},t.prototype.createRenderingContext=function(e){var t=this,n=this.layoutProvider.getCurrentViewport(),i={scrollWidth:this.layoutProvider.getScrollWidth(),scrollHeight:this.layoutProvider.getScrollHeight(),visibleRange:e.visibleRange,viewportWidth:n.width,viewportHeight:n.height,viewportLeft:n.left,getScrolledTopFromAbsoluteTop:function(e){return t.layoutProvider.getScrolledTopFromAbsoluteTop(e)},getViewportVerticalOffsetForLineNumber:function(e){var n=t.layoutProvider.getVerticalOffsetForLineNumber(e),i=t.layoutProvider.getScrolledTopFromAbsoluteTop(n);return i},heightInPxForLine:function(e){return t.layoutProvider.heightInPxForLine(e)},visibleRangesForRange:function(n,i){return t.viewLines.visibleRangesForRange2(n,e.visibleRangesDeltaTop,i)},visibleRangeForPosition:function(n){var i=t.viewLines.visibleRangesForRange2(new _.Range(n.lineNumber,n.column,n.lineNumber,n.column),e.visibleRangesDeltaTop,!1);return i?i[0]:null},visibleRangeForPosition2:function(n,i){var o=t.viewLines.visibleRangesForRange2(new _.Range(n,i,n,i),e.visibleRangesDeltaTop,!1);return o?o[0]:null},lineIsVisible:function(t){return e.visibleRange.startLineNumber<=t&&t<=e.visibleRange.endLineNumber}};return i},t.prototype.actualRender=function(){if(i.isInDOM(this.domNode)){var e,t,n=!1;b.enableTelemetry&&(n=!0);var o=null,r=(new Date).getTime();try{if(n){var s=this.layoutProvider.getLayoutInfo();o={lines:{editorWidth:s.width,editorHeight:s.height,totalVisibleLinesCount:0,totalVisiblePartsCount:0,totalVisibleCharactersCount:0,renderedVisibleLinesCount:0,renderedVisiblePartsCount:0,renderedVisibleCharactersCount:0,time:0},parts:{renderedContentWidgets:0,renderedOverlayWidgets:0,renderedDecorationsPieces:0,renderedMarginGlyphs:0,renderedLinesDecorations:0,renderedSelectionPieces:0,renderedViewZones:0,time:0},time:0}}var a=(new Date).getTime();for(e=0,t=this.viewParts.length;t>e;e++)this.viewParts[e].onBeforeForcedLayout();var u=this.viewLines.render(n?o.lines:null);n&&(o.lines.time=(new Date).getTime()-a);var l=this.createRenderingContext(u),c=(new Date).getTime();for(e=0,t=this.viewParts.length;t>e;e++)this.viewParts[e].onReadAfterForcedLayout(l,n?o.parts:null);for(e=0,t=this.viewParts.length;t>e;e++)this.viewParts[e].onWriteAfterForcedLayout();n&&(o.parts.time=(new Date).getTime()-c,o.time=(new Date).getTime()-r,o.time>=100&&this.telemetryService&&this.telemetryService.publicLog("editorSlowRender",o))}catch(d){C.onUnexpectedError(d)}}},t.prototype._setHasFocus=function(e){this.hasFocus!==e&&(this.hasFocus=e,this.context.privateViewEventBus.emit(r.EventType.ViewFocusChanged,this.hasFocus))},t}(v.ViewEventHandler);t.View=k}),define("vs/editor/core/view/model/prefixSumComputer",["require","exports"],function(e,t){var n=function(){function e(e){this.values=e,this.prefixSum=[];for(var t=0,n=this.values.length;n>t;t++)this.prefixSum[t]=0;this.prefixSumValidIndex=-1}return e.prototype.getCount=function(){return this.values.length},e.prototype.insertValue=function(e,t){this.values.splice(e,0,t),this.prefixSum.splice(e,0,0),e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1)},e.prototype.changeValue=function(e,t){this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1))},e.prototype.removeValues=function(e,t){this.values.splice(e,t),this.prefixSum.splice(e,t),e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1)},e.prototype.getTotalValue=function(){return 0===this.values.length?0:this.getAccumulatedValue(this.values.length-1)},e.prototype.getAccumulatedValue=function(e){if(0>e)return 0;if(e<=this.prefixSumValidIndex)return this.prefixSum[e];var t=this.prefixSumValidIndex+1;0===t&&(this.prefixSum[0]=this.values[0],t++);for(var n=t;e>=n;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex=Math.max(this.prefixSumValidIndex,e),this.prefixSum[e]},e.prototype.getIndexOf=function(e,t){for(var n,i,o,r=0,s=this.values.length-1;s>=r;)if(n=r+(s-r)/2|0,o=this.getAccumulatedValue(n),i=o-this.values[n],i>e)s=n-1;else{if(!(e>=o))break;r=n+1}t.index=n,t.remainder=e-i},e}();t.PrefixSumComputer=n}),define("vs/editor/core/view/model/characterHardWrappingLineMapper",["require","exports","vs/editor/core/view/model/prefixSumComputer"],function(e,t,n){function i(e,t,n){var i,o=[],u=0,l=e+t+n;for(i=0;i<l.length;i++)u=Math.max(u,l.charCodeAt(i));for(i=0;u>=i;i++)o[i]=0;for(i=0;i<e.length;i++)o[e.charCodeAt(i)]=r;for(i=0;i<t.length;i++)o[t.charCodeAt(i)]=s;for(i=0;i<n.length;i++)o[n.charCodeAt(i)]=a;return o}var o={index:-1,remainder:-1},r=1,s=2,a=3,u=function(){function e(e,t,n,i){this.characterClasses=e,this.lineText=t,this.tabSize=n,this.wrappingColumn=i,this.prefixSums=null,this.computeMapping()}return e.prototype.setLineText=function(e){this.lineText=e,this.computeMapping()},e.prototype.setWrappingColumn=function(e){this.wrappingColumn=e,this.computeMapping()},e.prototype.setTabSize=function(e){this.tabSize=e,this.computeMapping()},e.nextVisibleColumn=function(e,t,n){return n?e+(t-e%t):e+1},e.prototype.computeMapping=function(){if(-1===this.wrappingColumn)return this.prefixSums=null,void 0;var t,i,o,u,l,c,d,h,p=this.characterClasses,f=this.lineText,g=this.tabSize,m=this.wrappingColumn,v="	".charCodeAt(0),y=0,_=[],b=0,C=-1,w=0,E=-1,S=0;for(o=0,t=0,i=f.length;i>t;t++)u=f.charCodeAt(t),l=u===v,c=u<p.length?p[u]:0,c===r&&(C=t,w=0),o=e.nextVisibleColumn(o,g,l),o>m&&0!==t&&(-1!==C?(d=C,h=w):-1!==E?(d=E,h=S):(d=t,h=0),_[b++]=d-y,y=d,o=e.nextVisibleColumn(h,g,l),C=-1,w=0,E=-1,S=0),-1!==C&&(w=e.nextVisibleColumn(w,g,l)),-1!==E&&(S=e.nextVisibleColumn(S,g,l)),c===s&&(C=t+1,w=0),c===a&&(E=t+1,S=0);_[b++]=i-y,this.prefixSums=new n.PrefixSumComputer(_)},e.prototype.getOutputLineCount=function(){return-1===this.wrappingColumn?1:this.prefixSums.getCount()},e.prototype.getInputOffsetOfOutputPosition=function(e,t){return-1===this.wrappingColumn?t:0===e?t:this.prefixSums.getAccumulatedValue(e-1)+t},e.prototype.getOutputPositionOfInputOffset=function(e,t){return-1===this.wrappingColumn?(t.outputLineIndex=0,t.outputOffset=e,void 0):(this.prefixSums.getIndexOf(e,o),t.outputLineIndex=o.index,t.outputOffset=o.remainder,void 0)},e}();t.CharacterHardWrappingLineMapper=u;var l=function(){function e(e,t,n){this.characterClasses=i(e,t,n)}return e.prototype.createLineMapper=function(e,t,n){return new u(this.characterClasses,e,t,n)},e}();t.CharacterHardWrappingLineMapperFactory=l}),define("vs/editor/core/view/model/filteredLineTokens",["require","exports","vs/base/arrays"],function(e,t,n){var i=function(){function e(e,t,i){this._original=e,this._startOffset=t,this._endOffset=i,this.tokens=[];var o=e.getTokens();if(o.length>0){var r,s,a,u=n.findIndexInSegmentsArray(o,t);for(this.tokens.push({startIndex:0,type:o[u].type}),s=u+1,a=o.length;a>s&&(r=o[s],!(r.startIndex>=i));s++)this.tokens.push({startIndex:r.startIndex-t,type:r.type})}}return e.prototype.getTokens=function(){return this.tokens},e.prototype.getTextLength=function(){return this._endOffset-this._startOffset},e.prototype.equals=function(t){if(t instanceof e){var n=t;return this._startOffset!==n._startOffset?!1:this._endOffset!==n._endOffset?!1:this._original.equals(n._original)}return!1},e.prototype.findIndexOfOffset=function(e){return n.findIndexInSegmentsArray(this.tokens,e)},e}();t.FilteredLineTokens=i}),define("vs/editor/core/view/model/splitLinesCollection",["require","exports","vs/editor/core/view/model/prefixSumComputer","vs/editor/core/view/model/filteredLineTokens","vs/editor/core/position","vs/editor/core/view/viewContext"],function(e,t,n,i,o,r){var s={outputLineIndex:0,outputOffset:0},a=function(){function e(e){this.positionMapper=e,this.outputLineCount=this.positionMapper.getOutputLineCount()}return e.prototype.setLineText=function(e){this.positionMapper.setLineText(e),this.outputLineCount=this.positionMapper.getOutputLineCount()},e.prototype.setTabSize=function(e){this.positionMapper.setTabSize(e),this.outputLineCount=this.positionMapper.getOutputLineCount()},e.prototype.setWrappingColumn=function(e){this.positionMapper.setWrappingColumn(e),this.outputLineCount=this.positionMapper.getOutputLineCount()},e.prototype.getOutputLineCount=function(){return this.outputLineCount},e.prototype.getInputStartOffsetOfOutputLineIndex=function(e){return this.positionMapper.getInputOffsetOfOutputPosition(e,0)},e.prototype.getInputEndOffsetOfOutputLineIndex=function(e,t,n){return n+1===this.outputLineCount?e.getLineMaxColumn(t)-1:this.positionMapper.getInputOffsetOfOutputPosition(n+1,0)},e.prototype.getOutputLineContent=function(e,t,n){var i=this.getInputStartOffsetOfOutputLineIndex(n),o=this.getInputEndOffsetOfOutputLineIndex(e,t,n);return e.getLineContent(t).substring(i,o)},e.prototype.getOutputLineMaxColumn=function(e,t,n){return this.getOutputLineContent(e,t,n).length+1},e.prototype.getOutputLineTokens=function(e,t,n){var o=this.getInputStartOffsetOfOutputLineIndex(n),r=this.getInputEndOffsetOfOutputLineIndex(e,t,n);return new i.FilteredLineTokens(e.getLineTokens(t,!0),o,r)},e.prototype.getInputColumnOfOutputPosition=function(e,t){return this.positionMapper.getInputOffsetOfOutputPosition(e,t-1)+1},e.prototype.getOutputPositionOfInputPosition=function(e,t){this.positionMapper.getOutputPositionOfInputOffset(t-1,s);var n=s.outputLineIndex,i=s.outputOffset+1;return new o.Position(e+n,i)},e}(),u=function(){function e(e,t,n,i){this.model=e,this.tabSize=n,this.wrappingColumn=i,this.linePositionMapperFactory=t,this.constructLines(),this.tmpIndexOfResult={index:0,remainder:0}}return e.prototype.constructLines=function(){this.lines=[];for(var e,t,i=[],o=0,r=this.model.getLineCount();r>o;o++)t=this.linePositionMapperFactory.createLineMapper(this.model.getLineContent(o+1),this.tabSize,this.wrappingColumn),e=new a(t),i[o]=e.getOutputLineCount(),this.lines[o]=e;this.prefixSumComputer=new n.PrefixSumComputer(i)},e.prototype.setTabSize=function(e,t){if(this.tabSize===e)return!1;this.tabSize=e;for(var n=0;n<this.lines.length;n++){this.lines[n].setTabSize(this.tabSize);var i=this.lines[n].getOutputLineCount();this.prefixSumComputer.changeValue(n,i)}return t(r.EventNames.ModelFlushedEvent,null),!0},e.prototype.setWrappingColumn=function(e,t){if(this.wrappingColumn===e)return!1;this.wrappingColumn=e;for(var n=0;n<this.lines.length;n++){this.lines[n].setWrappingColumn(this.wrappingColumn);var i=this.lines[n].getOutputLineCount();this.prefixSumComputer.changeValue(n,i)}return t(r.EventNames.ModelFlushedEvent,null),!0},e.prototype.onModelFlushed=function(e){this.constructLines(),e(r.EventNames.ModelFlushedEvent,null)},e.prototype.onModelLinesDeleted=function(e,t,n){var i=1===e?1:this.prefixSumComputer.getAccumulatedValue(e-2)+1,o=this.prefixSumComputer.getAccumulatedValue(t-1);this.lines.splice(e-1,t-e+1),this.prefixSumComputer.removeValues(e-1,t-e+1);var s={fromLineNumber:i,toLineNumber:o};n(r.EventNames.LinesDeletedEvent,s)},e.prototype.onModelLinesInserted=function(e,t,n,i){for(var o,s,u,l=1===e?1:this.prefixSumComputer.getAccumulatedValue(e-2)+1,c=0,d=n.length-1;d>=0;d--)u=this.linePositionMapperFactory.createLineMapper(n[d],this.tabSize,this.wrappingColumn),o=new a(u),this.lines.splice(e-1,0,o),s=o.getOutputLineCount(),c+=s,this.prefixSumComputer.insertValue(e-1,s);var h={fromLineNumber:l,toLineNumber:l+c-1};i(r.EventNames.LinesInsertedEvent,h)},e.prototype.onModelLineChanged=function(e,t,n){var i=e-1,o=this.lines[i].getOutputLineCount();this.lines[i].setLineText(t);var s=this.lines[i].getOutputLineCount(),a=!1,u=0,l=-1,c=0,d=-1,h=0,p=-1;o>s?(u=1===e?1:this.prefixSumComputer.getAccumulatedValue(e-2)+1,l=u+s-1,h=l+1,p=h+(o-s)-1,a=!0):s>o?(u=1===e?1:this.prefixSumComputer.getAccumulatedValue(e-2)+1,l=u+o-1,c=l+1,d=c+(s-o)-1,a=!0):(u=1===e?1:this.prefixSumComputer.getAccumulatedValue(e-2)+1,l=u+s-1),this.prefixSumComputer.changeValue(i,s);var f,g,m,v;if(l>=u)for(var f=u;l>=f;f++)g={lineNumber:f},n(r.EventNames.LineChangedEvent,g);return d>=c&&(m={fromLineNumber:c,toLineNumber:d},n(r.EventNames.LinesInsertedEvent,m)),p>=h&&(v={fromLineNumber:h,toLineNumber:p},n(r.EventNames.LinesDeletedEvent,v)),a},e.prototype.getOutputLineCount=function(){return this.prefixSumComputer.getTotalValue()},e.prototype.getOutputLineContent=function(e){this.prefixSumComputer.getIndexOf(e-1,this.tmpIndexOfResult);var t=this.tmpIndexOfResult.index,n=this.tmpIndexOfResult.remainder;return this.lines[t].getOutputLineContent(this.model,t+1,n)},e.prototype.getOutputLineMaxColumn=function(e){this.prefixSumComputer.getIndexOf(e-1,this.tmpIndexOfResult);var t=this.tmpIndexOfResult.index,n=this.tmpIndexOfResult.remainder;return this.lines[t].getOutputLineMaxColumn(this.model,t+1,n)},e.prototype.getOutputLineTokens=function(e){this.prefixSumComputer.getIndexOf(e-1,this.tmpIndexOfResult);var t=this.tmpIndexOfResult.index,n=this.tmpIndexOfResult.remainder;return this.lines[t].getOutputLineTokens(this.model,t+1,n)},e.prototype.convertOutputPositionToInputPosition=function(e,t){this.prefixSumComputer.getIndexOf(e-1,this.tmpIndexOfResult);var n=this.tmpIndexOfResult.index,i=this.tmpIndexOfResult.remainder,r=this.lines[n].getInputColumnOfOutputPosition(i,t);return new o.Position(n+1,r)},e.prototype.convertInputPositionToOutputPosition=function(e,t){var n=1+(1===e?0:this.prefixSumComputer.getAccumulatedValue(e-2)),i=this.lines[e-1].getOutputPositionOfInputPosition(n,t);return i},e}();t.SplitLinesCollection=u}),define("vs/editor/core/view/model/viewModelDecorations",["require","exports","vs/editor/core/range","vs/editor/core/view/viewContext"],function(e,t,n,i){var o=function(){function e(e,t,n){this.editorId=e,this.configuration=t,this.converter=n,this.decorations=[]}return e.prototype.dispose=function(){this.converter=null,this.decorations=null},e.compareDecorations=function(e,t){return n.compareRangesUsingStarts(e.range,t.range)},e.prototype.reset=function(t){var n,i,o,r,s=t.getAllDecorations(this.editorId,this.configuration.editor.readOnly);for(this.decorations=[],n=0,i=s.length;i>n;n++)o=s[n],r={id:o.id,options:o.options,ownerId:o.ownerId,modelRange:o.range,range:this.converter.convertModelRangeToViewRange(o.range,o.options.isWholeLine)},this.decorations[n]=r;this.decorations.sort(e.compareDecorations)},e.prototype.onModelDecorationsChanged=function(t,n){var o,r,s,a=!1,u={},l={},c=this.configuration.editor.readOnly;for(r=0,s=t.addedOrChangedDecorations.length;s>r;r++)o=t.addedOrChangedDecorations[r],c&&o.isForValidation||o.ownerId&&o.ownerId!==this.editorId||(l[o.id]=o);for(r=0,s=t.removedDecorations.length;s>r;r++)u[t.removedDecorations[r]]=!0;var d,h={};for(r=0,s=this.decorations.length;s>r;r++)d=this.decorations[r],l.hasOwnProperty(d.id)&&(h[d.id]=!0,o=l[d.id],d.options=o.options,d.modelRange=o.range,d.range=this.converter.convertModelRangeToViewRange(o.range,o.options.isWholeLine),a=!0),u.hasOwnProperty(d.id)&&(this.decorations.splice(r,1),s--,r--,a=!0);var p;for(p in l)!h.hasOwnProperty(p)&&l.hasOwnProperty(p)&&(o=l[p],d={id:o.id,options:o.options,ownerId:o.ownerId,modelRange:o.range,range:this.converter.convertModelRangeToViewRange(o.range,o.options.isWholeLine)},this.decorations.push(d),a=!0);if(a){this.decorations.sort(e.compareDecorations);var f=null;n(i.EventNames.DecorationsChangedEvent,f)}},e.prototype.onLineMappingChanged=function(t){var o,r,s,a,u=this.decorations,l=!1;for(r=0,a=u.length;a>r;r++)o=u[r],s=this.converter.convertModelRangeToViewRange(o.modelRange,o.options.isWholeLine),l||n.equalsRange(s,o.range)||(l=!0),o.range=s;if(l){this.decorations.sort(e.compareDecorations);var c=null;t(i.EventNames.DecorationsChangedEvent,c)}},e.prototype.getAllDecorations=function(){return this.decorations},e.prototype.getInlineDecorations=function(e){return this.getDecorationsInLines(e,e,!0)},e.prototype.getDecorationsInRange=function(e){return this.getDecorationsInLines(e.startLineNumber,e.endLineNumber,!1)},e.prototype.getDecorationsInLines=function(e,t,n){var i,o,r,s,a=[],u=0,l=this.decorations;for(r=0,s=l.length;s>r&&(i=l[r],o=i.range,!(o.startLineNumber>t));r++)o.endLineNumber<e||(!n||i.options.inlineClassName)&&(a[u++]=i);return a},e}();t.ViewModelDecorations=o}),define("vs/editor/core/view/model/viewModelCursors",["require","exports","vs/editor/core/range","vs/editor/core/selection","vs/editor/core/view/viewContext"],function(e,t,n,i,o){var r=function(){function e(e,t){this.configuration=e,this.converter=t,this.lastCursorPositionChangedEvent=null,this.lastCursorSelectionChangedEvent=null}return e.prototype.getSelections=function(){if(this.lastCursorSelectionChangedEvent){var e=[];e.push(this.converter.convertModelSelectionToViewSelection(this.lastCursorSelectionChangedEvent.selection));for(var t=0,n=this.lastCursorSelectionChangedEvent.secondarySelections.length;n>t;t++)e.push(this.converter.convertModelSelectionToViewSelection(this.lastCursorSelectionChangedEvent.secondarySelections[t]));return e}return[new i.Selection(1,1,1,1)]},e.prototype.onCursorPositionChanged=function(e,t){this.lastCursorPositionChangedEvent=e;var n=this.converter.validateViewPosition(e.viewPosition.lineNumber,e.viewPosition.column,e.position),i=this.configuration.editor.stopRenderingLineAfter;-1!==i&&n.column>i&&(n=n.clone(),n.column=i);for(var r=[],s=0,a=e.secondaryPositions.length;a>s;s++)r[s]=this.converter.validateViewPosition(e.secondaryViewPositions[s].lineNumber,e.secondaryViewPositions[s].column,e.secondaryPositions[s]),-1!==i&&r[s].column>i&&(r[s]=r[s].clone(),r[s].column=i);var u={position:n,secondaryPositions:r,isInEditableRange:e.isInEditableRange};t(o.EventNames.CursorPositionChangedEvent,u)},e.prototype.onCursorSelectionChanged=function(e,t){this.lastCursorSelectionChangedEvent=e;for(var n=this.converter.convertModelSelectionToViewSelection(e.selection),i=[],r=0,s=e.secondarySelections.length;s>r;r++)i[r]=this.converter.convertModelSelectionToViewSelection(e.secondarySelections[r]);var a={selection:n,secondarySelections:i};t(o.EventNames.CursorSelectionChangedEvent,a)},e.prototype.onCursorRevealRange=function(e,t){var i=null;if(e.viewRange){var r=this.converter.validateViewPosition(e.viewRange.startLineNumber,e.viewRange.startColumn,e.range.getStartPosition()),s=this.converter.validateViewPosition(e.viewRange.endLineNumber,e.viewRange.endColumn,e.range.getEndPosition());i=new n.Range(r.lineNumber,r.column,s.lineNumber,s.column)}else i=this.converter.convertModelRangeToViewRange(e.range);var a={range:i,revealVerticalInCenter:e.revealVerticalInCenter,revealHorizontal:e.revealHorizontal};t(o.EventNames.RevealRangeEvent,a)},e.prototype.onLineMappingChanged=function(e){this.lastCursorPositionChangedEvent&&this.onCursorPositionChanged(this.lastCursorPositionChangedEvent,e),this.lastCursorSelectionChangedEvent&&this.onCursorSelectionChanged(this.lastCursorSelectionChangedEvent,e)},e}();t.ViewModelCursors=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/view/model/viewModel",["require","exports","vs/base/eventEmitter","vs/editor/core/view/viewContext","vs/editor/core/constants","vs/editor/core/selection","vs/editor/core/range","vs/editor/core/view/model/viewModelDecorations","vs/editor/core/view/model/viewModelCursors","vs/base/strings","vs/editor/core/position"],function(e,t,n,i,o,r,s,a,u,l,c){var d=function(e){function t(t,n,i,o){var r=this;e.call(this),this.lines=t,this.editorId=n,this.configuration=i,this.model=o,this.restoreCurrentCenteredModelRange=null,this.isHandlingExternalEvents=!1,this.decorations=new a.ViewModelDecorations(this.editorId,this.configuration,{convertModelRangeToViewRange:function(e,t){return t?r.convertWholeLineModelRangeToViewRange(e):r.convertModelRangeToViewRange(e)}}),this.decorations.reset(this.model),this.cursors=new u.ViewModelCursors(this.configuration,this),this.listenersToRemove=[],this.listenersToRemove.push(this.model.addBulkListener(function(e){return r.onEvents(e)})),this.listenersToRemove.push(this.configuration.addBulkListener(function(e){return r.onEvents(e)}))}return __extends(t,e),t.prototype.dispose=function(){this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.decorations.dispose(),this.decorations=null,this.lines=null,this.configuration=null,this.model=null},t.prototype.setTabSize=function(e){var t=this;this.deferredEmit(function(){var n=t.lines.setTabSize(e,function(e,n){return t.emit(e,n)});n&&(t.emit(i.EventNames.LineMappingChangedEvent),t.decorations.onLineMappingChanged(function(e,n){return t.emit(e,n)}),t.cursors.onLineMappingChanged(function(e,n){return t.emit(e,n)}))})},t.prototype.restoreCenteredModelRange=function(){if(this.restoreCurrentCenteredModelRange){var e=this.convertModelRangeToViewRange(this.restoreCurrentCenteredModelRange);this.restoreCurrentCenteredModelRange=null;var t={range:e,revealVerticalInCenter:!0,revealHorizontal:!1};this.emit(i.EventNames.RevealRangeEvent,t)}},t.prototype.setWrappingColumn=function(e,t){var n=this;this.restoreCurrentCenteredModelRange=null;var o=!1;this.deferredEmit(function(){if(t){var r=new s.Range(t,1,t,n.getLineMaxColumn(t));n.restoreCurrentCenteredModelRange=n.convertViewRangeToModelRange(r)}o=n.lines.setWrappingColumn(e,function(e,t){return n.emit(e,t)}),o?(n.emit(i.EventNames.LineMappingChangedEvent),n.decorations.onLineMappingChanged(function(e,t){return n.emit(e,t)}),n.cursors.onLineMappingChanged(function(e,t){return n.emit(e,t)})):n.restoreCurrentCenteredModelRange=null,n.isHandlingExternalEvents||n.restoreCenteredModelRange()})},t.prototype.addEventSource=function(e){var t=this;this.listenersToRemove.push(e.addBulkListener(function(e){return t.onEvents(e)}))},t.prototype.onEvents=function(e){var t=this;this.isHandlingExternalEvents=!0,this.deferredEmit(function(){var n,r,s,a,u,l=!1,c=!1;for(n=0,r=e.length;r>n;n++)switch(s=e[n],a=s.getData(),s.getType()){case o.EventType.ModelContentChanged:switch(u=a,u.changeType){case o.EventType.ModelContentChangedFlush:t.onModelFlushed(u),l=!0;break;case o.EventType.ModelContentChangedLinesDeleted:t.onModelLinesDeleted(u),l=!0;break;case o.EventType.ModelContentChangedLinesInserted:t.onModelLinesInserted(u),l=!0;break;case o.EventType.ModelContentChangedLineChanged:c=t.onModelLineChanged(u);break;default:console.info("ViewModel received unkown event: "),console.info(s)}break;case o.EventType.ModelTokensChanged:t.onModelTokensChanged(a);break;case o.EventType.ModelModeChanged:break;case o.EventType.ModelPropertiesChanged:break;case o.EventType.ModelDecorationsChanged:t.onModelDecorationsChanged(a);break;case o.EventType.ModelDispose:break;case o.EventType.CursorPositionChanged:t.onCursorPositionChanged(a);break;case o.EventType.CursorSelectionChanged:t.onCursorSelectionChanged(a);break;case o.EventType.CursorRevealRange:t.onCursorRevealRange(a);break;case o.EventType.ConfigurationChanged:t.setTabSize(t.configuration.getIndentationOptions().tabSize),t.emit(s.getType(),a);break;default:console.info("View received unkown event: "),console.info(s)}!l&&c&&(t.emit(i.EventNames.LineMappingChangedEvent),t.decorations.onLineMappingChanged(function(e,n){return t.emit(e,n)}),t.cursors.onLineMappingChanged(function(e,n){return t.emit(e,n)}))}),this.restoreCenteredModelRange(),this.isHandlingExternalEvents=!1},t.prototype.onModelFlushed=function(){var e=this;this.lines.onModelFlushed(function(t,n){return e.emit(t,n)}),this.decorations.reset(this.model)},t.prototype.onModelDecorationsChanged=function(e){var t=this;this.decorations.onModelDecorationsChanged(e,function(e,n){return t.emit(e,n)})},t.prototype.onModelLinesDeleted=function(e){var t=this;this.lines.onModelLinesDeleted(e.fromLineNumber,e.toLineNumber,function(e,n){return t.emit(e,n)})},t.prototype.onModelTokensChanged=function(e){var t=this.convertModelPositionToViewPosition(e.fromLineNumber,1).lineNumber,n=this.convertModelPositionToViewPosition(e.toLineNumber,this.model.getLineMaxColumn(e.toLineNumber)).lineNumber,e={fromLineNumber:t,toLineNumber:n};this.emit(i.EventNames.TokensChangedEvent,e)},t.prototype.onModelLineChanged=function(e){var t=this,n=this.lines.onModelLineChanged(e.lineNumber,e.detail,function(e,n){return t.emit(e,n)});return n},t.prototype.onModelLinesInserted=function(e){var t=this;this.lines.onModelLinesInserted(e.fromLineNumber,e.toLineNumber,e.detail.split("\n"),function(e,n){return t.emit(e,n)})},t.prototype.validateViewPosition=function(e,t,n){1>e&&(e=1);var i=this.getLineCount();e>i&&(e=i);var o=this.getLineMaxColumn(e);1>t&&(t=1),t>o&&(t=o);var r=this.convertViewPositionToModelPosition(e,t);return r.equals(n)?new c.Position(e,t):this.convertModelPositionToViewPosition(n.lineNumber,n.column)},t.prototype.onCursorPositionChanged=function(e){var t=this;this.cursors.onCursorPositionChanged(e,function(e,n){return t.emit(e,n)})},t.prototype.onCursorSelectionChanged=function(e){var t=this;this.cursors.onCursorSelectionChanged(e,function(e,n){return t.emit(e,n)})},t.prototype.onCursorRevealRange=function(e){var t=this;this.cursors.onCursorRevealRange(e,function(e,n){return t.emit(e,n)})},t.prototype.getLineCount=function(){return this.lines.getOutputLineCount()},t.prototype.getLineContent=function(e){return this.lines.getOutputLineContent(e)},t.prototype.getLineMaxColumn=function(e){return this.lines.getOutputLineMaxColumn(e)},t.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=l.firstNonWhitespaceIndex(this.getLineContent(e));return-1===t?0:t+1},t.prototype.getLineLastNonWhitespaceColumn=function(e){var t=l.lastNonWhitespaceIndex(this.getLineContent(e));return-1===t?0:t+2},t.prototype.getLineTokens=function(e){return this.lines.getOutputLineTokens(e)},t.prototype.getInlineDecorations=function(e){return this.decorations.getInlineDecorations(e)},t.prototype.getLineRenderLineNumber=function(e){var t=this.convertViewPositionToModelPosition(e,1);if(1!==t.column)return"";var n=t.lineNumber;return"function"==typeof this.configuration.editor.lineNumbers?this.configuration.editor.lineNumbers(n):n.toString()},t.prototype.getDecorationsInRange=function(e){return this.decorations.getDecorationsInRange(e)},t.prototype.getAllDecorations=function(){return this.decorations.getAllDecorations()},t.prototype.getValueInRange=function(e,t){var n=this.convertViewRangeToModelRange(e);return this.model.getValueInRange(n,t)},t.prototype.getModelLineContent=function(e){return this.model.getLineContent(e)},t.prototype.getSelections=function(){return this.cursors.getSelections()},t.prototype.getModelLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)},t.prototype.validateModelPosition=function(e){return this.model.validatePosition(e)},t.prototype.convertViewPositionToModelPosition=function(e,t){return this.lines.convertOutputPositionToInputPosition(e,t)},t.prototype.convertViewRangeToModelRange=function(e){var t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),n=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new s.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.convertModelPositionToViewPosition=function(e,t){return this.lines.convertInputPositionToOutputPosition(e,t)},t.prototype.convertModelSelectionToViewSelection=function(e){var t=this.convertModelPositionToViewPosition(e.selectionStartLineNumber,e.selectionStartColumn),n=this.convertModelPositionToViewPosition(e.positionLineNumber,e.positionColumn);return new r.Selection(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.convertModelRangeToViewRange=function(e){var t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn),n=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return new s.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.convertWholeLineModelRangeToViewRange=function(e){var t=this.convertModelPositionToViewPosition(e.startLineNumber,1),n=this.convertModelPositionToViewPosition(e.endLineNumber,this.model.getLineMaxColumn(e.endLineNumber));return new s.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t}(n.EventEmitter);t.ViewModel=d});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/performance/timer",["require","exports","vs/base/env","vs/base/eventEmitter","vs/nls!vs/editor/editor.main"],function(e,t,n,i,o){function r(e,t){return d.start(e,t)}function s(){return d}var a=!!self.msWriteProfilerMark;!function(e){e[e.EDITOR=0]="EDITOR",e[e.LANGUAGES=1]="LANGUAGES",e[e.WORKER=2]="WORKER",e[e.WORKBENCH=3]="WORKBENCH"}(t.Topic||(t.Topic={}));var u=(t.Topic,function(){function e(){}return e.prototype.start=function(){return this},e.prototype.stop=function(){},e.prototype.timeTaken=function(){return-1},e}());t.NullTimerEvent=u;var l=function(){function e(e,t,n,i){if(this.timeKeeper=e,this.name=t,this.topic=n,this.stopTime=null,i)return this.startTime=i,void 0;if(this.startTime=new Date,a){var o=["Monaco",this.topic,this.name,"start"];self.msWriteProfilerMark(o.join("|"))}}return e.prototype.start=function(e){if(this.stopTime)throw new Error(o.localize("vs_base_performance_timer",0));return this.timeKeeper.start(this.topic,this.name+"."+e)},e.prototype.stop=function(e){if(null===this.stopTime){if(e)return this.stopTime=e,void 0;if(this.stopTime=new Date,this.timeKeeper.emit("eventStop",this),a){var t=["Monaco",this.topic,this.name,"stop"];self.msWriteProfilerMark(t.join("|"))}}},e.prototype.timeTaken=function(){return this.stopTime?this.stopTime.getTime()-this.startTime.getTime():-1},e}();t.TimerEvent=l;var c=function(e){function i(){e.call(this),this.timeoutId=null,this.collectedEvents=[],this.eventCacheLimit=1e3,this.maxTimerLength=6e4,this.cleanupInterval=12e4}return __extends(i,e),i.prototype.isEnabled=function(){return n.enablePerformanceEvents},i.prototype.start=function(e,n){if(!this.isEnabled())return t.nullEvent;0===e?e="Editor":1===e?e="Languages":2===e?e="Worker":3===e&&(e="Workbench");var i=new l(this,n,e);return this.addEvent(i),this.cleanupTimers(),i},i.prototype.addEvent=function(e){e.id=i.EVENT_ID,i.EVENT_ID++,this.collectedEvents.push(e),this.emit("eventStart",e),this.collectedEvents.length>this.eventCacheLimit&&this.collectedEvents.shift()},i.prototype.cleanupTimers=function(){var e=this;null===this.timeoutId&&(this.timeoutId=setTimeout(function(){var t=Date.now();e.collectedEvents.forEach(function(n){!n.stopTime&&t-n.startTime.getTime()>=e.maxTimerLength&&n.stop()})},this.cleanupInterval))},i.prototype.dispose=function(){clearTimeout(this.timeoutId),e.prototype.dispose.call(this)},i.prototype.getCollectedEvents=function(){return this.collectedEvents.slice(0)},i.prototype.clearCollectedEvents=function(){this.collectedEvents=[]},i.prototype.setInitialCollectedEvents=function(e,t){var n=this;this.isEnabled()&&(t&&(i.PARSE_TIME=t),e.forEach(function(e){var t=new l(n,e.name,e.topic,e.startTime);t.stop(e.stopTime),n.addEvent(t)}))},i.EVENT_ID=1,i.PARSE_TIME=new Date,i}(i.EventEmitter);t.TimeKeeper=c;var d=new c;t.nullEvent=new u,t.start=r,t.getTimeKeeper=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e
}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/events",["require","exports"],function(e,t){var n=function(){function e(e){this.time=(new Date).getTime(),this.originalEvent=e,this.source=null}return e}();t.Event=n;var i=function(e){function t(t,n){e.call(this,n),this.message=t}return __extends(t,e),t}(n);t.MessageEvent=i;var o=function(e){function t(t,n,i,o){e.call(this,o),this.key=t,this.oldValue=n,this.newValue=i}return __extends(t,e),t}(n);t.PropertyChangeEvent=o;var r=function(e){function t(t,n){e.call(this,n),this.element=t}return __extends(t,e),t}(n);t.ViewerEvent=r,t.EventType={PROPERTY_CHANGED:"propertyChanged",SELECTION:"selection",FOCUS:"focus",BLUR:"blur",HIGHLIGHT:"highlight",EXPAND:"expand",COLLAPSE:"collapse",TOGGLE:"toggle",CONTENTS_CHANGED:"contentsChanged",BEFORE_RUN:"beforeRun",RUN:"run",EDIT:"edit",SAVE:"save",CANCEL:"cancel",INFO:"info",WARNING:"warning",ERROR:"error",CHANGE:"change",DISPOSE:"dispose"}});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/actions",["require","exports","vs/base/lib/winjs.base","vs/base/eventEmitter","vs/base/ui/events"],function(e,t,n,i,o){function r(e){return e?e instanceof a?!0:"string"!=typeof e.id?!1:"string"!=typeof e.label?!1:"string"!=typeof e.class?!1:"boolean"!=typeof e.enabled?!1:"boolean"!=typeof e.checked?!1:"function"!=typeof e.run?!1:!0:!1}function s(e){function t(t){return function(){e.forEach(function(e){e.checked=e===t})}}return e.map(function(e){return new u(e,t(e))})}t.isAction=r;var a=function(e){function t(t,n,i,o,r){"undefined"==typeof n&&(n=""),"undefined"==typeof i&&(i=""),"undefined"==typeof o&&(o=!0),"undefined"==typeof r&&(r=null),e.call(this),this._id=t,this._label=n,this._cssClass=i,this._enabled=o,this._actionCallback=r}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(e){this._setLabel(e)},enumerable:!0,configurable:!0}),t.prototype._setLabel=function(e){this._label!==e&&(this._label=e,this.emit(t.LABEL,{source:this}))},Object.defineProperty(t.prototype,"class",{get:function(){return this._cssClass},set:function(e){this._setClass(e)},enumerable:!0,configurable:!0}),t.prototype._setClass=function(e){this._cssClass!==e&&(this._cssClass=e,this.emit(t.CLASS,{source:this}))},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._setEnabled(e)},enumerable:!0,configurable:!0}),t.prototype._setEnabled=function(e){this._enabled!==e&&(this._enabled=e,this.emit(t.ENABLED,{source:this}))},Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._setChecked(e)},enumerable:!0,configurable:!0}),t.prototype._setChecked=function(e){this._checked!==e&&(this._checked=e,this.emit(t.CHECKED,{source:this}))},Object.defineProperty(t.prototype,"order",{get:function(){return this._order},set:function(e){this._order=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionCallback",{get:function(){return this._actionCallback},set:function(e){this._actionCallback=e},enumerable:!0,configurable:!0}),t.prototype.run=function(e){return null!==this._actionCallback?this._actionCallback(e):n.Promise.as(!0)},t.LABEL="label",t.CLASS="class",t.ENABLED="enabled",t.CHECKED="checked",t}(i.EventEmitter);t.Action=a;var u=function(e){function t(t,n){e.call(this,t.id,t.label,t.class,t.enabled,null),this.delegate=t,this.runHandler=n}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.delegate.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.delegate.label},set:function(e){this.delegate.label=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"class",{get:function(){return this.delegate.class},set:function(e){this.delegate.class=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.delegate.enabled},set:function(e){this.delegate.enabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this.delegate.checked},set:function(e){this.delegate.checked=e},enumerable:!0,configurable:!0}),t.prototype.run=function(e){return this.runHandler(e),this.delegate.run(e)},t.prototype.addListener=function(e,t){return this.delegate.addListener(e,t)},t.prototype.addBulkListener=function(e){return this.delegate.addBulkListener(e)},t.prototype.addEmitter=function(e,t){return this.delegate.addEmitter(e,t)},t.prototype.addEmitterTypeListener=function(e,t,n){return this.delegate.addEmitterTypeListener(e,t,n)},t.prototype.emit=function(e,t){this.delegate.emit(e,t)},t}(a);t.radioGroup=s;var l=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e,t){var i=this;if(e.enabled)return this.emit(o.EventType.BEFORE_RUN,{action:e}),n.Promise.as(e.run(t)).then(function(t){i.emit(o.EventType.RUN,{action:e,result:t})},function(t){i.emit(o.EventType.RUN,{action:e,error:t})})},t}(i.EventEmitter);t.ActionRunner=l});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/async",["require","exports","vs/base/errors","vs/base/lib/winjs.base"],function(e,t,n,i){function o(e,t){return new i.Promise(function(i,o,r){e.done(function(e){try{t(e)}catch(o){n.onUnexpectedError(o)}i(e)},function(e){try{t(e)}catch(i){n.onUnexpectedError(i)}o(e)},function(e){r(e)})},function(){e.cancel()})}function r(e){function t(){return e.length?e.pop()():null}function n(e){e&&o.push(e);var r=t();return r?r.then(n):i.Promise.as(o)}var o=[];return e=e.reverse(),i.Promise.as(null).then(n)}function s(e){var t,n=this,i=!1;return function(){return i?t:(i=!0,t=e.apply(n,arguments))}}var a=function(){function e(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}return e.prototype.queue=function(e){var t=this;if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){var n=function(){t.queuedPromise=null;var e=t.queue(t.queuedPromiseFactory);return t.queuedPromiseFactory=null,e};this.queuedPromise=this.activePromise.then(n,n)}return new i.Promise(function(e,n){t.queuedPromise.then(e,n)},function(){})}return this.activePromise=e(),this.activePromise.then(function(e){return t.activePromise=null,e},function(e){return t.activePromise=null,i.Promise.wrapError(e)})},e}();t.Throttler=a;var u=function(){function e(e){this.defaultDelay=e,this.timeoutPromise=null,this.completionPromise=null,this.onSuccess=null,this.task=null}return e.prototype.trigger=function(e,t){var n=this;return"undefined"==typeof t&&(t=this.defaultDelay),this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new i.Promise(function(e){n.onSuccess=e},function(){}).then(function(){n.completionPromise=null,n.onSuccess=null;var e=n.task();return n.task=null,e})),this.timeoutPromise=i.Promise.timeout(t),this.timeoutPromise.then(function(){n.timeoutPromise=null,n.onSuccess(null)}),this.completionPromise},e.prototype.isTriggered=function(){return!!this.timeoutPromise},e.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.completionPromise.cancel(),this.completionPromise=null)},e.prototype.cancelTimeout=function(){this.timeoutPromise&&(this.timeoutPromise.cancel(),this.timeoutPromise=null)},e}();t.Delayer=u;var l=function(e){function t(t){e.call(this,t),this.throttler=new a}return __extends(t,e),t.prototype.trigger=function(t,n){var i=this;return e.prototype.trigger.call(this,function(){return i.throttler.queue(t)},n)},t}(u);t.ThrottledDelayer=l,t.always=o,t.sequence=r,t.once=s}),define("vs/base/hash",["require","exports"],function(e,t){function n(e){for(var t=1540483477,n=24,i=0,o=e.length,r=o,s=0^r,a=i;r>=2;){var u=e.charCodeAt(a),l=e.charCodeAt(a+1),c=u|l<<16;c*=t,c^=c>>n,c*=t,s*=t,s^=c,a+=2,r-=2}return 1===r&&(s^=e.charCodeAt(a),s*=t),s^=s>>13,s*=t,s^=s>>15}function i(e,t){return(t<<5)+t+e&2147483647}t.computeMurmur2StringHashCode=n,t.combine=i}),define("vs/base/network",["require","exports","./assert","./hash","./strings","./types"],function(e,t,n,i,o,r){function s(e){var t=window.location.search;if(t){t=t.substring(1);for(var n=t.split("&"),i=0;i<n.length;i++){var o=n[i];if(o.indexOf("=")>=0){var r=o.split("=");if(decodeURIComponent(r[0])===e&&r.length>1)return decodeURIComponent(r[1])}else if(decodeURIComponent(o)===e)return"true"}}return null}function a(e,t){return function(n){return n?n.replace(e,t):n}}function u(e,t,n){for(var i=0;i<e.length;i++){var r=e[i],s=r.indexOf(t),u=r.indexOf(n,s+t.length);if(s>=0&&u>=0){var l=r.substring(s,u+n.length),c=t+"//"+n;if(l!==c){var d=new RegExp(o.escapeRegExpCharacters(l),"gi");return a(d,c)}}}return function(e){return e}}var l=function(){function e(e){n.ok(!!e,"spec must not be null"),this._spec=e}return e.fromEncoded=function(t){return new e(decodeURIComponent(t))},e.fromValue=function(t){return new e(t)},e.prototype.equals=function(t){return t instanceof e&&t._spec===this._spec},e.prototype.hashCode=function(){return i.computeMurmur2StringHashCode(this._spec)},e.prototype.toJSON=function(){return{$url:this._spec}},e.prototype.toExternal=function(){return this._spec},e.prototype.toString=function(){return this._spec},e.prototype.getScheme=function(){return"undefined"==typeof this._scheme&&(this._scheme=this._doGetScheme()),this._scheme},e.prototype._doGetScheme=function(){var e=this._spec.indexOf(":");return-1===e?null:this._spec.substring(0,e)},e.prototype.getPath=function(){return"undefined"==typeof this._path&&(this._path=this._doGetPath()),this._path},e.prototype._doGetPath=function(){for(var e=0,t=-1,n=0,i=this._spec.length;i>n;n++){var o=this._spec.charAt(n);switch(o){case"/":3===++e&&(t=n);break;case"?":case"#":return-1===t?null:this._spec.substring(t,n)}}return-1===t?null:t===this._spec.length-1?"":this._spec.substring(t)},e}();t.URL=l,t.getQueryValue=s,t._createBasicAuthRemover=u,t.getBasicAuthRemover=r.runOnce(function(){var e=null;try{throw new Error}catch(n){e=n.stack}return e?t._createBasicAuthRemover(e.split("\n"),self.location.protocol,self.location.hostname):function(e){return e}}),function(e){e.inMemory="inMemory"}(t.schemas||(t.schemas={}));t.schemas});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/services",["require","exports","vs/base/lib/winjs.base","vs/base/async","vs/base/strings","vs/base/network","vs/base/eventEmitter","vs/base/performance/timer","vs/base/objects","vs/base/hash","vs/base/errors"],function(e,t,n,i,o,r,s,a,u,l,c){var d=function(){function e(e){this._staticArguments=e}return e.prototype.appendStaticArguments=function(e){this._staticArguments.push.apply(this._staticArguments,e)},e.prototype.staticArguments=function(e){return isNaN(e)?this._staticArguments.slice(0):this._staticArguments[e]},e.prototype._validate=function(e){if(!e)throw c.illegalArgument("can not be falsy")},e}();t.AbstractDescriptor=d;var h=function(e){function t(t){for(var n=[],i=0;i<arguments.length-1;i++)n[i]=arguments[i+1];e.call(this,n),this._ctor=t}return __extends(t,e),Object.defineProperty(t.prototype,"ctor",{get:function(){return this._ctor},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e===this?!0:e instanceof t?e.ctor===this.ctor:!1},t.prototype.hashCode=function(){return 61*(1+this.ctor.length)},t}(d);t.SyncDescriptor=h;var p=function(t){function n(e,n){for(var i=[],o=0;o<arguments.length-2;o++)i[o]=arguments[o+2];t.call(this,i),this._moduleName=e,this._ctorName=n}return __extends(n,t),n._serializeStaticArguments=function(e){return u.cloneAndChange(e,function(e){if(e&&e instanceof RegExp){var t=e,n="";t.global?n+="g":t.ignoreCase?n+="i":t.multiline&&(n+="m");var i={$isRegExp:!0,source:t.source,flags:n};return i}})},n._deserializeStaticArguments=function(e){return u.cloneAndChange(e,function(e){return e&&e.$isRegExp?new RegExp(e.source,e.flags):void 0})},n.create=function(e,t){return new n(e,t)},n.fromJSON=function(e){var t=new n(e.$moduleName,e.$ctorName);return t.appendStaticArguments(n._deserializeStaticArguments(e.$staticArguments)),t},Object.defineProperty(n.prototype,"moduleName",{get:function(){return this._moduleName},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ctorName",{get:function(){return this._ctorName},enumerable:!0,configurable:!0}),n.prototype.equals=function(e){return e===this?!0:e instanceof n?e.moduleName===this.moduleName&&e.ctorName===this.ctorName:!1},n.prototype.hashCode=function(){return l.computeMurmur2StringHashCode(this.moduleName)*l.computeMurmur2StringHashCode(this.ctorName)},n.prototype.toJSON=function(){return{$moduleName:this.moduleName,$ctorName:this.ctorName,$staticArguments:n._serializeStaticArguments(this.staticArguments())}},n.prototype.toSyncDescriptor=function(){var t;try{t=e(this.moduleName)}catch(n){return null}var i=t[this.ctorName],o=new h(i);return o.appendStaticArguments(this.staticArguments()),o},n}(d);t.AsyncDescriptor=p,function(e){e[e.None=0]="None",e[e.Group1=1]="Group1",e[e.Group2=2]="Group2",e[e.Group3=3]="Group3",e[e.Group4=4]="Group4",e[e.Group5=5]="Group5",e[e.Group6=6]="Group6",e[e.Group7=7]="Group7",e[e.Group8=8]="Group8",e[e.Group9=9]="Group9"}(t.ThreadAffinity||(t.ThreadAffinity={}));var f=(t.ThreadAffinity,function(){function e(e,t,n){"undefined"==typeof n&&(n={}),this.workspace=e,this.configuration=t,this.options=n}return e.prototype.getWorkspace=function(){return this.workspace},e.prototype.getConfiguration=function(){return this.configuration},e.prototype.getOptions=function(){return this.options},e}());t.BaseContextService=f;var g=function(){function e(){}return e.prototype.injectTelemetryService=function(e){this._telemetryService=e},Object.defineProperty(e.prototype,"telemetryService",{get:function(){return this._telemetryService},enumerable:!0,configurable:!0}),e.prototype.injectContextService=function(e){if(!this.contextService)if(this.contextService=e,this.contextService.getConfiguration()){this.origin=this.contextService.getConfiguration().paths.PUBLIC_WORKSPACE_URL;var t=new r.URL(this.origin).getPath();t&&t.length>0&&(this.origin=this.origin.substring(0,this.origin.length-t.length+1)),o.endsWith(this.origin,"/")||(this.origin+="/")}else this.origin="/"},e.prototype.getRequestUrl=function(e,t,n){var i=this.contextService.getWorkspace();if(i[e]){var r=i[e]+o.normalizePath(t);return n?this.origin+o.ltrim(r,"/"):r}return null},e.prototype.getPath=function(e,t){var n=this.getRequestUrl(e,"/",!0);if(!n)return null;var i=t.toExternal().indexOf(n);return 0===i?t.toExternal().substr(n.length-1):null},e.prototype.getAdditionalHeaders=function(){return this.contextService.getConfiguration().additionalHeaders||{}},e.prototype.supportsPrivateChannel=function(){return!1},e.prototype.establishPrivateChannel=function(){return n.Promise.wrapError("Not Implemented")},e.prototype.supportsRemoteEvents=function(){return!1},e.prototype.addRemoteListener=function(){throw new Error("Not Implemented")},e.prototype.makeRequest=function(e){var t=a.nullEvent,o=this.getAdditionalHeaders();return this._telemetryService&&(o["X-TelemetrySession"]=this._telemetryService.sessionID),e.headers=u.mixin(e.headers,o),this._telemetryService&&(t=this._telemetryService.start("WorkbenchXHR",{url:e.url},!1)),i.always(n.xhr(e),function(e){t.data&&(t.data.status=e.status),t.stop()})},e.prototype.makeChunkedRequest=function(e){function t(e){for(var t,n,i=0,o={};;){if(t=e.indexOf(":",i),n=e.indexOf("\n",t+1),0>t||0>n)break;o[e.substring(i,t).trim()]=e.substring(t+1,n).trim(),i=n+1}return o}function i(e){if(c)return r("canceled"),void 0;var n=e.indexOf("\r\n\r\n",u);if(-1!==n){for(var i=[];-1!==n;){var o=t(e.substring(u,n)),a=Number(o["Content-Length"]);if(n+4+a>e.length)break;var d={header:o,body:e.substr(n+4,a)};l.push(d),i.push(d),u=n+4+a,n=e.indexOf("\r\n\r\n",u)}s(i)}}var o,r,s,a=this,u=0,l=[],c=!1;return new n.Promise(function(t,n,u){o=t,r=n,s=u,a.makeRequest(e).done(function(e){i(e.responseText),o(l)},function(e){r(e)},function(e){3===e.readyState&&i(e.responseText)})},function(){c=!0})},e}();t.BaseRequestService=g,function(e){e[e.GLOBAL=0]="GLOBAL",e[e.WORKSPACE=1]="WORKSPACE"}(t.StorageScope||(t.StorageScope={}));t.StorageScope;!function(e){e[e.LEFT=0]="LEFT",e[e.CENTER=1]="CENTER",e[e.RIGHT=2]="RIGHT"}(t.Position||(t.Position={}));t.Position;t.POSITIONS=[0,1,2];var m=function(){function e(e){this._selection=e||[]}return Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return 0===this._selection.length},e.EMPTY=new e([]),e}();t.Selection=m;var v=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.toArray=function(){return this.selection},t}(m);t.StructuredSelection=v,function(e){e[e.Info=0]="Info",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(t.Severity||(t.Severity={}));var y=(t.Severity,function(){function e(){}return e.SERVICE_CHANGED="service-changed",e.SET_CHANGED="set-changed",e.SET_ADDED="set-added",e.SET_REMOVED="set-removed",e}());t.MarkerServiceConstants=y;var _=function(){function e(){}return e.UPDATED="update",e}();t.ExperimentServiceEventTypes=_;var b=function(e){function t(t,n,i){e.call(this),this._id=t,this._name=n,this._description=i,this._enabled=!1}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this._description},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.emit("enabled",this))},enumerable:!0,configurable:!0}),t}(s.EventEmitter);t.Experiment=b;var C=function(){function e(){}return e.UPDATED="update",e}();t.ConfigurationServiceEventTypes=C,t.ResourceEvents={ADDED:"resource.added",REMOVED:"resource.removed",CHANGED:"resource.changed"},function(e){!function(e){e[e.File=1]="File",e[e.Text=2]="Text"}(e.QueryType||(e.QueryType={}));var t=(e.QueryType,function(){function e(){}return e.prototype.search=function(){return n.TPromise.as({fileMatches:[]})},e.Instance=new e,e}());e.NullSearchService=t}(t.search||(t.search={}));t.search});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/editorExtensions",["require","exports","vs/base/ui/actions","vs/base/lifecycle","vs/base/types","vs/editor/core/constants","vs/base/lib/winjs.base","vs/platform/platform","vs/platform/services"],function(e,t,n,i,o,r,s,a,u){function l(e){a.Registry.as(t.Extensions.EditorContributions).registerEditorContribution2(e)}function c(e,n,i){for(var o=[],r=0;r<arguments.length-3;r++)o[r]=arguments[r+3];a.Registry.as(t.Extensions.EditorContributions).registerEditorActionContribution2(e,n,i,o)}var d=function(){function e(e){this._delegates=e}return e.prototype.value=function(){return this._delegates.every(function(e){return e.value()})},e.prototype.reset=function(){this._delegates.forEach(function(e){e instanceof h&&e.reset()})},e.prototype.dispose=function(){this._delegates.forEach(function(e){return e.dispose()})},e}(),h=function(){function e(){}return e.prototype.reset=function(){this._value=null},e.prototype.dispose=function(){},e.prototype.value=function(){return o.isUndefinedOrNull(this._value)&&(this._value=this._computeValue()),this._value},e.prototype._computeValue=function(){return!1},e}(),p=function(e){function t(t,n){var i=this;e.call(this),this._behaviour=t,this.editor=n,this._callOnDispose=[],this.hasTextFocus=!1,this.hasWidgetFocus=!1,this.isReadOnly=!1,this._behaviour&g.TextFocus&&(this._callOnDispose.push(this.editor.addListener("focus",function(){return i._update(!0)})),this._callOnDispose.push(this.editor.addListener("blur",function(){return i._update(!1)}))),this._behaviour&g.WidgetFocus&&(this._callOnDispose.push(this.editor.addListener("widgetFocus",function(){return i._update(void 0,!0)})),this._callOnDispose.push(this.editor.addListener("widgetBlur",function(){return i._update(void 0,!1)}))),this._behaviour&g.Writeable&&this._callOnDispose.push(this.editor.addListener(r.EventType.ConfigurationChanged,function(){return i._update()}))}return __extends(t,e),t.prototype._update=function(e,t){"undefined"==typeof e&&(e=this.hasTextFocus),"undefined"==typeof t&&(t=this.hasWidgetFocus),this.hasTextFocus=e,this.hasWidgetFocus=t,this.isReadOnly=this.editor.getConfiguration().readOnly,this.reset()},t.prototype.dispose=function(){e.prototype.dispose.call(this),i.cAll(this._callOnDispose)},t.prototype._computeValue=function(){return this._behaviour&g.TextFocus&&!this.hasTextFocus?!1:this._behaviour&g.WidgetFocus&&!this.hasWidgetFocus?!1:this._behaviour&g.Writeable&&this.isReadOnly?!1:!0},t}(h),f=function(e){function t(t,n){var i=this;e.call(this),this._action=n,this._callOnDispose=[],t&g.UpdateOnModelChange&&this._callOnDispose.push(this._action.editor.addListener(r.EventType.ModelChanged,function(){return i.reset()})),t&g.UpdateOnCursorPositionChange&&this._callOnDispose.push(this._action.editor.addListener(r.EventType.CursorPositionChanged,function(){return i.reset()}))}return __extends(t,e),t.prototype._computeValue=function(){return this._action.editor.getModel()?this._action.isSupported()?this._action.getEnablementState()?!0:!1:!1:!1},t}(h);!function(e){e[e.TextFocus=1]="TextFocus",e[e.WidgetFocus=2]="WidgetFocus",e[e.Writeable=4]="Writeable",e[e.UpdateOnModelChange=8]="UpdateOnModelChange",e[e.UpdateOnConfigurationChange=16]="UpdateOnConfigurationChange",e[e.ShowInContextMenu=32]="ShowInContextMenu",e[e.UpdateOnCursorPositionChange=64]="UpdateOnCursorPositionChange"}(t.Behaviour||(t.Behaviour={}));var g=t.Behaviour;t.defaultPrecondition=g.TextFocus|g.Writeable|g.UpdateOnModelChange;var m=function(e){function t(t,n,i,o){var r=this;e.call(this,n.id),this.editor=i,this._descriptor=n,this.label=n.label||"",this._enablementState=new d([new p(o,i),new f(o,this)]),this._shouldShowInContextMenu=!!(o&g.ShowInContextMenu),this.toUnhook=[],this._bindings=[],this._telemetryService=t.telemetryService,this._handlerService=t.handlerService;for(var a=function(){return r.enabled?(r._telemetryService.publicLog("editorActionInvoked",{name:r.label}),s.Promise.as(r.run()).done(),!0):!1},u=0;u<this._descriptor.keybindings.length;u++)this._bindings.push(this._handlerService.bind(this._descriptor.keybindings[u],a))}return __extends(t,e),Object.defineProperty(t.prototype,"handlerService",{get:function(){return this._handlerService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"telemetryService",{get:function(){return this._telemetryService},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this.id},t.prototype.dispose=function(){this._enablementState.dispose(),this.toUnhook=i.cAll(this.toUnhook),this._bindings=i.disposeAll(this._bindings),e.prototype.dispose.call(this)},t.prototype.getGroupId=function(){return this.id},t.prototype.shouldShowInContextMenu=function(){return this._shouldShowInContextMenu},t.prototype.getDescriptor=function(){return this._descriptor},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enablementState.value()},set:function(){var e=new Error;console.log("setting EditorAction.enabled is UNCOOL. Use resetEnablementState and getEnablementState"),console.log(e.stack)},enumerable:!0,configurable:!0}),t.prototype.resetEnablementState=function(){this._enablementState.reset()},t.prototype.isSupported=function(){return!0},t.prototype.getEnablementState=function(){return!0},t}(n.Action);t.EditorAction=m;var v=function(){function e(e){this._ctor=e}return e.prototype.createInstance=function(e,t){return e.createInstance(this._ctor,t)},e}();t.SimpleEditorContributionDescriptor=v;var y=function(e){function t(t,n,i,o){e.call(this,t,{id:n,label:i,keybindings:o})}return __extends(t,e),t.prototype.createInstance=function(e,t){return e.createInstance(this,t)},Object.defineProperty(t.prototype,"descriptor",{get:function(){return this.staticArguments(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.descriptor.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.descriptor.label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keybindings",{get:function(){return this.descriptor.keybindings},enumerable:!0,configurable:!0}),t}(u.SyncDescriptor);t.EditorActionDescriptor=y,t.Extensions={EditorContributions:"editor.contributions"};var _=function(){function e(){this.editorContributions=[],this.editorContributions2=[]}return e.prototype.registerEditorContribution=function(e){this.editorContributions.push(e)},e.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)},e.prototype.registerEditorContribution2=function(e){this.editorContributions2.push(new v(e))},e.prototype.registerEditorActionContribution2=function(e,t,n,i){this.editorContributions2.push(new y(e,t,n,i))},e.prototype.getEditorContributions2=function(){return this.editorContributions2.slice(0)},e}();a.Registry.add(t.Extensions.EditorContributions,new _),t.registerEditorContribution=l,t.registerEditorActionContribution=c}),define("vs/css!vs/editor/css/editor",["vs/css!vs/editor/editor.main"],{}),define("vs/css!vs/editor/css/default-theme",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/codeEditorWidget",["require","exports","vs/base/lib/winjs.base","vs/editor/core/constants","vs/editor/core/internalConstants","vs/base/objects","vs/base/types","vs/platform/platform","vs/base/dom/dom","vs/base/eventEmitter","vs/editor/core/config/configuration","vs/editor/core/controller/cursor","vs/editor/core/view/viewImpl","vs/editor/core/view/model/characterHardWrappingLineMapper","vs/editor/core/view/model/splitLinesCollection","vs/editor/core/view/model/viewModel","vs/editor/core/position","vs/editor/core/range","vs/editor/core/selection","vs/base/performance/timer","vs/editor/editorExtensions","vs/base/ui/actions","vs/editor/editor","vs/css!./../css/editor","vs/css!./../css/default-theme"],function(e,t,n,i,o,r,s,a,u,l,c,d,h,p,f,g,m,v,y,_,b,C){var w=0,E=function(e){function t(t,n,o){var r=this;e.call(this);var s=_.start(0,"CodeEditor.ctor");this.id=++w,this.domElement=n,this._lifetimeListeners=[],o=o||{};var l=null;o.model&&(l=o.model,delete o.model),this.configuration=new c.Configuration(o,n,function(e){return r.model?r.model.guessIndentation(e):null}),this._lifetimeListeners.push(this.configuration.addListener(i.EventType.ConfigurationChanged,function(e){return r.emit(i.EventType.ConfigurationChanged,e)})),this.forcedWidgetFocusCount=0,this.focusTracker=u.trackFocus(this.domElement),this.focusTracker.addFocusListener(function(){0===r.forcedWidgetFocusCount&&r.emit("widgetFocus",{})}),this.focusTracker.addBlurListener(function(){0===r.forcedWidgetFocusCount&&r.emit("widgetBlur",{})}),this.handlerService=t.handlerService,this._telemetryService=t.telemetryService,this.handlerService?(this.bindings=this.configuration.bindKeys(this.handlerService),this.bindings.deactivate(),this._lifetimeListeners.push(this.addListener("blur",function(){return r.bindings.deactivate()})),this._lifetimeListeners.push(this.addListener("focus",function(){return r.bindings.activate()}))):this.bindings=null,this._attachModel(l),this.contentWidgets={},this.overlayWidgets={},this.contributions={};for(var d=a.Registry.as(b.Extensions.EditorContributions),h=d.getEditorContributions2(),p=0,f=h.length;f>p;p++){var g=h[p].createInstance(t.instantiationService,this);this.contributions[g.getId()]=g}s.stop()}return __extends(t,e),t.prototype.getEditorType=function(){return i.EditorType.ICodeEditor},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){for(;this._lifetimeListeners.length>0;)this._lifetimeListeners.pop()();var t;for(t in this.contributions)this.contributions.hasOwnProperty(t)&&this.contributions[t].dispose();this.contributions={},this.contentWidgets={},this.overlayWidgets={},this.bindings&&(this.bindings.dispose(),this.bindings=null),this.focusTracker.dispose(),this._postDetachModelCleanup(this._detachModel()),this.configuration.dispose(),this.emit(i.EventType.Disposed,{}),e.prototype.dispose.call(this)},t.prototype.updateOptions=function(e){this.configuration.updateOptions(e)},t.prototype.getConfiguration=function(){return r.clone(this.configuration.editor)},t.prototype.getRawConfiguration=function(){return this.configuration.getRawOptions()},t.prototype.getIndentationOptions=function(){return r.clone(this.configuration.getIndentationOptions())},t.prototype.normalizeIndentation=function(e){return this.configuration.normalizeIndentation(e)},t.prototype.getValue=function(e){if("undefined"==typeof e&&(e=null),this.model){var t=e&&e.preserveBOM?!0:!1,n=0;return e&&e.lineEnding&&"\n"===e.lineEnding?n=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(n=2),this.model.getValue(n,t)}return""},t.prototype.setValue=function(e){this.model&&this.model.setValue(e)},t.prototype.getView=function(){return this._view},t.prototype.getModel=function(){return this.model},t.prototype.setModel=function(e){if("undefined"==typeof e&&(e=null),this.model!==e){var t=this._detachModel();this._attachModel(e),this.emit(i.EventType.ModelChanged),this._postDetachModelCleanup(t)}},t.prototype.getDomNode=function(){return this.hasView?this._view.domNode:null},t.prototype.getPosition=function(){return this.cursor?this.cursor.getPosition().clone():null},t.prototype.setPosition=function(e,t,n,i){if("undefined"==typeof t&&(t=!1),"undefined"==typeof n&&(n=!1),"undefined"==typeof i&&(i=!1),this.cursor){if(!m.isIPosition(e))throw new Error("Invalid arguments");this.cursor.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}]),t&&this.revealPosition(e,n,i)}},t.prototype.revealPosition=function(e,t,n){if("undefined"==typeof t&&(t=!1),"undefined"==typeof n&&(n=!1),!m.isIPosition(e))throw new Error("Invalid arguments");this.revealRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},t,n)},t.prototype.getSelection=function(){return this.cursor?this.cursor.getSelection().clone():null},t.prototype.getSelections=function(){if(!this.cursor)return null;for(var e=this.cursor.getSelections(),t=[],n=0,i=e.length;i>n;n++)t[n]=e[n].clone();return t},t.prototype.setSelection=function(e,t,n,i){"undefined"==typeof t&&(t=!1),"undefined"==typeof n&&(n=!1),"undefined"==typeof i&&(i=!1);var o=y.isISelection(e),r=v.isIRange(e);if(!o&&!r)throw new Error("Invalid arguments");if(o)this._setSelectionImpl(e,t,n,i);else if(r){var s={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(s,t,n,i)}},t.prototype._setSelectionImpl=function(e,t,n,i){if(this.cursor){var o=new y.Selection(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this.cursor.setSelections("api",[o]),t&&this.revealRange(o,n,i)
}},t.prototype.revealRange=function(e,t,n){if("undefined"==typeof t&&(t=!1),"undefined"==typeof n&&(n=!1),this.model&&this.cursor){if(!v.isIRange(e))throw new Error("Invalid arguments");var o=this.model.validateRange(e),r={range:o,viewRange:null,revealVerticalInCenter:t,revealHorizontal:n};this.cursor.emit(i.EventType.CursorRevealRange,r)}},t.prototype.setSelections=function(e){if(this.cursor){if(!e||0===e.length)throw new Error("Invalid arguments");for(var t=0,n=e.length;n>t;t++)if(!y.isISelection(e[t]))throw new Error("Invalid arguments");this.cursor.setSelections("api",e)}},t.prototype.setScrollTop=function(e){if(this.hasView){if("number"!=typeof e)throw new Error("Invalid arguments");this._view.getCodeEditorHelper().setScrollTop(e)}},t.prototype.getScrollTop=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollTop():-1},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this.hasView&&this._view.getCodeEditorHelper().delegateVerticalScrollbarMouseDown(e)},t.prototype.setScrollLeft=function(e){if(this.hasView){if("number"!=typeof e)throw new Error("Invalid arguments");this._view.getCodeEditorHelper().setScrollLeft(e)}},t.prototype.getScrollLeft=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollLeft():-1},t.prototype.saveViewState=function(){if(!this.cursor||!this.hasView)return null;var e=this.cursor.saveState(),t=this._view.saveState();return{cursorState:e,viewState:t}},t.prototype.restoreViewState=function(e){if(this.cursor&&this.hasView){var t=e;if(t&&t.cursorState&&t.viewState){var n=t,i=n.cursorState;s.isArray(i)?this.cursor.restoreState(i):this.cursor.restoreState([i]),this._view.restoreState(n.viewState)}}},t.prototype.layout=function(e){this.configuration.observeReferenceElement(e)},t.prototype.onVisible=function(){},t.prototype.onHide=function(){},t.prototype.focus=function(){this.hasView&&this._view.focus()},t.prototype.beginForcedWidgetFocus=function(){this.forcedWidgetFocusCount++},t.prototype.endForcedWidgetFocus=function(){this.forcedWidgetFocusCount--},t.prototype.isFocused=function(){return this.hasView&&this._view.isFocused()},t.prototype.getContribution=function(e){return this.contributions[e]||null},t.prototype.getActions=function(){var e,t=[];for(e in this.contributions)if(this.contributions.hasOwnProperty(e)){var n=this.contributions[e];C.isAction(n)&&t.push(n)}return t},t.prototype.getAction=function(e){var t=this.contributions[e];return t&&C.isAction(t)?t:null},t.prototype.trigger=function(e,t,i){var o=this.getAction(t);null!==o?o.enabled&&n.Promise.as(o.run()).done():this.configuration.handlerDispatcher.trigger(e,t,i)},t.prototype.executeCommand=function(e,t){return this.configuration.handlerDispatcher.trigger(e,o.Handler.ExecuteCommand,t)},t.prototype.executeCommands=function(e,t){return this.configuration.handlerDispatcher.trigger(e,o.Handler.ExecuteCommands,t)},t.prototype.addContentWidget=function(e){var t={widget:e,position:e.getPosition()};this.contentWidgets[e.getId()]=t,this.hasView&&this._view.addContentWidget(t)},t.prototype.layoutContentWidget=function(e){var t=e.getId();if(this.contentWidgets.hasOwnProperty(t)){var n=this.contentWidgets[t];n.position=e.getPosition(),this.hasView&&this._view.layoutContentWidget(n)}},t.prototype.removeContentWidget=function(e){var t=e.getId();if(this.contentWidgets.hasOwnProperty(t)){var n=this.contentWidgets[t];delete this.contentWidgets[t],this.hasView&&this._view.removeContentWidget(n)}},t.prototype.addOverlayWidget=function(e){var t={widget:e,position:e.getPosition()};this.overlayWidgets[e.getId()]=t,this.hasView&&this._view.addOverlayWidget(t)},t.prototype.layoutOverlayWidget=function(e){var t=e.getId();if(this.overlayWidgets.hasOwnProperty(t)){var n=this.overlayWidgets[t];n.position=e.getPosition(),this.hasView&&this._view.layoutOverlayWidget(n)}},t.prototype.removeOverlayWidget=function(e){var t=e.getId();if(this.overlayWidgets.hasOwnProperty(t)){var n=this.overlayWidgets[t];delete this.overlayWidgets[t],this.hasView&&this._view.removeOverlayWidget(n)}},t.prototype.changeDecorations=function(e){return this.model?this.model.changeDecorations(e,this.id):null},t.prototype.getLineDecorations=function(e){return this.model?this.model.getLineDecorations(e,this.id,this.configuration.editor.readOnly):null},t.prototype.deltaDecorations=function(e,t){return this.model?this.model.deltaDecorations(e,t,this.id):[]},t.prototype.changeViewZones=function(e){this.hasView&&this._view.change(e)},t.prototype.addTypingListener=function(e,t){var n=this;return this.cursor?(this.cursor.addTypingListener(e,t),function(){n.cursor&&n.cursor.removeTypingListener(e,t)}):null},t.prototype.getTopForLineNumber=function(e){return this.hasView?this._view.getCodeEditorHelper().getVerticalOffsetForLineNumber(e):-1},t.prototype.getScrolledVisiblePosition=function(e){if(!this.hasView)return null;var t=this.model.validatePosition(e),n=this._view.getCodeEditorHelper(),i=n.getLayoutInfo(),o=n.getVerticalOffsetForLineNumber(t.lineNumber)-n.getScrollTop(),r=n.getOffsetForColumn(t.lineNumber,t.column)+i.glyphMarginWidth+i.lineNumbersWidth+i.decorationsWidth-n.getScrollLeft();return{top:o,left:r,height:this.configuration.editor.lineHeight}},t.prototype.getOffsetForColumn=function(e,t){return this.hasView?this._view.getCodeEditorHelper().getOffsetForColumn(e,t):-1},t.prototype.getLayoutInfo=function(){return this.hasView?this._view.getCodeEditorHelper().getLayoutInfo():null},t.prototype._attachModel=function(e){var t=this;if(this.model=e?e:null,this.listenersToRemove=[],this._view=null,this.viewModel=null,this.cursor=null,this.model){this.model.setStopLineTokenizationAfter(this.configuration.editor.stopLineTokenizationAfter),this.configuration.setIsDominatedByLongLines(this.model.isDominatedByLongLines(this.configuration.editor.longLineBoundary)),this.configuration.resetIndentationOptions();var n=this.configuration.getWrappingColumn(),o=-1;n>0&&(o=n);var r=new p.CharacterHardWrappingLineMapperFactory(this.configuration.editor.wordWrapBreakBeforeCharacters,this.configuration.editor.wordWrapBreakAfterCharacters,this.configuration.editor.wordWrapBreakObtrusiveCharacters),s=new f.SplitLinesCollection(this.model,r,this.configuration.getIndentationOptions().tabSize,o);this.viewModel=new g.ViewModel(s,this.id,this.configuration,this.model);var a={viewModel:this.viewModel,convertModelPositionToViewPosition:function(e,n){return t.viewModel.convertModelPositionToViewPosition(e,n)},convertViewToModelPosition:function(e,n){return t.viewModel.convertViewPositionToModelPosition(e,n)},validateViewPosition:function(e,n,i){return t.viewModel.validateViewPosition(e,n,i)}};this.cursor=new d.Cursor(this.id,this.configuration,this.model,function(e){return t._view.renderOnce(e)},a),this.viewModel.addEventSource(this.cursor),this._view=new h.View(this.id,this.configuration,this.viewModel,this._telemetryService),this.listenersToRemove.push(this._view.getInternalEventBus().addListener(i.EventType.ViewFocusGained,function(){t.emit("focus"),t.emit("widgetFocus",{})})),this.listenersToRemove.push(this._view.getInternalEventBus().addListener("scroll",function(e){return t.emit("scroll",e)})),this.listenersToRemove.push(this._view.getInternalEventBus().addListener(i.EventType.ViewFocusLost,function(){return t.emit("blur")})),this.listenersToRemove.push(this._view.getInternalEventBus().addListener(i.EventType.ContextMenu,function(e){return t.emit(i.EventType.ContextMenu,e)})),this.listenersToRemove.push(this._view.getInternalEventBus().addListener(i.EventType.MouseDown,function(e){return t.emit(i.EventType.MouseDown,e)})),this.listenersToRemove.push(this._view.getInternalEventBus().addListener(i.EventType.MouseUp,function(e){return t.emit(i.EventType.MouseUp,e)})),this.listenersToRemove.push(this._view.getInternalEventBus().addListener(i.EventType.KeyUp,function(e){return t.emit(i.EventType.KeyUp,e)})),this.listenersToRemove.push(this._view.getInternalEventBus().addListener(i.EventType.MouseMove,function(e){return t.emit(i.EventType.MouseMove,e)})),this.listenersToRemove.push(this._view.getInternalEventBus().addListener(i.EventType.MouseLeave,function(e){return t.emit(i.EventType.MouseLeave,e)})),this.listenersToRemove.push(this._view.getInternalEventBus().addListener(i.EventType.KeyDown,function(e){return t.emit(i.EventType.KeyDown,e)})),this.listenersToRemove.push(this._view.getInternalEventBus().addListener(i.EventType.ViewLayoutChanged,function(e){return t.emit(i.EventType.EditorLayout,e)})),this.listenersToRemove.push(this.model.addListener(i.EventType.ModelDecorationsChanged,function(e){t.emit(i.EventType.ModelDecorationsChanged,e)})),this.listenersToRemove.push(this.model.addListener(i.EventType.ModelModeChanged,function(e){t.emit(i.EventType.ModelModeChanged,e)})),this.listenersToRemove.push(this.model.addListener(i.EventType.ModelContentChanged,function(){t.emit("change",{})})),this.listenersToRemove.push(this.cursor.addListener(i.EventType.CursorPositionChanged,function(e){return t.emit(i.EventType.CursorPositionChanged,e)})),this.listenersToRemove.push(this.cursor.addListener(i.EventType.CursorSelectionChanged,function(e){return t.emit(i.EventType.CursorSelectionChanged,e)})),this.listenersToRemove.push(this.model.addListener(i.EventType.ModelDispose,function(){t.setModel(null)})),this.domElement.appendChild(this._view.domNode),this._view.renderOnce(function(){var e;for(e in t.contentWidgets)t.contentWidgets.hasOwnProperty(e)&&t._view.addContentWidget(t.contentWidgets[e]);for(e in t.overlayWidgets)t.overlayWidgets.hasOwnProperty(e)&&t._view.addOverlayWidget(t.overlayWidgets[e]);t._view.render(),t.hasView=!0})}else this.hasView=!1},t.prototype._postDetachModelCleanup=function(e){e&&e.removeAllDecorationsWithOwnerId(this.id)},t.prototype._detachModel=function(){this.hasView=!1,this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.cursor&&(this.cursor.dispose(),this.cursor=null),this._view&&(this._view.dispose(),this.domElement.removeChild(this._view.domNode),this._view=null),this.viewModel&&(this.viewModel.dispose(),this.viewModel=null);var e=this.model;return this.model=null,e},t}(l.EventEmitter);t.CodeEditorWidget=E}),define("vs/css!vs/base/dom/builder",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/dom/builder",["require","exports","vs/base/lib/winjs.base","vs/base/types","vs/base/strings","vs/base/assert","vs/base/dom/dom","vs/base/dom/browserService","vs/css!./builder"],function(e,t,n,i,o,r,s,a){function u(e,t){r.ok(i.isString(e),"Expected String as parameter");var n=a.getService().document.getElementById(e);return n?new T(n,t):null}function l(e){return e[b]||(e[b]={}),e[b]}function c(e){return!!e[b]}function d(e,t){return e instanceof M?new M(e):new T(e.getHTMLElement(),t)}function h(e,t){return new T(e,t)}function p(){return new T(null,!0)}function f(e,t,n){l(e)[t]=n}function g(e,t,n){if(c(e)){var o=l(e)[t];if(!i.isUndefined(o))return o}return n}function m(e,t){c(e)&&delete l(e)[t]}function v(e,n){t.setPropertyOnElement(e,C,n)}function y(e){t.removePropertyFromElement(e,C)}function _(e){return t.getPropertyFromElement(e,C)}t.withElementById=u,t.Build={withElementById:t.withElementById};var b="_msDataKey",C="__$binding",w="__$listeners",E="__$visibility",S=function(){function e(e,t){this.x=e,this.y=t}return e}();t.Position=S;var L=function(){function e(e,t,n,i){this.top=e,this.right=t,this.bottom=n,this.left=i}return e}();t.Box=L;var x=function(){function e(e,t){this.width=e,this.height=t}return e.prototype.substract=function(t){return new e(this.width-t.left-t.right,this.height-t.top-t.bottom)},e}();t.Dimension=x;var T=function(){function e(e,t){this.offdom=t,this.container=e,this.currentElement=e,this.createdElements=[],this.toUnbind={},this.captureToUnbind={},this.browserService=a.getService()}return e.prototype.asContainer=function(){return d(this,this.offdom)},e.prototype.clone=function(){var t=new e(this.container,this.offdom);return t.currentElement=this.currentElement,t.createdElements=this.createdElements,t.captureToUnbind=this.captureToUnbind,t.toUnbind=this.toUnbind,t},e.prototype.and=function(t){t instanceof e||t instanceof M||(t=new e(t,this.offdom));var n=[this];if(t instanceof M)for(var i=0;i<t.length;i++)n.push(t.item(i));else n.push(t);return new M(n)},e.prototype.build=function(t,n){r.ok(this.offdom,"This builder was not created off-dom, so build() can not be called."),t?t instanceof e&&(t=t.getHTMLElement()):t=this.container,r.ok(t,"Builder can only be build() with a container provided."),r.ok(s.isHTMLElement(t),"The container must either be a HTMLElement or a Builder.");var o,a,u=t,l=u.childNodes;if(i.isNumber(n)&&n<l.length)for(o=0,a=this.createdElements.length;a>o;o++)u.insertBefore(this.createdElements[o],l[n++]);else for(o=0,a=this.createdElements.length;a>o;o++)u.appendChild(this.createdElements[o]);return this},e.prototype.appendTo=function(t,n){t?t instanceof e&&(t=t.getHTMLElement()):t=this.container,r.ok(t,"Builder can only be build() with a container provided."),r.ok(s.isHTMLElement(t),"The container must either be a HTMLElement or a Builder.");var o=t;this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement);var a=o.childNodes;return i.isNumber(n)&&n<a.length?o.insertBefore(this.currentElement,a[n]):o.appendChild(this.currentElement),this},e.prototype.append=function(t,n){return r.ok(t,"Need a child to append"),s.isHTMLElement(t)&&(t=h(t)),r.ok(t instanceof e||t instanceof M,"Need a child to append"),t.appendTo(this,n),this},e.prototype.offDOM=function(){return this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this},e.prototype.getHTMLElement=function(){return this.currentElement},e.prototype.getContainer=function(){return this.container},e.prototype.div=function(e,t){return this.doElement("div",e,t)},e.prototype.p=function(e,t){return this.doElement("p",e,t)},e.prototype.ul=function(e,t){return this.doElement("ul",e,t)},e.prototype.ol=function(e,t){return this.doElement("ol",e,t)},e.prototype.li=function(e,t){return this.doElement("li",e,t)},e.prototype.span=function(e,t){return this.doElement("span",e,t)},e.prototype.img=function(e,t){return this.doElement("img",e,t)},e.prototype.a=function(e,t){return this.doElement("a",e,t)},e.prototype.header=function(e,t){return this.doElement("header",e,t)},e.prototype.section=function(e,t){return this.doElement("section",e,t)},e.prototype.footer=function(e,t){return this.doElement("footer",e,t)},e.prototype.element=function(e,t,n){return this.doElement(e,t,n)},e.prototype.doElement=function(t,n,o){var r=this.browserService.document.createElement(t);if(this.currentElement=r,this.offdom&&this.createdElements.push(r),i.isObject(n)&&this.attr(n),i.isFunction(n)&&(o=n),i.isFunction(o)){var s=new e(r);o.call(s,s)}return this.offdom||this.container.appendChild(r),this},e.prototype.domFocus=function(){return this.currentElement.focus(),this},e.prototype.hasFocus=function(){var e=this.browserService.document.activeElement;return e===this.currentElement},e.prototype.domSelect=function(e){"undefined"==typeof e&&(e=null);var t=this.currentElement;return t.select(),e&&t.setSelectionRange(e.start,e.end),this},e.prototype.domBlur=function(){return this.currentElement.blur(),this},e.prototype.domClick=function(){return this.currentElement.click(),this},e.prototype.on=function(e,t,n,o){var r=this;if(i.isArray(e))e.forEach(function(e){r.on(e,t,n,o)});else{var a=e,u=s.addListener(this.currentElement,a,function(e){t(e,r,u)},o||!1);o?(this.captureToUnbind[a]||(this.captureToUnbind[a]=[]),this.captureToUnbind[a].push(u)):(this.toUnbind[a]||(this.toUnbind[a]=[]),this.toUnbind[a].push(u));var l=this.getProperty(w,[]);l.push(u),this.setProperty(w,l),n&&i.isArray(n)&&n.push(u)}return this},e.prototype.off=function(e,t){var n=this;if(i.isArray(e))e.forEach(function(e){n.off(e)});else{var o=e;if(t){if(this.captureToUnbind[o])for(;this.captureToUnbind[o].length;)this.captureToUnbind[o].pop()()}else if(this.toUnbind[o])for(;this.toUnbind[o].length;)this.toUnbind[o].pop()()}return this},e.prototype.once=function(e,t,n,o){var r=this;if(i.isArray(e))e.forEach(function(e){r.once(e,t)});else var a=e,u=s.addListener(this.currentElement,a,function(e){t(e,r,u),u()},o||!1);return this},e.prototype.preventDefault=function(e,t,n){var i=function(e){e.preventDefault(),t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)};return this.on(e,i,n)},e.prototype.attr=function(e,t){if(i.isObject(e)){for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];this.doSetAttr(n,o)}return this}return i.isString(e)&&!i.isString(t)?this.currentElement.getAttribute(e):(i.isString(e)&&(i.isString(t)||(t=String(t)),this.doSetAttr(e,t)),this)},e.prototype.doSetAttr=function(e,t){"class"===e&&(e="addClass"),this[e]?i.isArray(t)?this[e].apply(this,t):this[e].call(this,t):this.currentElement.setAttribute(e,t)},e.prototype.id=function(e){return this.currentElement.setAttribute("id",e),this},e.prototype.src=function(e){return this.currentElement.setAttribute("src",e),this},e.prototype.href=function(e){return this.currentElement.setAttribute("href",e),this},e.prototype.title=function(e){return this.currentElement.setAttribute("title",e),this},e.prototype.name=function(e){return this.currentElement.setAttribute("name",e),this},e.prototype.type=function(e){return this.currentElement.setAttribute("type",e),this},e.prototype.value=function(e){return this.currentElement.setAttribute("value",e),this},e.prototype.alt=function(e){return this.currentElement.setAttribute("alt",e),this},e.prototype.draggable=function(e){return this.currentElement.setAttribute("draggable",e?"true":"false"),this},e.prototype.tabindex=function(e){return this.currentElement.setAttribute("tabindex",e.toString()),this},e.prototype.style=function(e,t){if(i.isObject(e)){for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];this.doSetStyle(n,o)}}else{if(i.isString(e)&&!i.isString(t))return this.currentElement.style[this.cssKeyToJavaScriptProperty(e)];i.isString(e)&&i.isString(t)&&this.doSetStyle(e,t)}return this},e.prototype.doSetStyle=function(e,t){if(e.indexOf("-")>=0){var n=e.split("-");e=n[0];for(var i=1;i<n.length;i++){var o=n[i];e=e+o.charAt(0).toUpperCase()+o.substr(1)}}this.currentElement.style[this.cssKeyToJavaScriptProperty(e)]=t},e.prototype.cssKeyToJavaScriptProperty=function(e){if(e.indexOf("-")>=0){var t=e.split("-");e=t[0];for(var n=1;n<t.length;n++){var i=t[n];e=e+i.charAt(0).toUpperCase()+i.substr(1)}}else"float"===e&&(e="cssFloat");return e},e.prototype.getComputedStyle=function(){return s.getComputedStyle(this.currentElement)},e.prototype.addClass=function(){for(var e=this,t=[],n=0;n<arguments.length-0;n++)t[n]=arguments[n+0];return t.forEach(function(t){var n=t.split(" ");n.forEach(function(t){s.addClass(e.currentElement,t)})}),this},e.prototype.setClass=function(e,t){return"undefined"==typeof t&&(t=null),null===t?this.currentElement.className=e:t?this.addClass(e):this.removeClass(e),this},e.prototype.hasClass=function(e){return s.hasClass(this.currentElement,e)},e.prototype.removeClass=function(){for(var e=this,t=[],n=0;n<arguments.length-0;n++)t[n]=arguments[n+0];return t.forEach(function(t){var n=t.split(" ");n.forEach(function(t){s.removeClass(e.currentElement,t)})}),this},e.prototype.swapClass=function(e,t){return this.hasClass(e)?(this.removeClass(e),this.addClass(t)):(this.removeClass(t),this.addClass(e)),this},e.prototype.toggleClass=function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e),this},e.prototype.color=function(e){return this.currentElement.style.color=e,this},e.prototype.background=function(e){return this.currentElement.style.backgroundColor=e,this},e.prototype.padding=function(e,t,n,o){return i.isString(e)&&e.indexOf(" ")>=0?this.padding.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.paddingTop=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.paddingRight=this.toPixel(t)),i.isUndefinedOrNull(n)||(this.currentElement.style.paddingBottom=this.toPixel(n)),i.isUndefinedOrNull(o)||(this.currentElement.style.paddingLeft=this.toPixel(o)),this)},e.prototype.margin=function(e,t,n,o){return i.isString(e)&&e.indexOf(" ")>=0?this.margin.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.marginTop=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.marginRight=this.toPixel(t)),i.isUndefinedOrNull(n)||(this.currentElement.style.marginBottom=this.toPixel(n)),i.isUndefinedOrNull(o)||(this.currentElement.style.marginLeft=this.toPixel(o)),this)},e.prototype.position=function(e,t,n,o,r){return i.isString(e)&&e.indexOf(" ")>=0?this.position.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.top=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.right=this.toPixel(t)),i.isUndefinedOrNull(n)||(this.currentElement.style.bottom=this.toPixel(n)),i.isUndefinedOrNull(o)||(this.currentElement.style.left=this.toPixel(o)),r||(r="absolute"),this.currentElement.style.position=r,this)},e.prototype.size=function(e,t){return i.isString(e)&&e.indexOf(" ")>=0?this.size.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.width=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.height=this.toPixel(t)),this)},e.prototype.minSize=function(e,t){return i.isString(e)&&e.indexOf(" ")>=0?this.minSize.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.minWidth=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.minHeight=this.toPixel(t)),this)},e.prototype.maxSize=function(e,t){return i.isString(e)&&e.indexOf(" ")>=0?this.maxSize.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.maxWidth=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.maxHeight=this.toPixel(t)),this)},e.prototype.float=function(e){return this.currentElement.style.cssFloat=e,this.currentElement.style.styleFloat=e,this},e.prototype.clear=function(e){return this.currentElement.style.clear=e,this},e.prototype.normal=function(){return this.currentElement.style.fontStyle="normal",this.currentElement.style.fontWeight="normal",this.currentElement.style.textDecoration="none",this},e.prototype.italic=function(){return this.currentElement.style.fontStyle="italic",this},e.prototype.bold=function(){return this.currentElement.style.fontWeight="bold",this},e.prototype.underline=function(){return this.currentElement.style.textDecoration="underline",this},e.prototype.overflow=function(e){return this.currentElement.style.overflow=e,this},e.prototype.display=function(e){return this.currentElement.style.display=e,this},e.prototype.show=function(){return this.hasClass("hidden")&&this.removeClass("hidden"),this.attr("aria-hidden","false"),this.cancelVisibilityPromise(),this},e.prototype.showDelayed=function(e){var t=this;this.cancelVisibilityPromise();var i=n.Promise.timeout(e);return this.setProperty(E,i),i.done(function(){t.removeProperty(E),t.show()}),this},e.prototype.hide=function(){return this.hasClass("hidden")||this.addClass("hidden"),this.attr("aria-hidden","true"),this.cancelVisibilityPromise(),this},e.prototype.isHidden=function(){return this.hasClass("hidden")||"none"===this.currentElement.style.display},e.prototype.toggleVisibility=function(){return this.cancelVisibilityPromise(),this.swapClass("builder-visible","hidden"),this.isHidden()?this.attr("aria-hidden","true"):this.attr("aria-hidden","false"),this},e.prototype.cancelVisibilityPromise=function(){var e=this.getProperty(E);e&&(e.cancel(),this.removeProperty(E))},e.prototype.border=function(e,t,n){return i.isString(e)&&e.indexOf(" ")>=0?this.border.apply(this,e.split(" ")):(this.currentElement.style.borderWidth=this.toPixel(e),n&&(this.currentElement.style.borderColor=n),t&&(this.currentElement.style.borderStyle=t),this)},e.prototype.borderTop=function(e,t,n){return i.isString(e)&&e.indexOf(" ")>=0?this.borderTop.apply(this,e.split(" ")):(this.currentElement.style.borderTopWidth=this.toPixel(e),n&&(this.currentElement.style.borderTopColor=n),t&&(this.currentElement.style.borderTopStyle=t),this)},e.prototype.borderBottom=function(e,t,n){return i.isString(e)&&e.indexOf(" ")>=0?this.borderBottom.apply(this,e.split(" ")):(this.currentElement.style.borderBottomWidth=this.toPixel(e),n&&(this.currentElement.style.borderBottomColor=n),t&&(this.currentElement.style.borderBottomStyle=t),this)},e.prototype.borderLeft=function(e,t,n){return i.isString(e)&&e.indexOf(" ")>=0?this.borderLeft.apply(this,e.split(" ")):(this.currentElement.style.borderLeftWidth=this.toPixel(e),n&&(this.currentElement.style.borderLeftColor=n),t&&(this.currentElement.style.borderLeftStyle=t),this)},e.prototype.borderRight=function(e,t,n){return i.isString(e)&&e.indexOf(" ")>=0?this.borderRight.apply(this,e.split(" ")):(this.currentElement.style.borderRightWidth=this.toPixel(e),n&&(this.currentElement.style.borderRightColor=n),t&&(this.currentElement.style.borderRightStyle=t),this)},e.prototype.textAlign=function(e){return this.currentElement.style.textAlign=e,this},e.prototype.verticalAlign=function(e){return this.currentElement.style.verticalAlign=e,this},e.prototype.toPixel=function(e){return-1===e.toString().indexOf("px")?e.toString()+"px":e},e.prototype.innerHtml=function(e,t){return t?this.currentElement.innerHTML+=e:this.currentElement.innerHTML=e,this},e.prototype.text=function(e,t){return t?0===this.currentElement.children.length?this.currentElement.textContent+=e:this.currentElement.appendChild(this.browserService.document.createTextNode(e)):this.currentElement.textContent=e,this},e.prototype.safeInnerHtml=function(e,t){return this.innerHtml(o.escape(e),t)},e.prototype.insertHtmlBeforeBegin=function(e){return this.currentElement.insertAdjacentHTML("beforeBegin",e),this},e.prototype.insertHtmlAfterBegin=function(e){return this.currentElement.insertAdjacentHTML("afterBegin",e),this},e.prototype.insertHtmlBeforeEnd=function(e){return this.currentElement.insertAdjacentHTML("beforeEnd",e),this},e.prototype.insertHtmlAfterEnd=function(e){return this.currentElement.insertAdjacentHTML("afterEnd",e),this},e.prototype.bind=function(e){return t.bindElement(this.currentElement,e),this},e.prototype.unbind=function(){return t.unbindElement(this.currentElement),this},e.prototype.getBinding=function(){return t.getBindingFromElement(this.currentElement)},e.prototype.setProperty=function(e,n){return t.setPropertyOnElement(this.currentElement,e,n),this},e.prototype.getProperty=function(e,n){return t.getPropertyFromElement(this.currentElement,e,n)},e.prototype.removeProperty=function(e){return c(this.currentElement)&&delete l(this.currentElement)[e],this},e.prototype.parent=function(e){return r.ok(!this.offdom,"Builder was created with offdom = true and thus has no parent set"),h(this.currentElement.parentNode,e)},e.prototype.children=function(e){for(var t=this.currentElement.children,n=[],i=0;i<t.length;i++)n.push(h(t.item(i),e));return new M(n)},e.prototype.removeChild=function(e){return this.currentElement===e.parent().getHTMLElement()&&this.currentElement.removeChild(e.getHTMLElement()),this},e.prototype.select=function(e,t){r.ok(i.isString(e),"Expected String as parameter");for(var n=this.currentElement.querySelectorAll(e),o=[],s=0;s<n.length;s++)o.push(h(n.item(s),t));return new M(o)},e.prototype.matches=function(e){var t=this.currentElement,n=t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return n&&n.call(t,e)},e.prototype.isEmpty=function(){return!this.currentElement.childNodes||0===this.currentElement.childNodes.length},e.prototype.unbindDescendants=function(e){if(e&&e.children)for(var t=0,n=e.children.length;n>t;t++){var o=e.children.item(t);if(c(o)){var r=l(o)[w];if(i.isArray(r))for(;r.length;)r.pop()();delete o[b]}this.unbindDescendants(o)}},e.prototype.empty=function(){return this.unbindDescendants(this.currentElement),this.clearChildren(),this.offdom&&(this.createdElements=[]),this},e.prototype.clearChildren=function(){return this.currentElement&&s.clearNode(this.currentElement),this},e.prototype.destroy=function(){if(this.currentElement&&(this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this.empty(),c(this.currentElement))){var e=l(this.currentElement)[w];if(i.isArray(e))for(;e.length;)e.pop()();delete this.currentElement[b]}var t;for(t in this.toUnbind)if(this.toUnbind.hasOwnProperty(t)&&i.isArray(this.toUnbind[t]))for(;this.toUnbind[t].length;)this.toUnbind[t].pop()();for(t in this.captureToUnbind)if(this.captureToUnbind.hasOwnProperty(t)&&i.isArray(this.captureToUnbind[t]))for(;this.captureToUnbind[t].length;)this.captureToUnbind[t].pop()();this.currentElement=null,this.container=null,this.offdom=null,this.createdElements=null,this.captureToUnbind=null,this.toUnbind=null},e.prototype.dispose=function(){this.destroy()},e.prototype.getPositionRelativeTo=function(t){t instanceof e&&(t=t.getHTMLElement());var n=s.getRelativeLeft(this.currentElement,t),i=s.getRelativeTop(this.currentElement,t);return new L(i,-1,-1,n)},e.prototype.getPosition=function(){var e=s.getTopLeftOffset(this.currentElement);return new L(e.top,-1,-1,e.left)},e.prototype.getTotalSize=function(){var e=s.getTotalWidth(this.currentElement),t=s.getTotalHeight(this.currentElement);return new x(e,t)},e.prototype.getContentSize=function(){var e=s.getContentWidth(this.currentElement),t=s.getContentHeight(this.currentElement);return new x(e,t)},e.prototype.getClientArea=function(){if(this.currentElement!==this.browserService.document.body){var e=s.getDomNodePosition(this.currentElement);return new x(e.width,e.height)}if(this.browserService.window.innerWidth&&this.browserService.window.innerHeight)return new x(this.browserService.window.innerWidth,this.browserService.window.innerHeight);if(this.browserService.document.body&&this.browserService.document.body.clientWidth&&this.browserService.document.body.clientWidth)return new x(this.browserService.document.body.clientWidth,this.browserService.document.body.clientHeight);if(this.browserService.document.documentElement&&this.browserService.document.documentElement.clientWidth&&this.browserService.document.documentElement.clientHeight)return new x(this.browserService.document.documentElement.clientWidth,this.browserService.document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")},e}();t.Builder=T;var M=function(e){function t(n){if(r.ok(i.isArray(n)||n instanceof t,"Expected Array or MultiBuilder as parameter"),e.call(this),this.length=0,this.builders=[],i.isArray(n))for(var o=0;o<n.length;o++)n[o]instanceof HTMLElement?this.push(h(n[o])):this.push(n[o]);else for(var o=0;o<n.length;o++)this.push(n.item(o));var s=this,a=function(e){s[e]=function(){for(var n,o=Array.prototype.slice.call(arguments),r=!1,a=0;a<s.length;a++){var u=s.item(a)[e].apply(s.item(a),o);if(u instanceof t){n||(n=[]),r=!0;for(var l=0;l<u.length;l++)n.push(u.item(l))}else i.isUndefined(u)||u instanceof T||(n||(n=[]),n.push(u))}return n&&r?new t(n):n||s}};for(var u in T.prototype)"clone"!==u&&"and"!==u&&T.prototype.hasOwnProperty(u)&&i.isFunction(T.prototype[u])&&a(u)}return __extends(t,e),t.prototype.item=function(e){return this.builders[e]},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length-0;t++)e[t]=arguments[t+0];for(var n=0;n<e.length;n++)this.builders.push(e[n]);this.length=this.builders.length},t.prototype.pop=function(){var e=this.builders.pop();return this.length=this.builders.length,e},t.prototype.concat=function(e){var t=this.builders.concat(e);return this.length=this.builders.length,t},t.prototype.shift=function(){var e=this.builders.shift();return this.length=this.builders.length,e},t.prototype.unshift=function(e){var t=this.builders.unshift(e);
return this.length=this.builders.length,t},t.prototype.slice=function(e,t){var n=this.builders.slice(e,t);return this.length=this.builders.length,n},t.prototype.splice=function(e,t){var n=this.builders.splice(e,t);return this.length=this.builders.length,n},t.prototype.clone=function(){return new t(this)},t.prototype.and=function(e){e instanceof T||e instanceof t||(e=new T(e));var n=[];if(e instanceof t)for(var i=0;i<e.length;i++)n.push(e.item(i));else n.push(e);return this.push.apply(this,n),this},t}(T);t.MultiBuilder=M,t.setPropertyOnElement=f,t.getPropertyFromElement=g,t.removePropertyFromElement=m,t.bindElement=v,t.unbindElement=y,t.getBindingFromElement=_,t.Binding={setPropertyOnElement:t.setPropertyOnElement,getPropertyFromElement:t.getPropertyFromElement,removePropertyFromElement:t.removePropertyFromElement,bindElement:t.bindElement,unbindElement:t.unbindElement,getBindingFromElement:t.getBindingFromElement};var N=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;t.$=function(e){if(i.isUndefined(e))return p();if(!e)throw new Error("Bad use of $");if(s.isHTMLElement(e)||e===window)return h(e);if(i.isArray(e))return new M(e);if(e instanceof T)return d(e);if(i.isString(e)){if("<"===e[0]){var t,n=a.getService().document.createElement("div");if(n.innerHTML=o.format.apply(o,arguments),0===n.children.length)throw new Error("Bad use of $");if(1===n.children.length)return t=n.firstChild,n.removeChild(t),h(t);for(var r=[];n.firstChild;)t=n.firstChild,n.removeChild(t),r.push(h(t));return new M(r)}if(1===arguments.length){var u=N.exec(e);if(!u)throw new Error("Bad use of $");var l=u[1]||"div",c=u[3]||void 0,f=(u[4]||"").replace(/\./g," "),g={};return c&&(g.id=c),f&&(g["class"]=f),p().element(l,g)}var m=p();return m.element.apply(m,arguments),m}throw new Error("Bad use of $")},t.$.Box=L,t.$.Dimension=x,t.$.Position=S,t.$.Builder=T,t.$.MultiBuilder=M,t.$.Build=t.Build,t.$.Binding=t.Binding}),define("vs/css!vs/base/ui/widgets/sash",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/sash",["require","exports","vs/base/lifecycle","vs/base/dom/builder","vs/base/types","vs/base/dom/dom","vs/base/dom/touch","vs/base/eventEmitter","vs/base/dom/mouseEvent","vs/css!./sash"],function(e,t,n,i,o,r,s,a,u){var l=i.$;!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(t.Orientation||(t.Orientation={}));var c=(t.Orientation,function(e){function t(t,n,i){"undefined"==typeof i&&(i={orientation:1});var o=this;e.call(this),this.$e=l(".monaco-sash").appendTo(t),this.gesture=new s.Gesture(this.$e.getHTMLElement()),this.$e.on("mousedown",function(e){o.onMouseDown(e)}),this.$e.on(s.EventType.Start,function(e){o.onTouchStart(e)}),0===i.orientation?this.$e.addClass("horizontal"):this.$e.addClass("vertical"),this.isDisabled=!1,this.hidden=!1,this.layoutProvider=n,this.options=i}return __extends(t,e),t.prototype.getHTMLElement=function(){return this.$e.getHTMLElement()},t.prototype.onMouseDown=function(e){var t=this;if(r.EventHelper.stop(e,!1),!this.isDisabled){var n=new u.StandardMouseEvent(e),i=n.posx,o=n.posy,s={startX:i,currentX:i,startY:o,currentY:o};this.$e.addClass("active"),this.emit("start",s);var a=l("div").style({position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1e6,cursor:1===this.options.orientation?"ew-resize":"ns-resize"}),c=l(window);c.on("mousemove",function(e){r.EventHelper.stop(e,!1);var n=new u.StandardMouseEvent(e),s={startX:i,currentX:n.posx,startY:o,currentY:n.posy};t.emit("change",s)}).once("mouseup",function(e){r.EventHelper.stop(e,!1),t.$e.removeClass("active"),t.emit("end"),c.off("mousemove"),a.destroy()}),a.appendTo(document.body)}},t.prototype.onTouchStart=function(e){var t=this;r.EventHelper.stop(e);var i=[],a=e.pageX,u=e.pageY;this.emit("start",{startX:a,currentX:a,startY:u,currentY:u}),i.push(r.addDisposableListener(this.$e.getHTMLElement(),s.EventType.Change,function(e){o.isNumber(e.pageX)&&o.isNumber(e.pageY)&&t.emit("change",{startX:a,currentX:e.pageX,startY:u,currentY:e.pageY})})),i.push(r.addDisposableListener(this.$e.getHTMLElement(),s.EventType.End,function(){t.emit("end"),n.disposeAll(i)}))},t.prototype.layout=function(){if(1===this.options.orientation){var e=this.layoutProvider;this.$e.style({height:e.getVerticalSashHeight(this)+"px",top:e.getVerticalSashTop(this)+"px",left:e.getVerticalSashLeft(this)-t.SIZE/2+"px"})}else{var n=this.layoutProvider;this.$e.style({width:n.getHorizontalSashWidth(this)+"px",top:n.getHorizontalSashTop(this)-t.SIZE/2+"px",left:n.getHorizontalSashLeft(this)})}},t.prototype.show=function(){this.hidden=!1,this.$e.show()},t.prototype.hide=function(){this.hidden=!0,this.$e.hide()},t.prototype.isHidden=function(){return this.hidden},t.prototype.enable=function(){this.$e.removeClass("disabled"),this.isDisabled=!1},t.prototype.disable=function(){this.$e.addClass("disabled"),this.isDisabled=!0},t.prototype.dispose=function(){this.$e&&(this.$e.destroy(),this.$e=null),e.prototype.dispose.call(this)},t.SIZE=10,t}(a.EventEmitter));t.Sash=c}),define("vs/css!vs/editor/diff/diffEditor",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/diff/diffEditorWidget",["require","exports","vs/editor/core/config/config","vs/base/lifecycle","vs/editor/core/constants","vs/base/objects","vs/editor/core/codeEditorWidget","vs/base/dom/dom","vs/base/eventEmitter","vs/editor/core/range","vs/editor/editor","vs/base/ui/widgets/sash","vs/editor/core/view/lines/viewLine","vs/editor/core/view/lines/viewLineParts","vs/css!./diffEditor"],function(e,t,n,i,o,r,s,a,u,l,c,d,h,p){var f=function(){function e(){this._zones=[],this._decorations=[]}return e.prototype.clean=function(e){var t=this;this._zones.length>0&&e.changeViewZones(function(e){for(var n=0,i=t._zones.length;i>n;n++)e.removeZone(t._zones[n])}),this._zones=[],this._decorations.length>0&&e.changeDecorations(function(e){for(var n=0,i=t._decorations.length;i>n;n++)e.removeDecoration(t._decorations[n])}),this._decorations=[]},e.prototype.apply=function(e,t,n){var i,o,r=this;e.changeViewZones(function(e){for(i=0,o=r._zones.length;o>i;i++)e.removeZone(r._zones[i]);for(r._zones=[],i=0,o=n.zones.length;o>i;i++)n.zones[i].suppressMouseDown=!0,r._zones.push(e.addZone(n.zones[i]))}),this._decorations=e.deltaDecorations(this._decorations,n.decorations),t.setZones(n.overviewZones)},e}(),g=function(e){function t(i,o,r){var s=this;e.call(this),this._domElement=o,r=r||{},this._theme=r.theme||n.Config.editor.theme,this._renderSideBySide=!0,"undefined"!=typeof r.renderSideBySide&&(this._renderSideBySide=r.renderSideBySide),this._toDispose=[],this._containerDomElement=document.createElement("div"),this._containerDomElement.className=t._getClassName(this._theme,this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.style.height="100%",this._toDispose.push(a.addDisposableListener(this._overviewDomElement,"mousedown",function(e){s.modifiedEditor.delegateVerticalScrollbarMouseDown(e)})),this._containerDomElement.appendChild(this._overviewDomElement),this._createLeftHandSide(),this._createRightHandSide(),this._beginUpdateDecorationsTimeout=-1,this._diffComputationToken=0,this._originalEditorState=new f,this._modifiedEditorState=new f,this._isVisible=!0,this._isHandlingScrollEvent=!1,this._width=0,this._height=0,this._lineChanges=null,this._createLeftHandSideEditor(r,i.instantiationService),this._createRightHandSideEditor(r,i.instantiationService),r.automaticLayout&&(this._measureDomElementToken=window.setInterval(function(){return s._measureDomElement(!1)},100)),this._enableSplitViewResizing=!0,"undefined"!=typeof r.enableSplitViewResizing&&(this._enableSplitViewResizing=r.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new v(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new y(this._createDataSource(),this._enableSplitViewResizing))}return __extends(t,e),t._getClassName=function(e,t){var n="monaco-diff-editor monaco-editor-background ";return t&&(n+="side-by-side "),n+=e},t.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalOverviewRuler=this.originalEditor.getView().createOverviewRuler("original diffOverviewRuler",4,Number.MAX_VALUE),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedOverviewRuler=this.modifiedEditor.getView().createOverviewRuler("modified diffOverviewRuler",4,Number.MAX_VALUE),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode()),this._layoutOverviewRulers()},t.prototype._createLeftHandSide=function(){this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode)},t.prototype._createRightHandSide=function(){this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode)},t.prototype._createLeftHandSideEditor=function(e,t){var n=this;this.originalEditor=t.createInstance(s.CodeEditorWidget,this._originalDomNode,this._adjustOptionsForLeftHandSide(e)),this._toDispose.push(this.originalEditor.addBulkListener2(function(e){return n._onOriginalEditorEvents(e)})),this._toDispose.push(this.addEmitter2(this.originalEditor,"leftHandSide"))},t.prototype._createRightHandSideEditor=function(e,t){var n=this;this.modifiedEditor=t.createInstance(s.CodeEditorWidget,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e)),this._toDispose.push(this.modifiedEditor.addBulkListener2(function(e){return n._onModifiedEditorEvents(e)})),this._toDispose.push(this.addEmitter2(this.modifiedEditor,"rightHandSide"))},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this._toDispose=i.disposeAll(this._toDispose),window.clearInterval(this._measureDomElementToken),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler.dispose(),this._modifiedOverviewRuler.dispose(),this.originalEditor.destroy(),this.modifiedEditor.destroy(),this._strategy.dispose(),e.prototype.dispose.call(this)},t.prototype.getEditorType=function(){return o.EditorType.IDiffEditor},t.prototype.getLineChanges=function(){return this._lineChanges},t.prototype.getOriginalEditor=function(){return this.originalEditor},t.prototype.getModifiedEditor=function(){return this.modifiedEditor},t.prototype.updateOptions=function(e){this._theme=e&&e.theme?e.theme:this._theme;var n=!1;"undefined"!=typeof e.renderSideBySide&&this._renderSideBySide!==e.renderSideBySide&&(this._renderSideBySide=e.renderSideBySide,n=!0),this._containerDomElement.className=t._getClassName(this._theme,this._renderSideBySide),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e)),"undefined"!=typeof e.enableSplitViewResizing&&(this._enableSplitViewResizing=e.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),n&&(this._renderSideBySide?this._setStrategy(new v(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new y(this._createDataSource(),this._enableSplitViewResizing)))},t.prototype.getValue=function(e){return"undefined"==typeof e&&(e=null),this.modifiedEditor.getValue(e)},t.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},t.prototype.setModel=function(e){this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(e?e.original:null),this.modifiedEditor.setModel(e?e.modified:null),e&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._diffComputationToken++,e?(this._recreateOverviewRulers(),this._beginUpdateDecorations()):this._lineChanges=null},t.prototype.getDomNode=function(){return this._domElement},t.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},t.prototype.setPosition=function(e,t,n,i){this.modifiedEditor.setPosition(e,t,n,i)},t.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},t.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},t.prototype.setSelection=function(e,t,n,i){this.modifiedEditor.setSelection(e,t,n,i)},t.prototype.getActions=function(){return this.modifiedEditor.getActions()},t.prototype.saveViewState=function(){var e=this.originalEditor.saveViewState(),t=this.modifiedEditor.saveViewState();return{original:e,modified:t}},t.prototype.restoreViewState=function(e){var t=e;if(t.original&&t.original){var n=t;this.originalEditor.restoreViewState(n.original),this.modifiedEditor.restoreViewState(n.modified)}},t.prototype.layout=function(e){this._measureDomElement(!1,e)},t.prototype.focus=function(){this.modifiedEditor.focus()},t.prototype.isFocused=function(){return this.originalEditor.isFocused()||this.modifiedEditor.isFocused()},t.prototype.onVisible=function(){this._isVisible=!0,this.originalEditor.onVisible(),this.modifiedEditor.onVisible(),this._beginUpdateDecorations()},t.prototype.onHide=function(){this._isVisible=!1,this.originalEditor.onHide(),this.modifiedEditor.onHide(),this._cleanViewZonesAndDecorations()},t.prototype.trigger=function(e,t,n){this.modifiedEditor.trigger(e,t,n)},t.prototype.changeDecorations=function(e){return this.modifiedEditor.changeDecorations(e)},t.prototype._measureDomElement=function(e,t){t=t||a.getDomNodePosition(this._containerDomElement),t.width<=0||(e||t.width!==this._width||t.height!==this._height)&&(this._width=t.width,this._height=t.height,this._doLayout())},t.prototype._layoutOverviewRulers=function(){var e=t.ENTIRE_DIFF_OVERVIEW_WIDTH-2*t.ONE_OVERVIEW_WIDTH,n=this.modifiedEditor.getLayoutInfo();n&&(this._originalOverviewRuler.setLayout({top:0,width:t.ONE_OVERVIEW_WIDTH,right:e+t.ONE_OVERVIEW_WIDTH,height:this._height-n.horizontalScrollbarHeight}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:t.ONE_OVERVIEW_WIDTH,height:this._height-n.horizontalScrollbarHeight}))},t.prototype._recomputeIfNecessary=function(e){for(var n=this,i=!1,r=0;!i&&r<e.length;r++){var s=e[r].getType();i=i||"change"===s||s===o.EventType.ModelModeChanged}i&&this._isVisible&&(-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return n._beginUpdateDecorations()},t.UPDATE_DIFF_DECORATIONS_DELAY))},t.prototype._onOriginalEditorEvents=function(e){for(var t=0;t<e.length;t++)"scroll"===e[t].getType()&&this._onOriginalEditorScroll(e[t].getData());this._recomputeIfNecessary(e)},t.prototype._onModifiedEditorEvents=function(e){for(var t=0;t<e.length;t++)"scroll"===e[t].getType()&&this._onModifiedEditorScroll(e[t].getData());this._recomputeIfNecessary(e)},t.prototype._beginUpdateDecorations=function(){var e=this;if(this._beginUpdateDecorationsTimeout=-1,this.modifiedEditor.getModel()){this._diffComputationToken++;var t=this._diffComputationToken,n=this.originalEditor.getModel(),i=this.modifiedEditor.getModel(),r=this.modifiedEditor.getModel().getMode().diffSupport;if(r)try{r.computeDiff(n.getAssociatedResource(),i.getAssociatedResource()).then(function(r){t===e._diffComputationToken&&n===e.originalEditor.getModel()&&i===e.modifiedEditor.getModel()&&(e._updateDecorations(r),e._lineChanges=r,e.emit(o.EventType.DiffUpdated,{editor:e,lineChanges:r}))},function(){t===e._diffComputationToken&&n===e.originalEditor.getModel()&&i===e.modifiedEditor.getModel()&&e._updateDecorations(null)})}catch(s){console.error(s),this._updateDecorations(null)}else this._updateDecorations(null)}},t.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},t.prototype._updateDecorations=function(e){e=e||[];var t=this._strategy.getEditorsDiffDecorations(e,this.originalEditor,this.modifiedEditor);this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,t.original),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,t.modified)},t.prototype._adjustOptionsForLeftHandSide=function(e){var t=r.clone(e||{});return t.wrappingColumn=-1,t.readOnly=!0,t.automaticLayout=!1,t.scrollbar=t.scrollbar||{},t.scrollbar.vertical="hidden",t.overviewRulerLanes=1,t.theme=this._theme+" original-in-monaco-diff-editor",t},t.prototype._adjustOptionsForRightHandSide=function(e){var i=r.clone(e||{});return i.wrappingColumn=-1,i.automaticLayout=!1,i.revealHorizontalRightPadding=n.Config.editor.revealHorizontalRightPadding+t.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar=i.scrollbar||{},i.scrollbar.vertical="visible",i.scrollbar.verticalHasArrows=!1,i.scrollbar.verticalScrollbarSize=41,i.scrollbar.verticalSliderSize=41,i.overviewRulerLanes=1,i.theme=this._theme+" modified-in-monaco-diff-editor",i},t.prototype._onOriginalEditorScroll=function(e){this._isHandlingScrollEvent||(this._isHandlingScrollEvent=!0,this.modifiedEditor.setScrollLeft(e.scrollLeft),this.modifiedEditor.setScrollTop(e.scrollTop),this._isHandlingScrollEvent=!1)},t.prototype._onModifiedEditorScroll=function(e){this._isHandlingScrollEvent||(this._isHandlingScrollEvent=!0,this.originalEditor.setScrollLeft(e.scrollLeft),this.originalEditor.setScrollTop(e.scrollTop),this._isHandlingScrollEvent=!1)},t.prototype._doLayout=function(){var e=this._strategy.layout();this._originalDomNode.style.width=e+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=this._width-e+"px",this._modifiedDomNode.style.left=e+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.width=t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=this._width-t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this.originalEditor.layout({width:e,height:this._height}),this.modifiedEditor.layout({width:this._width-e,height:this._height}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers()},t.prototype._createDataSource=function(){var e=this;return{getWidth:function(){return e._width},getHeight:function(){return e._height},getContainerDomNode:function(){return e._containerDomElement},relayoutEditors:function(){e._doLayout()},getOriginalEditor:function(){return e.originalEditor},getModifiedEditor:function(){return e.modifiedEditor}}},t.prototype._setStrategy=function(e){this._strategy&&this._strategy.dispose(),this._strategy=e,this._lineChanges&&this._updateDecorations(this._lineChanges),this._measureDomElement(!0)},t.ONE_OVERVIEW_WIDTH=15,t.ENTIRE_DIFF_OVERVIEW_WIDTH=30,t.UPDATE_DIFF_DECORATIONS_DELAY=200,t}(u.EventEmitter);t.DiffEditorWidget=g;var m=function(){function e(e){this._dataSource=e}return e.prototype.getEditorsDiffDecorations=function(e,t,n){return{original:this._getOriginalEditorDecorations(e,t,n),modified:this._getModifiedEditorDecorations(e,t,n)}},e.prototype._getOriginalEditorDecorations=function(){return null},e.prototype._getModifiedEditorDecorations=function(){return null},e.prototype._isChangeOrInsert=function(e){return e.modifiedEndLineNumber>0},e.prototype._isChangeOrDelete=function(e){return e.originalEndLineNumber>0},e.prototype._getOriginalLength=function(e){return e.originalEndLineNumber>0?e.originalEndLineNumber-e.originalStartLineNumber+1:0},e.prototype._getModifiedLength=function(e){return e.modifiedEndLineNumber>0?e.modifiedEndLineNumber-e.modifiedStartLineNumber+1:0},e.prototype._createDecoration=function(e,t,n,i,o,r){return{range:new l.Range(e,t,n,i),options:{isOverlay:!1,className:o,isWholeLine:r}}},e}(),v=function(e){function t(t,n){var i=this;e.call(this,t),this._disableSash=n===!1,this._sashRatio=null,this._sashPosition=null,this._sash=new d.Sash(this._dataSource.getContainerDomNode(),this),this._disableSash&&this._sash.disable(),this._sash.on("start",function(){return i._onSashDragStart()}),this._sash.on("change",function(e){return i._onSashDrag(e)}),this._sash.on("end",function(){return i._onSashDragEnd()})}return __extends(t,e),t.prototype.dispose=function(){this._sash.dispose()},t.prototype.setEnableSplitViewResizing=function(e){var t=e===!1;this._disableSash!==t&&(this._disableSash=t,this._disableSash?this._sash.disable():this._sash.enable())},t.prototype.layout=function(e){"undefined"==typeof e&&(e=this._sashRatio);var n=this._dataSource.getWidth(),i=n-g.ENTIRE_DIFF_OVERVIEW_WIDTH,o=Math.floor((e||.5)*i),r=Math.floor(.5*i),o=this._disableSash?r:o||r;return i>2*t.MINIMUM_EDITOR_WIDTH?(o<t.MINIMUM_EDITOR_WIDTH&&(o=t.MINIMUM_EDITOR_WIDTH),o>i-t.MINIMUM_EDITOR_WIDTH&&(o=i-t.MINIMUM_EDITOR_WIDTH)):o=r,this._sashPosition!==o&&(this._sashPosition=o,this._sash.layout()),this._sashPosition},t.prototype._onSashDragStart=function(){this._startSashPosition=this._sashPosition},t.prototype._onSashDrag=function(e){var t=this._dataSource.getWidth(),n=t-g.ENTIRE_DIFF_OVERVIEW_WIDTH,i=this.layout((this._startSashPosition+(e.currentX-e.startX))/n);this._sashRatio=i/n,this._dataSource.relayoutEditors()},t.prototype._onSashDragEnd=function(){this._sash.layout()},t.prototype.getVerticalSashTop=function(){return 0},t.prototype.getVerticalSashLeft=function(){return this._sashPosition},t.prototype.getVerticalSashHeight=function(){return this._dataSource.getHeight()},t.prototype._getOriginalEditorDecorations=function(e){var t,n,i,o,r,s,a,u,l={decorations:[],zones:[],overviewZones:[]};for(t=0,n=e.length;n>t;t++)if(a=e[t],this._isChangeOrInsert(a)&&(r=this._getModifiedLength(a),s=this._getOriginalLength(a),r>s&&l.zones.push({afterLineNumber:Math.max(a.originalStartLineNumber,a.originalEndLineNumber),heightInLines:r-s,domNode:this._createFakeLinesDiv()})),this._isChangeOrDelete(a)&&(l.decorations.push(this._createDecoration(a.originalStartLineNumber,1,a.originalEndLineNumber,Number.MAX_VALUE,"line-delete",!0)),this._isChangeOrInsert(a)&&a.charChanges||l.decorations.push(this._createDecoration(a.originalStartLineNumber,1,a.originalEndLineNumber,Number.MAX_VALUE,"char-delete",!0)),l.overviewZones.push({startLineNumber:a.originalStartLineNumber,endLineNumber:a.originalEndLineNumber,color:"rgba(255, 0, 0, 0.4)",position:c.OverviewRulerLane.Full}),a.charChanges))for(i=0,o=a.charChanges.length;o>i;i++)u=a.charChanges[i],this._isChangeOrDelete(u)&&l.decorations.push(this._createDecoration(u.originalStartLineNumber,u.originalStartColumn,u.originalEndLineNumber,u.originalEndColumn,"char-delete",!1));return l},t.prototype._getModifiedEditorDecorations=function(e){var t,n,i,o,r,s,a,u,l={decorations:[],zones:[],overviewZones:[]};for(t=0,n=e.length;n>t;t++)if(a=e[t],this._isChangeOrDelete(a)&&(r=this._getModifiedLength(a),s=this._getOriginalLength(a),s>r&&l.zones.push({afterLineNumber:Math.max(a.modifiedStartLineNumber,a.modifiedEndLineNumber),heightInLines:s-r,domNode:this._createFakeLinesDiv()})),this._isChangeOrInsert(a)&&(l.decorations.push(this._createDecoration(a.modifiedStartLineNumber,1,a.modifiedEndLineNumber,Number.MAX_VALUE,"line-insert",!0)),this._isChangeOrDelete(a)&&a.charChanges||l.decorations.push(this._createDecoration(a.modifiedStartLineNumber,1,a.modifiedEndLineNumber,Number.MAX_VALUE,"char-insert",!0)),l.overviewZones.push({startLineNumber:a.modifiedStartLineNumber,endLineNumber:a.modifiedEndLineNumber,color:"rgba(155, 185, 85, 0.4)",position:c.OverviewRulerLane.Full}),a.charChanges))for(i=0,o=a.charChanges.length;o>i;i++)u=a.charChanges[i],this._isChangeOrInsert(u)&&l.decorations.push(this._createDecoration(u.modifiedStartLineNumber,u.modifiedStartColumn,u.modifiedEndLineNumber,u.modifiedEndColumn,"char-insert",!1));return l},t.prototype._createFakeLinesDiv=function(){var e=document.createElement("div");return e.className="diagonal-fill",e},t.MINIMUM_EDITOR_WIDTH=100,t}(m),y=function(e){function t(t){var n=this;e.call(this,t),this.decorationsLeft=40,this.toDispose=[],this.toDispose.push(t.getOriginalEditor().addListener2(o.EventType.EditorLayout,function(e){n.decorationsLeft!==e.decorationsLeft&&(n.decorationsLeft=e.decorationsLeft,t.relayoutEditors())}))}return __extends(t,e),t.prototype.dispose=function(){this.toDispose=i.disposeAll(this.toDispose)},t.prototype.setEnableSplitViewResizing=function(){},t.prototype._getOriginalEditorDecorations=function(e){var t,n,i,o={decorations:[],zones:[],overviewZones:[]};for(t=0,n=e.length;n>t;t++)i=e[t],this._isChangeOrInsert(i)&&o.zones.push({afterLineNumber:Math.max(i.originalStartLineNumber,i.originalEndLineNumber),heightInLines:this._getModifiedLength(i),domNode:document.createElement("div")}),this._isChangeOrDelete(i)&&o.overviewZones.push({startLineNumber:i.originalStartLineNumber,endLineNumber:i.originalEndLineNumber,color:"rgba(255, 0, 0, 0.4)",position:c.OverviewRulerLane.Full});return o},t.prototype.renderOriginalLine=function(e,t,n,i,o){var r,s,a=e.getLineContent(i);r={getTokens:function(){return[{startIndex:0,type:""}]},getTextLength:function(){return a.length},equals:function(){return!1},findIndexOfOffset:function(){return 0}},s=p.createLineParts(i,r,o);var u=h.renderLine({lineContent:a,tabSize:n.tabSize,stopRenderingLineAfter:t.stopRenderingLineAfter,parts:s.getParts()}),l=[];return l.push('<div class="view-line'),0===o.length&&l.push(" char-delete"),l.push('" style="width:1000000px;">'),l=l.concat(u.output),l.push("</div>"),l},t.prototype._getModifiedEditorDecorations=function(e,t,n){var i,o,r,s,a,u,l,d,h,p={decorations:[],zones:[],overviewZones:[]},f=t.getModel(),g=n.getConfiguration(),m=n.getIndentationOptions();for(i=0,o=e.length;o>i;i++){if(a=e[i],this._isChangeOrDelete(a)){var v=[];if(a.charChanges)for(u=0,l=a.charChanges.length;l>u;u++)d=a.charChanges[u],this._isChangeOrDelete(d)&&(h=this._createDecoration(d.originalStartLineNumber,d.originalStartColumn,d.originalEndLineNumber,d.originalEndColumn,"char-delete",!1),h.options.inlineClassName=h.options.className,v.push(h));for(s=[],r=a.originalStartLineNumber;r<=a.originalEndLineNumber;r++)s=s.concat(this.renderOriginalLine(f,g,m,r,v));var y=document.createElement("div");y.className="view-lines line-delete",y.innerHTML=s.join(""),p.zones.push({afterLineNumber:0===a.modifiedEndLineNumber?a.modifiedStartLineNumber:a.modifiedStartLineNumber-1,heightInLines:this._getOriginalLength(a),domNode:y})}if(this._isChangeOrInsert(a))if(p.decorations.push(this._createDecoration(a.modifiedStartLineNumber,1,a.modifiedEndLineNumber,Number.MAX_VALUE,"line-insert",!0)),p.overviewZones.push({startLineNumber:a.modifiedStartLineNumber,endLineNumber:a.modifiedEndLineNumber,color:"rgba(155, 185, 85, 0.4)",position:c.OverviewRulerLane.Full}),a.charChanges)for(u=0,l=a.charChanges.length;l>u;u++)d=a.charChanges[u],this._isChangeOrInsert(d)&&p.decorations.push(this._createDecoration(d.modifiedStartLineNumber,d.modifiedStartColumn,d.modifiedEndLineNumber,d.modifiedEndColumn,"char-insert",!1));else p.decorations.push(this._createDecoration(a.modifiedStartLineNumber,1,a.modifiedEndLineNumber,Number.MAX_VALUE,"char-insert",!0))}return p},t.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},t}(m)}),define("vs/base/dom/htmlContent",["require","exports","vs/base/dom/dom"],function(e,t,n){function i(e,n){return"string"==typeof e?[document.createTextNode(e)]:Array.isArray(e)?e.map(function(e){return t.renderHtml(e,n)}):e?[t.renderHtml(e,n)]:[]}function o(e,n){if(e.isText)return document.createTextNode(e.text);var i=e.tagName||"div",o=document.createElement(i);return e.className&&(o.className=e.className),e.text&&(o.textContent=e.text),e.style&&o.setAttribute("style",e.style),e.customStyle&&Object.keys(e.customStyle).forEach(function(t){o.style[t]=e.customStyle[t]}),e.children&&e.children.forEach(function(e){o.appendChild(t.renderHtml(e))}),e.formattedText&&r(o,s(e.formattedText),n),o}function r(e,t,i){var o;if(2===t.type)o=document.createTextNode(t.content);else if(3===t.type)o=document.createElement("b");else if(4===t.type)o=document.createElement("i");else if(5===t.type){var s=document.createElement("a");s.href="#",n.addStandardDisposableListener(s,"click",function(e){i(t.index,e)}),o=s}else 7===t.type?o=document.createElement("br"):1===t.type&&(o=e);e!==o&&e.appendChild(o),Array.isArray(t.children)&&t.children.forEach(function(e){r(o,e,i)})}function s(e){for(var t={type:1,children:[]},n=0,i=t,o=[],r=new c(e);!r.eos();){var s=r.next();if(a(s)&&s===r.peek()){r.advance(),2===i.type&&(i=o.pop());var l=u(s);if(i.type===l||5===i.type&&6===l)i=o.pop();else{var d={type:l,children:[]};5===l&&(d.index=n,n++),i.children.push(d),o.push(i),i=d}}else if("\n"===s)2===i.type&&(i=o.pop()),i.children.push({type:7});else if(2!==i.type){var h={type:2,content:s};i.children.push(h),o.push(i),i=h}else i.content+=s}if(2===i.type&&(i=o.pop()),o.length)throw new Error("Incorrectly formatted string literal");return t}function a(e){return 0!==u(e)}function u(e){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}t.renderHtml2=i,t.renderHtml=o;var l,c=function(){function e(e){this.source=e,this.index=0}return e.prototype.eos=function(){return this.index>=this.source.length},e.prototype.next=function(){var e=this.peek();return this.advance(),e},e.prototype.peek=function(){return this.source[this.index]},e.prototype.advance=function(){this.index++},e}();!function(e){e[e.Invalid=0]="Invalid",e[e.Root=1]="Root",e[e.Text=2]="Text",e[e.Bold=3]="Bold",e[e.Italics=4]="Italics",e[e.Action=5]="Action",e[e.ActionClose=6]="ActionClose",e[e.NewLine=7]="NewLine"}(l||(l={}))}),define("vs/css!vs/base/ui/widgets/contextview/contextview",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/contextview/contextview",["require","exports","vs/base/dom/builder","vs/base/dom/dom","vs/base/lifecycle","vs/base/eventEmitter","vs/css!./contextview"],function(e,t,n,i,o,r){var s=n.$;!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(t.AnchorAlignment||(t.AnchorAlignment={}));t.AnchorAlignment;!function(e){e[e.BELOW=0]="BELOW",e[e.ABOVE=1]="ABOVE"}(t.AnchorPosition||(t.AnchorPosition={}));var a=(t.AnchorPosition,function(e){function t(t){var n=this;e.call(this),this.$view=s(".context-view").hide(),this.setContainer(t),this.toDispose=[{dispose:function(){n.setContainer(null)}}],this.toDisposeOnClean=null}return __extends(t,e),t.prototype.setContainer=function(e){var n=this;this.$container&&(this.$container.off(t.EVENTS),this.$container=null),e&&(this.$container=s(e),this.$view.appendTo(this.$container),this.$container.on(t.EVENTS,function(e){n.onDOMEvent(e,document.activeElement)}))},t.prototype.show=function(e){this.isVisible()&&this.hide(),this.$view.setClass("context-view").empty().style({top:"0px",left:"0px"}).show(),this.toDisposeOnClean=e.render(this.$view.getHTMLElement()),this.delegate=e,this.doLayout()},t.prototype.layout=function(){if(this.isVisible()){if(this.delegate.canRelayout===!1)return this.hide(),void 0;this.delegate.layout&&this.delegate.layout(),this.doLayout()
}},t.prototype.doLayout=function(){var e,t,n,o,r,a,u,l,c=this.delegate.getAnchor();if(i.isHTMLElement(c)){var d=s(c),h=d.getPosition(),p=d.getTotalSize();r=h.top,a=h.left,u=p.width,l=p.height}else{var f=c;r=f.y,a=f.x,u=0,l=0}var g=this.$container.getPosition(),m=g.top,v=g.left,y=window.innerHeight,_=window.innerWidth,b=this.$view.getTotalSize();n=b.width,o=b.height;var C=this.delegate.anchorPosition||0;0===C?(e=r+l-m,m+e+o>y&&r-m>o&&(e=r-o-m)):(e=r-o-m,0>e+m&&y>r+l+o-m&&(e=r+l-m));var w=this.delegate.anchorAlignment||0;0===w?(t=a-v,v+t+n>_&&(t-=n-u)):(t=a+u-n-v,0>t+v&&_>a+n&&(t=a-v)),this.$view.style({top:e+"px",left:t+"px",width:"initial"})},t.prototype.hide=function(e){this.delegate&&this.delegate.onHide&&this.delegate.onHide(e),this.delegate=null,this.toDisposeOnClean&&(this.toDisposeOnClean.dispose(),this.toDisposeOnClean=null),this.$view.hide()},t.prototype.isVisible=function(){return!!this.delegate},t.prototype.onDOMEvent=function(e){if(this.delegate)if(this.delegate.onDOMEvent)this.delegate.onDOMEvent(e,document.activeElement);else{if(i.isAncestor(e.target,this.$container.getHTMLElement()))return;this.hide()}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.hide(),this.toDispose=o.disposeAll(this.toDispose)},t.EVENTS=["click","keydown","focus","blur"],t}(r.EventEmitter));t.ContextView=a}),define("vs/css!vs/base/ui/widgets/inputBox",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/inputBox",["require","exports","vs/base/env","vs/base/dom/builder","vs/base/dom/dom","vs/base/dom/htmlContent","vs/base/eventEmitter","vs/base/ui/widgets/contextview/contextview","vs/css!./inputBox"],function(e,t,n,i,o,r,s){var a=i.$;!function(e){e[e.INFO=1]="INFO",e[e.WARNING=2]="WARNING",e[e.ERROR=3]="ERROR"}(t.MessageType||(t.MessageType={}));var u=(t.MessageType,function(e){function t(t,i,r){var s=this;e.call(this),this.state="idle",this.contextViewProvider=i,this.$placeholderShim=null,this.message=null,this.placeholder=r&&r.placeholder||"",this.ariaLabel=r&&r.ariaLabel||"",r&&r.validationOptions&&(this.validation=r.validationOptions.validation,this.showValidationMessage=r.validationOptions.showMessage||!1),this.$el=a(".monaco-inputbox.idle").appendTo(t);var u=a(".wrapper").appendTo(this.$el),l={wrap:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"};this.ariaLabel&&(l["aria-label"]=this.ariaLabel),!n.browser.isIE11orEarlier&&this.placeholder&&(l.placeholder=this.placeholder),this.$input=a("input.input").type("text").attr(l).on(o.EventType.INPUT,function(){s.onValueChange()}).on(o.EventType.BLUR,function(){s._hideMessage()}).on(o.EventType.FOCUS,function(){s._showMessage()}),this.placeholder&&n.browser.isIE11orEarlier&&(this.$placeholderShim=a("label.placeholder-shim").appendTo(u).attr({text:this.placeholder,for:"input"}).on(o.EventType.CLICK,function(e){o.EventHelper.stop(e,!0),s.$input.domFocus()}),n.browser.isIE9&&this.$input.on("keyup",function(){return s.onValueChange()})),this.$input.appendTo(u)}return __extends(t,e),t.prototype.setContextViewProvider=function(e){this.contextViewProvider=e},Object.defineProperty(t.prototype,"inputElement",{get:function(){return this.$input.getHTMLElement()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.inputElement.value},set:function(e){this.inputElement.value!==e&&(this.inputElement.value=e,this.onValueChange())},enumerable:!0,configurable:!0}),t.prototype.cursorIsAtBeginning=function(){var e=this.inputElement.selectionStart,t=this.inputElement.selectionEnd;return e===t&&0===e},t.prototype.cursorIsAtEnd=function(){var e=this.inputElement.selectionStart,t=this.inputElement.selectionEnd,n=this.inputElement.value.length;return e===t&&e===n},t.prototype.focus=function(){this.$input.domFocus()},t.prototype.hasFocus=function(){return this.$input.hasFocus()},t.prototype.select=function(e){"undefined"==typeof e&&(e=null),this.$input.domSelect(e)},t.prototype.enable=function(){this.inputElement.removeAttribute("disabled")},t.prototype.disable=function(){this.$input.attr({disabled:!0}),this._hideMessage()},Object.defineProperty(t.prototype,"width",{get:function(){return this.$input.getTotalSize().width},set:function(e){this.$input.size(e)},enumerable:!0,configurable:!0}),t.prototype.showMessage=function(e){this.message=e,this.$el.removeClass("idle info warning error").addClass(this.classForType(e.type)),this.hasFocus()&&this._showMessage()},t.prototype.hideMessage=function(){this.message=null,this.$el.removeClass("info warning error").addClass("idle"),this._hideMessage()},t.prototype.validate=function(){var e=null;return this.validation&&(e=this.validation(this.value),e?this.showMessage(e):this.hideMessage()),!e},t.prototype.classForType=function(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}},t.prototype._showMessage=function(){var e=this;if(this.contextViewProvider&&this.showValidationMessage&&this.message){var t;this.state="open",this.contextViewProvider.showContextView({getAnchor:function(){return e.$el.getHTMLElement()},anchorAlignment:1,render:function(n){var i=e.$el.getTotalSize();t=a("div.monaco-inputbox-container").style({width:i.width+"px"}).appendTo(n);var o=r.renderHtml({tagName:"span",className:"monaco-inputbox-message",formattedText:e.message.content}),s=a(o).addClass(e.classForType(e.message.type)).appendTo(t);return{dispose:function(){s.destroy(),t.destroy()}}},layout:function(){var n=e.$el.getTotalSize();t.style({width:n.width+"px"})}})}},t.prototype._hideMessage=function(){this.contextViewProvider&&"open"===this.state&&(this.state="idle",this.contextViewProvider.hideContextView())},t.prototype.onValueChange=function(){this.emit("change",this.value),this.validate(),this.$placeholderShim&&(this.value?this.$placeholderShim.hide():this.$placeholderShim.show())},t.prototype.dispose=function(){this.$el&&(this.$el.dispose(),this.$el=null,this.$input.dispose(),this.$input=null),this.$placeholderShim&&(this.$placeholderShim.dispose(),this.$placeholderShim=null),this.contextViewProvider=null,this.message=null,this.placeholder=null,this.ariaLabel=null,this.validation=null,this.showValidationMessage=null,this.state=null,e.prototype.dispose.call(this)},t}(s.EventEmitter));t.InputBox=u}),define("vs/css!vs/base/ui/widgets/findInput",["vs/css!vs/editor/editor.main"],{}),define("vs/base/ui/widgets/findInput",["require","exports","vs/nls!vs/editor/editor.main","vs/base/dom/builder","vs/base/dom/mouseEvent","vs/base/dom/keyboardEvent","vs/base/ui/widgets/inputBox","vs/css!./findInput"],function(e,t,n,i,o,r,s){var a=i.$,u=function(){function e(e,t,n,i){var s=this;this.actionClassName=e,this.title=t,this.isChecked=n,this.onChange=i,this.listenersToRemove=[],this.domNode=document.createElement("div"),this.domNode.title=t,this.render(),a(this.domNode).attr({"aria-checked":"false","aria-label":this.title,tabindex:0,role:"checkbox"}),a(this.domNode).on("click",function(e){var t=new o.StandardMouseEvent(e);s.isChecked=!s.isChecked,s.render(),s.onChange(),t.preventDefault()},this.listenersToRemove),a(this.domNode).on("keydown",function(e){var t=new r.KeyboardEvent(e);("Space"===t.key||"Enter"===t.key)&&(s.isChecked=!s.isChecked,s.render(),s.onChange(),t.preventDefault())},this.listenersToRemove)}return e.prototype.render=function(){this.domNode.className=this.className()},e.prototype.setChecked=function(e){this.isChecked=e,a(this.domNode).attr("aria-checked",this.isChecked),this.render()},e.prototype.className=function(){return"custom-checkbox "+this.actionClassName+" "+(this.isChecked?"checked":"unchecked")},e.prototype.width=function(){return 22},e.prototype.destroy=function(){this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[]},e}();t.CustomCheckbox=u;var l=function(){function e(e,t,i){this.contextViewProvider=t,this.onOptionChange=null,this.width=i.width||100,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||n.localize("vs_base_ui_widgets_findInput",0),this.listenersToRemove=[],this.regex=null,this.wholeWords=null,this.caseSensitive=null,this.domNode=null,this.inputNode=null,this.inputBox=null,this.validationNode=null,this.buildDomNode(),Boolean(e)&&e.appendChild(this.domNode)}return e.prototype.destroy=function(){this.regex.destroy(),this.wholeWords.destroy(),this.caseSensitive.destroy(),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[]},e.prototype.on=function(t,n){switch(t){case"keydown":case"keyup":a(this.inputBox.inputElement).on(t,n);break;case e.OPTION_CHANGE:this.onOptionChange=n}return this},e.prototype.enable=function(){a(this.domNode).removeClass("disabled"),this.inputBox.enable()},e.prototype.disable=function(){a(this.domNode).addClass("disabled"),this.inputBox.disable()},e.prototype.clear=function(){this.clearValidation(),this.setValue(""),this.focus()},e.prototype.setWidth=function(e){this.width=e,this.domNode.style.width=this.width+"px",this.contextViewProvider.layout(),this.setInputWidth()},e.prototype.cursorIsAtBeginning=function(){return this.inputBox.cursorIsAtBeginning()},e.prototype.cursorIsAtEnd=function(){return this.inputBox.cursorIsAtEnd()},e.prototype.getValue=function(){return this.inputBox.value},e.prototype.setValue=function(e){this.inputBox.value!==e&&(this.inputBox.value=e)},e.prototype.select=function(){this.inputBox.select()},e.prototype.focus=function(){this.inputBox.focus()},e.prototype.getCaseSensitive=function(){return this.caseSensitive.isChecked},e.prototype.setCaseSensitive=function(e){this.caseSensitive.setChecked(e),this.setInputWidth()},e.prototype.getWholeWords=function(){return this.wholeWords.isChecked},e.prototype.setWholeWords=function(e){this.wholeWords.setChecked(e),this.setInputWidth()},e.prototype.getRegex=function(){return this.regex.isChecked},e.prototype.setRegex=function(e){this.regex.setChecked(e),this.setInputWidth()},e.prototype.setInputWidth=function(){var e=this.width-this.caseSensitive.width()-this.wholeWords.width()-this.regex.width();this.inputBox.width=e},e.prototype.buildDomNode=function(){var e=this;this.domNode=document.createElement("div"),this.domNode.style.width=this.width+"px",a(this.domNode).addClass("monaco-findInput"),this.inputBox=new s.InputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation||null,showMessage:!0}}),this.regex=new u("regex",n.localize("vs_base_ui_widgets_findInput",1),!1,function(){e.onOptionChange(null),e.inputBox.focus(),e.setInputWidth(),e.validate()}),this.wholeWords=new u("whole-word",n.localize("vs_base_ui_widgets_findInput",2),!1,function(){e.onOptionChange(null),e.inputBox.focus(),e.setInputWidth(),e.validate()}),this.caseSensitive=new u("case-sensitive",n.localize("vs_base_ui_widgets_findInput",3),!1,function(){e.onOptionChange(null),e.inputBox.focus(),e.setInputWidth(),e.validate()}),this.setInputWidth();var t=document.createElement("div");t.className="controls",t.appendChild(this.caseSensitive.domNode),t.appendChild(this.wholeWords.domNode),t.appendChild(this.regex.domNode),this.domNode.appendChild(t)},e.prototype.validate=function(){this.inputBox.validate()},e.prototype.showMessage=function(e){this.inputBox.showMessage(e)},e.prototype.clearMessage=function(){this.inputBox.hideMessage()},e.prototype.clearValidation=function(){this.inputBox.hideMessage()},e.OPTION_CHANGE="optionChange",e}();t.FindInput=l}),define("vs/editor/contrib/find/replaceAllCommand",["require","exports","vs/editor/core/range","vs/editor/core/selection"],function(e,t,n,i){var o=function(){function e(e,t){this._ranges=e,this._replaceStrings=t}return e.prototype.getEditOperations=function(e,t){if(this._ranges.length>0){for(var i=[],o=0;o<this._ranges.length;o++)i.push({range:this._ranges[o],text:this._replaceStrings[o]});i.sort(function(e,t){return n.compareRangesUsingStarts(e.range,t.range)});for(var r=[],s=i[0],o=1;o<i.length;o++)s.range.endLineNumber===i[o].range.startLineNumber&&s.range.endColumn===i[o].range.startColumn?(s.range=s.range.plusRange(i[o].range),s.text=s.text+i[o].text):(r.push(s),s=i[o]);r.push(s);for(var o=0;o<r.length;o++)t.addEditOperation(r[o].range,r[o].text)}},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),o=n[n.length-1].range;return new i.Selection(o.endLineNumber,o.endColumn,o.endLineNumber,o.endColumn)},e}();t.ReplaceAllCommand=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/find/findModel",["require","exports","vs/editor/core/position","vs/editor/core/constants","vs/base/strings","vs/base/eventEmitter","vs/editor/contrib/find/replaceAllCommand","vs/editor/core/command/replaceCommand","vs/editor/editor","vs/editor/core/range"],function(e,t,n,i,o,r,s,a,u,l){t.START_FIND_ID="actions.find",t.NEXT_MATCH_FIND_ID="editor.actions.nextMatchFindAction",t.PREVIOUS_MATCH_FIND_ID="editor.actions.previousMatchFindAction",t.DISABLE_SELECTION_FIND_ID="editor.actions.disableSelectionFindAction",t.ENABLE_SELECTION_FIND_ID="editor.actions.enableSelectionFindAction",t.START_FIND_REPLACE_ID="editor.actions.startFindReplaceAction",t.REPLACE_ID="editor.actions.replaceAction",t.REPLACE_ALL_ID="editor.actions.replaceAllAction";var c=function(e){function t(n){var o=this;e.call(this,[t._MATCHES_UPDATED_EVENT,t._START_EVENT]),this.editor=n,this.startPosition=null,this.searchString="",this.replaceString="",this.searchOnlyEditableRange=!1,this.decorations=[],this.decorationIndex=0,this.findScopeDecorationId=null,this.highlightedDecorationId=null,this.listenersToRemove=[],this.updateDecorationsTimeout=null,this.didReplace=!1,this.isRegex=!1,this.matchCase=!1,this.wholeWord=!1,this.listenersToRemove.push(this.editor.addListener(i.EventType.CursorPositionChanged,function(e){("explicit"===e.reason||"undo"===e.reason||"redo"===e.reason)&&(null!==o.highlightedDecorationId&&o.editor.changeDecorations(function(e){e.changeDecorationOptions(o.highlightedDecorationId,o.createFindMatchDecorationOptions(!1)),o.highlightedDecorationId=null}),o.startPosition=o.editor.getPosition(),o.decorationIndex=-1)})),this.listenersToRemove.push(this.editor.getModel().addListener(i.EventType.ModelContentChanged,function(e){return e.changeType===i.EventType.ModelContentChangedFlush&&(o.decorations=[]),o.startPosition=o.editor.getPosition(),null!==o.updateDecorationsTimeout?(window.clearTimeout(o.updateDecorationsTimeout),o.resetupdateDecorationsTimeout(),void 0):(o.resetupdateDecorationsTimeout(),void 0)}))}return __extends(t,e),t.prototype.resetupdateDecorationsTimeout=function(){var e=this;this.updateDecorationsTimeout=window.setTimeout(function(){e.updateDecorations(!1,!1,null),e.updateDecorationsTimeout=null},100)},t.prototype.removeOldDecorations=function(e,t){var n,i;for(n=0,i=this.decorations.length;i>n;n++)e.removeDecoration(this.decorations[n]);this.decorations=[],t&&this.hasFindScope()&&(e.removeDecoration(this.findScopeDecorationId),this.findScopeDecorationId=null)},t.prototype.createFindMatchDecorationOptions=function(e){return{stickiness:1,isOverlay:!1,className:e?"currentFindMatch":"findMatch",overviewRuler:{color:"rgba(246, 185, 77, 0.7)",position:2}}},t.prototype.createFindScopeDecorationOptions=function(){return{className:"findScope",isWholeLine:!0}},t.prototype.addMatchesDecorations=function(e,t){var n,i;for(n=0,i=t.length;i>n;n++)this.decorations[n]=e.addDecoration(t[n],this.createFindMatchDecorationOptions(!1))},t.prototype.updateDecorations=function(e,t,n){var i=this;this.didReplace&&this.next(),this.editor.changeDecorations(function(e){i.removeOldDecorations(e,t);var o;o=i.searchOnlyEditableRange?i.editor.getModel().getEditableRange():i.editor.getModel().getFullModelRange(),t&&n&&(i.findScopeDecorationId=e.addDecoration(n,i.createFindScopeDecorationOptions())),i.hasFindScope()&&(o=o.intersectRanges(i.editor.getModel().getDecorationRange(i.findScopeDecorationId))),i.addMatchesDecorations(e,i.editor.getModel().findMatches(i.searchString,o,i.isRegex,i.matchCase,i.wholeWord))}),this.highlightedDecorationId=null,this.decorationIndex=this.indexAfterPosition(this.startPosition),this.didReplace||e?this.decorations.length>0&&this.setSelectionToDecoration(this.decorations[this.decorationIndex]):this.decorationIndex=this.previousIndex(this.decorationIndex);var o={position:this.decorations.length>0?this.decorationIndex+1:0,count:this.decorations.length};this._emitMatchesUpdatedEvent(o),this.didReplace=!1},t.prototype.setFindScope=function(e){null===e?this.updateDecorations(!1,!0,e):this.updateDecorations(!1,!0,new l.Range(e.startLineNumber,1,e.endLineNumber,this.editor.getModel().getLineMaxColumn(e.endLineNumber)))},t.prototype.recomputeMatches=function(e,t){var n=!1;this.isRegex!==e.properties.isRegex&&(this.isRegex=e.properties.isRegex,n=!0),this.matchCase!==e.properties.matchCase&&(this.matchCase=e.properties.matchCase,n=!0),this.wholeWord!==e.properties.wholeWord&&(this.wholeWord=e.properties.wholeWord,n=!0),e.searchString!==this.searchString&&(this.searchString=e.searchString,n=!0),this.replaceString=e.replaceString,e.isReplaceRevealed!==this.searchOnlyEditableRange&&(this.searchOnlyEditableRange=e.isReplaceRevealed,n=!0),n&&this.updateDecorations(t,!1,null)},t.prototype.start=function(e,t,n){this.startPosition=this.editor.getPosition(),this.isRegex=e.properties.isRegex,this.matchCase=e.properties.matchCase,this.wholeWord=e.properties.wholeWord,this.searchString=e.searchString,this.replaceString=e.replaceString,this.searchOnlyEditableRange=e.isReplaceRevealed,this.setFindScope(t),this.decorationIndex=this.previousIndex(this.indexAfterPosition(this.startPosition));var i={state:e,selectionFindEnabled:this.hasFindScope(),shouldFocus:n};this._emitStartEvent(i)},t.prototype.prev=function(){this.decorations.length>0?(-1===this.decorationIndex&&(this.decorationIndex=this.indexAfterPosition(this.startPosition)),this.decorationIndex=this.previousIndex(this.decorationIndex),this.setSelectionToDecoration(this.decorations[this.decorationIndex])):this.hasFindScope()&&this.editor.revealRange(this.editor.getModel().getDecorationRange(this.findScopeDecorationId),!0,!0)},t.prototype.next=function(){this.decorations.length>0?(this.decorationIndex=-1===this.decorationIndex?this.indexAfterPosition(this.startPosition):this.nextIndex(this.decorationIndex),this.setSelectionToDecoration(this.decorations[this.decorationIndex])):this.hasFindScope()&&this.editor.revealRange(this.editor.getModel().getDecorationRange(this.findScopeDecorationId),!0,!0)},t.prototype.setSelectionToDecoration=function(e){var t=this;this.editor.changeDecorations(function(n){null!==t.highlightedDecorationId&&n.changeDecorationOptions(t.highlightedDecorationId,t.createFindMatchDecorationOptions(!1)),n.changeDecorationOptions(e,t.createFindMatchDecorationOptions(!0)),t.highlightedDecorationId=e});var n=this.editor.getModel().getDecorationRange(e);this.editor.setSelection(n,!0,!0,!0)},t.prototype.getReplaceString=function(e){if(!this.isRegex)return this.replaceString;var t=o.createRegExp(this.searchString,this.isRegex,this.matchCase,this.wholeWord);return e.replace(t,this.replaceString)},t.prototype.replace=function(){if(0!==this.decorations.length){var e=this.editor.getModel(),t=e.getDecorationRange(this.decorations[this.decorationIndex]),i=this.editor.getSelection();if(null!==t&&i.startColumn===t.startColumn&&i.endColumn===t.endColumn&&i.startLineNumber===t.startLineNumber&&i.endLineNumber===t.endLineNumber){var o=e.getValueInRange(i),r=this.getReplaceString(o),s=new a.ReplaceCommand(i,r);this.editor.executeCommand("replace",s),this.startPosition=new n.Position(i.startLineNumber,i.startColumn+r.length),this.decorationIndex=-1,this.didReplace=!0}else this.next()}},t.prototype.replaceAll=function(){var e=this;if(0!==this.decorations.length){for(var t=this.editor.getModel(),n=[],i=0,o=this.decorations.length;o>i;i++)n.push(t.getDecorationRange(this.decorations[i]));this.editor.changeDecorations(function(t){e.removeOldDecorations(t,!1)});for(var r=[],i=0,o=n.length;o>i;i++)r.push(this.getReplaceString(t.getValueInRange(n[i])));var a=new s.ReplaceAllCommand(n,r);this.editor.executeCommand("replaceAll",a)}},t.prototype.dispose=function(){var t=this;e.prototype.dispose.call(this),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.editor.changeDecorations(function(e){t.removeOldDecorations(e,!0)})},t.prototype.hasFindScope=function(){return!!this.findScopeDecorationId},t.prototype.previousIndex=function(e){return this.decorations.length>0?(e-1+this.decorations.length)%this.decorations.length:0},t.prototype.nextIndex=function(e){return this.decorations.length>0?(e+1)%this.decorations.length:0},t.prototype.indexAfterPosition=function(e){if(0===this.decorations.length)return 0;for(var t=0,n=this.decorations.length;n>t;t++){var i=this.decorations[t],o=this.editor.getModel().getDecorationRange(i);if(!(o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return t;if(!(o.startColumn<e.column))return t}}return 0},t.prototype.addStartEventListener=function(e){return this.addListener2(t._START_EVENT,e)},t.prototype._emitStartEvent=function(e){this.emit(t._START_EVENT,e)},t.prototype.addMatchesUpdatedEventListener=function(e){return this.addListener2(t._MATCHES_UPDATED_EVENT,e)},t.prototype._emitMatchesUpdatedEvent=function(e){this.emit(t._MATCHES_UPDATED_EVENT,e)},t._START_EVENT="start",t._MATCHES_UPDATED_EVENT="matches",t}(r.EventEmitter);t.FindModelBoundToEditorModel=c}),define("vs/css!vs/editor/contrib/find/findWidget",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/find/findWidget",["require","exports","vs/nls!vs/editor/editor.main","vs/base/errors","vs/base/eventEmitter","vs/base/dom/dom","vs/editor/core/constants","vs/base/dom/keyboardEvent","vs/base/ui/widgets/inputBox","vs/base/ui/widgets/findInput","vs/editor/editor","./findModel","vs/base/lifecycle","vs/css!./findWidget"],function(e,t,n,i,o,r,s,a,u,l,c,d,h){var p=function(e){function t(n,i){e.call(this,[t._USER_INPUT_EVENT,t._USER_CLOSED_EVENT]),this._codeEditor=n,this._contextViewProvider=i,this._isVisible=!1,this._isReplaceVisible=!1,this._isReplaceEnabled=!1,this._toDispose=[],this._focusGrid=new m,this._toDispose.push(this._focusGrid),this._model=null,this._modelListenersToDispose=[],this._buildDomNode(),this._codeEditor.addOverlayWidget(this)}return __extends(t,e),t.prototype.dispose=function(){this._removeModel(),this._findInput.destroy(),this._replaceInputBox.dispose(),this._toDispose=h.disposeAll(this._toDispose)},t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return this._isVisible?{preference:0}:null},t.prototype._setState=function(e,t){this._findInput.setValue(e.searchString),this._findInput.setCaseSensitive(e.properties.matchCase),this._findInput.setWholeWords(e.properties.wholeWord),this._findInput.setRegex(e.properties.isRegex),this._toggleSelectionFind.checkbox.disabled=!t,this._toggleSelectionFind.checkbox.checked=t,this._replaceInputBox.value=e.replaceString,e.isReplaceRevealed?this._enableReplace(!1):this._disableReplace(!1),this._onFindValueChange()},t.prototype.getState=function(){var e={searchString:this._findInput.getValue(),replaceString:this._replaceInputBox.value,properties:{isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},isReplaceRevealed:this._isReplaceEnabled,isVisible:this._isVisible};return e},t.prototype.setModel=function(e){var t=this;this._removeModel(),e?(this._model=e,this._modelListenersToDispose.push(this._model.addStartEventListener(function(e){t._reveal(e.shouldFocus),t._setState(e.state,e.selectionFindEnabled),e.shouldFocus&&t._findInput.select()})),this._modelListenersToDispose.push(this._model.addMatchesUpdatedEventListener(function(e){r.toggleClass(t._domNode,"no-results",""!==t._findInput.getValue()&&0===e.count)}))):this._hide(!1)},t.prototype._removeModel=function(){null!==this._model&&(this._modelListenersToDispose=h.disposeAll(this._modelListenersToDispose),this._model=null)},t.prototype._enableReplace=function(e){this._isReplaceEnabled=!0,this._codeEditor.getConfiguration().readOnly||this._isReplaceVisible||(this._replaceInputBox.enable(),this._isReplaceVisible=!0,r.addClass(this._domNode,"replaceToggled"),this._toggleReplaceBtn.toggleClass("collapse",!1),this._toggleReplaceBtn.toggleClass("expand",!0),this._toggleReplaceBtn.setExpanded(!0)),e&&this._emitUserInputEvent(!1)},t.prototype._disableReplace=function(e){this._isReplaceEnabled=!1,this._isReplaceVisible&&(this._replaceInputBox.disable(),r.removeClass(this._domNode,"replaceToggled"),this._toggleReplaceBtn.toggleClass("expand",!1),this._toggleReplaceBtn.toggleClass("collapse",!0),this._toggleReplaceBtn.setExpanded(!1),this._isReplaceVisible=!1),e&&this._emitUserInputEvent(!1)},t.prototype._onFindInputKeyDown=function(e){var t=this,n=e.asString(),o=!1;switch(n){case"Enter":this._codeEditor.getAction(d.NEXT_MATCH_FIND_ID).run().done(null,i.onUnexpectedError),o=!0;break;case"Shift-Enter":this._codeEditor.getAction(d.PREVIOUS_MATCH_FIND_ID).run().done(null,i.onUnexpectedError),o=!0;break;case"RightArrow":this._findInput.cursorIsAtEnd()&&(o=this._focusGrid.onKeyDown(this._findInput,e));break;case"LeftArrow":this._findInput.cursorIsAtBeginning()&&(o=this._focusGrid.onKeyDown(this._findInput,e));break;default:o=this._focusGrid.onKeyDown(this._findInput,e)}o?e.preventDefault():setTimeout(function(){t._onFindValueChange(),t._emitUserInputEvent(!0)},10)},t.prototype._onReplaceInputKeyDown=function(e){var t=this,n=e.asString(),o=!1;switch(n){case"Enter":this._codeEditor.getAction(d.REPLACE_ID).run().done(null,i.onUnexpectedError),o=!0;break;case"Meta-Enter":case"Ctrl-Enter":this._codeEditor.getAction(d.REPLACE_ALL_ID).run().done(null,i.onUnexpectedError),o=!0;break;case"RightArrow":this._replaceInputBox.cursorIsAtEnd()&&(o=this._focusGrid.onKeyDown(this._replaceInputBox,e));break;case"LeftArrow":this._replaceInputBox.cursorIsAtBeginning()&&(o=this._focusGrid.onKeyDown(this._replaceInputBox,e));break;default:o=this._focusGrid.onKeyDown(this._replaceInputBox,e)}o?e.preventDefault():setTimeout(function(){t._emitUserInputEvent(!0)},10)},t.prototype._onFindValueChange=function(){var e=this._findInput.getValue().length>0;this._prevBtn.setEnabled(e),this._nextBtn.setEnabled(e),this._replaceBtn.setEnabled(e),this._replaceAllBtn.setEnabled(e)},t.prototype._buildFindPart=function(){var e=this;this._findInput=new l.FindInput(null,this._contextViewProvider,{width:t.FIND_INPUT_AREA_WIDTH,label:n.localize("vs_editor_contrib_find_findWidget",0),placeholder:n.localize("vs_editor_contrib_find_findWidget",1),validation:function(t){if(0===t.length)return null;if(!e._findInput.getRegex())return null;try{return new RegExp(t),null}catch(n){return{content:n.message}}}}).on("keydown",function(t){e._onFindInputKeyDown(new a.KeyboardEvent(t))}).on(l.FindInput.OPTION_CHANGE,function(){e._emitUserInputEvent(!0)}),this._prevBtn=new g(n.localize("vs_editor_contrib_find_findWidget",2),"previous").onTrigger(function(){e._codeEditor.getAction(d.PREVIOUS_MATCH_FIND_ID).run().done(null,i.onUnexpectedError)}),this._toDispose.push(this._prevBtn),this._nextBtn=new g(n.localize("vs_editor_contrib_find_findWidget",3),"next").onTrigger(function(){e._codeEditor.getAction(d.NEXT_MATCH_FIND_ID).run().done(null,i.onUnexpectedError)}),this._toDispose.push(this._nextBtn);var o=document.createElement("div");return o.className="find-part",o.appendChild(this._findInput.domNode),o.appendChild(this._prevBtn.domNode),o.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=new f(o,n.localize("vs_editor_contrib_find_findWidget",4)),this._toDispose.push(r.addStandardDisposableListener(this._toggleSelectionFind.checkbox,"change",function(){e._toggleSelectionFind.checkbox.checked?e._codeEditor.getAction(d.ENABLE_SELECTION_FIND_ID).run().done(null,i.onUnexpectedError):(e._codeEditor.getAction(d.DISABLE_SELECTION_FIND_ID).run().done(null,i.onUnexpectedError),e._updateToggleSelectionFindButton())})),this._toDispose.push(this._toggleSelectionFind),this._codeEditor.addListener(s.EventType.CursorSelectionChanged,function(){e._updateToggleSelectionFindButton()}),this._closeBtn=new g(n.localize("vs_editor_contrib_find_findWidget",5),"close").onTrigger(function(){e._hide(!0),e._emitClosedEvent()}),this._toDispose.push(this._closeBtn),o.appendChild(this._closeBtn.domNode),o},t.prototype._updateToggleSelectionFindButton=function(){if(!this._toggleSelectionFind.checkbox.checked){var e=this._codeEditor.getSelection();this._toggleSelectionFind.checkbox.disabled=e.startLineNumber===e.endLineNumber}},t.prototype._buildReplacePart=function(){var e=this,o=document.createElement("div");o.className="replace-input",o.style.width=t.REPLACE_INPUT_AREA_WIDTH+"px",this._replaceInputBox=new u.InputBox(o,null,{ariaLabel:n.localize("vs_editor_contrib_find_findWidget",6),placeholder:n.localize("vs_editor_contrib_find_findWidget",7)}),this._toDispose.push(r.addStandardDisposableListener(this._replaceInputBox.inputElement,"keydown",function(t){return e._onReplaceInputKeyDown(t)})),this._replaceInputBox.disable(),this._replaceBtn=new g(n.localize("vs_editor_contrib_find_findWidget",8),"replace").onTrigger(function(){e._codeEditor.getAction(d.REPLACE_ID).run().done(null,i.onUnexpectedError)}),this._toDispose.push(this._replaceBtn),this._replaceAllBtn=new g(n.localize("vs_editor_contrib_find_findWidget",9),"replace-all").onTrigger(function(){e._codeEditor.getAction(d.REPLACE_ALL_ID).run().done(null,i.onUnexpectedError)}),this._toDispose.push(this._replaceAllBtn);var s=document.createElement("div");return s.className="replace-part",s.appendChild(o),s.appendChild(this._replaceBtn.domNode),s.appendChild(this._replaceAllBtn.domNode),s},t.prototype._buildDomNode=function(){var e=this,t=this._buildFindPart(),i=this._buildReplacePart();this._toggleReplaceBtn=new g(n.localize("vs_editor_contrib_find_findWidget",10),"toggle left").onTrigger(function(){e._isReplaceVisible?e._disableReplace(!0):e._enableReplace(!0)}),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._toDispose.push(this._toggleReplaceBtn),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","false"),this._codeEditor.getConfiguration().readOnly||r.addClass(this._domNode,"can-replace"),this._focusGrid.setFocusGridElements([[this._toggleReplaceBtn,this._findInput,this._prevBtn,this._nextBtn,this._closeBtn],[this._toggleReplaceBtn,this._replaceInputBox,this._replaceBtn,this._replaceAllBtn]]),this._focusGrid.setOnBeforeFocusInterceptor(function(t,n){1===n&&e._enableReplace(!0)}),this._toggleReplaceBtn.onKeyDown(function(t){return e._focusGrid.onKeyDown(e._toggleReplaceBtn,t)}),this._prevBtn.onKeyDown(function(t){return e._focusGrid.onKeyDown(e._prevBtn,t)}),this._nextBtn.onKeyDown(function(t){return e._focusGrid.onKeyDown(e._nextBtn,t)}),this._closeBtn.onKeyDown(function(t){return e._focusGrid.onKeyDown(e._closeBtn,t)}),this._replaceBtn.onKeyDown(function(t){return e._focusGrid.onKeyDown(e._replaceBtn,t)}),this._replaceAllBtn.onKeyDown(function(t){return e._focusGrid.onKeyDown(e._replaceAllBtn,t)}),this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(t),this._domNode.appendChild(i)
},t.prototype._reveal=function(e){var t=this;this._isVisible||(this._findInput.enable(),this._isReplaceVisible&&this._replaceInputBox.enable(),this._isVisible=!0,window.setTimeout(function(){r.addClass(t._domNode,"visible"),e||(r.addClass(t._domNode,"noanimation"),window.setTimeout(function(){r.removeClass(t._domNode,"noanimation")},200))},0),this._codeEditor.layoutOverlayWidget(this))},t.prototype._hide=function(e){this._isVisible&&(this._findInput.disable(),this._replaceInputBox.disable(),r.removeClass(this._domNode,"visible"),this._isVisible=!1,e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this))},t.prototype.addUserInputEventListener=function(e){return this.addListener2(t._USER_INPUT_EVENT,e)},t.prototype._emitUserInputEvent=function(e){var n={jumpToNextMatch:e};this.emit(t._USER_INPUT_EVENT,n)},t.prototype.addClosedEventListener=function(e){return this.addListener2(t._USER_CLOSED_EVENT,e)},t.prototype._emitClosedEvent=function(){this.emit(t._USER_CLOSED_EVENT)},t._USER_CLOSED_EVENT="close",t._USER_INPUT_EVENT="userInputEvent",t.ID="editor.contrib.findWidget",t.PART_WIDTH=275,t.FIND_INPUT_AREA_WIDTH=t.PART_WIDTH-54,t.REPLACE_INPUT_AREA_WIDTH=t.FIND_INPUT_AREA_WIDTH,t}(o.EventEmitter);t.FindWidget=p;var f=function(){function e(t,n){this._domNode=document.createElement("div"),this._domNode.className="monaco-checkbox",this._domNode.title=n,this._checkbox=document.createElement("input"),this._checkbox.type="checkbox",this._checkbox.className="checkbox",this._checkbox.id="checkbox-"+e.COUNTER++,this.label=document.createElement("label"),this.label.className="label",this.label.htmlFor=this._checkbox.id,this._domNode.appendChild(this._checkbox),this._domNode.appendChild(this.label),t.appendChild(this._domNode)}return Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkbox",{get:function(){return this._checkbox},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this._checkbox.focus()},e.prototype.dispose=function(){this._domNode=null,this._checkbox=null,this.label=null},e.COUNTER=0,e}();t.Checkbox=f;var g=function(){function e(e,t){var n=this;this._onTrigger=null,this._onKeyDown=null,this._domNode=document.createElement("div"),this._domNode.title=e,this._domNode.tabIndex=0,this._domNode.className="button "+t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",e),this._toDispose=[],this._toDispose.push(r.addStandardDisposableListener(this._domNode,"click",function(e){n._invokeOnTrigger(),e.preventDefault()})),this._toDispose.push(r.addStandardDisposableListener(this._domNode,"keydown",function(e){var t=e.asString();return"Space"===t||"Enter"===t?(n._invokeOnTrigger(),e.preventDefault(),void 0):(n._invokeOnKeyDown(e),void 0)}))}return e.prototype.dispose=function(){this._toDispose=h.disposeAll(this._toDispose)},Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this._domNode.focus()},e.prototype.setEnabled=function(e){r.toggleClass(this._domNode,"disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e))},e.prototype.setExpanded=function(e){this._domNode.setAttribute("aria-expanded",String(e))},e.prototype.toggleClass=function(e,t){r.toggleClass(this._domNode,e,t)},e.prototype.onTrigger=function(e){return this._onTrigger=e,this},e.prototype.onKeyDown=function(e){return this._onKeyDown=e,this},e.prototype._invokeOnTrigger=function(){this._onTrigger&&this._onTrigger()},e.prototype._invokeOnKeyDown=function(e){this._onKeyDown&&this._onKeyDown(e)},e}(),m=function(){function e(){this._grid=null,this._focusInterceptor=null}return e.prototype.dispose=function(){this._grid=null,this._focusInterceptor=null},e.prototype.setOnBeforeFocusInterceptor=function(e){this._focusInterceptor=e},e.prototype.setFocusGridElements=function(e){this._grid=e},e.prototype._findFocusGridElement=function(e){var t,n,i,o,r;for(t=0,n=this._grid.length;n>t;t++)for(i=this._grid[t],o=0,r=i.length;r>o;o++)if(i[o]===e)return{rowIndex:t,colIndex:o};return null},e.prototype._focusOn=function(e,t,n){if(0>e||e>=this._grid.length)return!1;var i=this._grid[e];return n&&(0>t&&(t=0),t>=i.length&&(t=i.length-1)),0>t||t>=i.length?!1:(this._focusInterceptor&&this._focusInterceptor(i[t],e,t),i[t].focus(),!0)},e.prototype._goRight=function(e,t){return this._focusOn(e,t+1,!1)},e.prototype._goLeft=function(e,t){return this._focusOn(e,t-1,!1)},e.prototype._goUp=function(e,t){return this._focusOn(e-1,t,!0)},e.prototype._goDown=function(e,t){return this._focusOn(e+1,t,!0)},e.prototype._handleKeyDown=function(e,t,n){switch(n){case"LeftArrow":return this._goLeft(e,t);case"RightArrow":return this._goRight(e,t);case"UpArrow":return this._goUp(e,t);case"DownArrow":return this._goDown(e,t)}return!1},e.prototype.onKeyDown=function(e,t){var n=this._findFocusGridElement(e);return n?this._handleKeyDown(n.rowIndex,n.colIndex,t.asString())?(t.preventDefault(),!0):!1:!1},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/find/find",["require","exports","vs/base/lib/winjs.base","vs/editor/editorExtensions","./findWidget","./findModel","vs/nls!vs/editor/editor.main","vs/editor/core/constants","vs/base/lifecycle"],function(e,t,n,i,o,r,s,a,u){var l=function(){function e(e,t){var n=this;this.handlerService=e.handlerService,this.editor=t,this.binding=null,this.model=null,this.widgetIsVisible=!1,this.lastState=null,this.widget=new o.FindWidget(this.editor,e.contextViewService),this.widgetListeners=[],this.widgetListeners.push(this.widget.addUserInputEventListener(function(e){return n.onWidgetUserInput(e)})),this.widgetListeners.push(this.widget.addClosedEventListener(function(){return n.onWidgetClosed()})),this.editorListeners=[],this.editorListeners.push(this.editor.addListener(a.EventType.ModelChanged,function(){n.disposeBindingAndModel(),n.editor.getModel()&&n.lastState&&n.widgetIsVisible&&n._start(!1,!1,!1,!1)})),this.editorListeners.push(this.editor.addListener(a.EventType.Disposed,function(){n.editorListeners.forEach(function(e){e()}),n.editorListeners=[]}))}return e.getFindController=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.widgetListeners=u.disposeAll(this.widgetListeners),this.widget&&(this.widget.dispose(),this.widget=null),this.disposeBindingAndModel()},e.prototype.disposeBindingAndModel=function(){this.binding&&(this.binding.dispose(),this.binding=null),this.widget&&this.widget.setModel(null),this.model&&(this.model.dispose(),this.model=null)},e.prototype.onEscape=function(){return this.widgetIsVisible=!1,this.disposeBindingAndModel(),this.editor.focus(),!0},e.prototype.onWidgetClosed=function(){this.widgetIsVisible=!1,this.disposeBindingAndModel()},e.prototype.onWidgetUserInput=function(e){this.lastState=this.widget.getState(),this.model&&this.model.recomputeMatches(this.lastState,e.jumpToNextMatch)},e.prototype._start=function(e,t,n,i){var o=this;this.model||(this.model=new r.FindModelBoundToEditorModel(this.editor),this.widget.setModel(this.model)),null===this.binding&&(this.binding=this.handlerService.bind({key:"Escape"},function(){return o.onEscape()})),this.lastState=this.lastState||this.widget.getState();var s=this.editor.getSelection();t&&!s.isEmpty()&&s.startLineNumber===s.endLineNumber&&(this.lastState.searchString=this.editor.getModel().getValueInRange(s));var a=null;n&&s.startLineNumber<s.endLineNumber&&(a=s),e&&(this.lastState.isReplaceRevealed=e),this.model.start(this.lastState,a,i),this.widgetIsVisible=!0},e.prototype.startFromAction=function(e){this._start(e,!0,!0,!0)},e.prototype.next=function(){return this.model?(this.model.next(),!0):!1},e.prototype.prev=function(){return this.model?(this.model.prev(),!0):!1},e.prototype.enableSelectionFind=function(){this.model&&this.model.setFindScope(this.editor.getSelection())},e.prototype.disableSelectionFind=function(){this.model&&this.model.setFindScope(null)},e.prototype.replace=function(){return this.model?(this.model.replace(),!0):!1},e.prototype.replaceAll=function(){return this.model?(this.model.replaceAll(),!0):!1},e.ID="editor.contrib.findController",e}();t.FindController=l;var c=function(e){function t(t,n,o){e.call(this,t,n,o,i.Behaviour.WidgetFocus)}return __extends(t,e),t.prototype._startController=function(e){e.startFromAction(!1)},t.prototype.run=function(){var e=l.getFindController(this.editor);return this._startController(e),n.TPromise.as(!0)},t}(i.EditorAction);t.StartFindAction=c;var d=function(e){function t(t,n,o){e.call(this,t,n,o,i.Behaviour.WidgetFocus)}return __extends(t,e),t.prototype.run=function(){var e=l.getFindController(this.editor);return e.next()?n.TPromise.as(!0):this.editor.getAction(r.START_FIND_ID).run()},t}(i.EditorAction);t.NextMatchFindAction=d;var h=function(e){function t(t,n,o){e.call(this,t,n,o,i.Behaviour.WidgetFocus)}return __extends(t,e),t.prototype.run=function(){var e=l.getFindController(this.editor);return e.prev()?n.TPromise.as(!0):this.editor.getAction(r.START_FIND_ID).run()},t}(i.EditorAction);t.PreviousMatchFindAction=h;var p=function(e){function t(t,n,o){e.call(this,t,n,o,i.Behaviour.WidgetFocus)}return __extends(t,e),t.prototype.run=function(){var e=l.getFindController(this.editor);return e.enableSelectionFind(),n.TPromise.as(!0)},t}(i.EditorAction);t.EnableSelectionFindAction=p;var f=function(e){function t(t,n,o){e.call(this,t,n,o,i.Behaviour.WidgetFocus)}return __extends(t,e),t.prototype.run=function(){var e=l.getFindController(this.editor);return e.disableSelectionFind(),n.TPromise.as(!0)},t}(i.EditorAction);t.DisableSelectionFindAction=f;var g=function(e){function t(t,n,i){e.call(this,t,n,i)}return __extends(t,e),t.prototype.getId=function(){return r.START_FIND_REPLACE_ID},t.prototype._startController=function(e){e.startFromAction(!0)},t}(c);t.StartFindReplaceAction=g;var m=function(e){function t(t,n,o){e.call(this,t,n,o,i.Behaviour.WidgetFocus),this.label=s.localize("vs_editor_contrib_find_find",0)}return __extends(t,e),t.prototype.run=function(){var e=l.getFindController(this.editor);return e.replace()?n.TPromise.as(!0):n.TPromise.as(!1)},t}(i.EditorAction);t.ReplaceAction=m;var v=function(e){function t(t,n,o){e.call(this,t,n,o,i.Behaviour.WidgetFocus),this.label=s.localize("vs_editor_contrib_find_find",1)}return __extends(t,e),t.prototype.run=function(){var e=l.getFindController(this.editor);return e.replaceAll()?n.TPromise.as(!0):n.TPromise.as(!1)},t}(i.EditorAction);t.ReplaceAllAction=v,i.registerEditorActionContribution(c,r.START_FIND_ID,s.localize("vs_editor_contrib_find_find",2),{ctrlCmd:!0,key:"F"},{ctrlCmd:!0,key:"F3"}),i.registerEditorActionContribution(d,r.NEXT_MATCH_FIND_ID,s.localize("vs_editor_contrib_find_find",3),{key:"F3"}),i.registerEditorActionContribution(h,r.PREVIOUS_MATCH_FIND_ID,s.localize("vs_editor_contrib_find_find",4),{shift:!0,key:"F3"}),i.registerEditorActionContribution(p,r.ENABLE_SELECTION_FIND_ID,s.localize("vs_editor_contrib_find_find",5)),i.registerEditorActionContribution(f,r.DISABLE_SELECTION_FIND_ID,s.localize("vs_editor_contrib_find_find",6)),i.registerEditorActionContribution(g,r.START_FIND_REPLACE_ID,s.localize("vs_editor_contrib_find_find",7),{ctrlCmd:!0,key:"H"}),i.registerEditorActionContribution(m,r.REPLACE_ID,s.localize("vs_editor_contrib_find_find",8)),i.registerEditorActionContribution(v,r.REPLACE_ALL_ID,s.localize("vs_editor_contrib_find_find",9)),i.registerEditorContribution(l)}),define("vs/editor/core/editorState",["require","exports","vs/base/strings"],function(e,t,n){function i(e){for(var t=[],n=0;n<arguments.length-1;n++)t[n]=arguments[n+1];return new o(e,t)}!function(e){e[e.Value=0]="Value",e[e.Selection=1]="Selection",e[e.Position=2]="Position",e[e.Scroll=3]="Scroll"}(t.Flag||(t.Flag={}));t.Flag;t.capture=i;var o=function(){function e(e,t){var i=this;this.editor=e,this.flags=t,t.forEach(function(e){switch(e){case 0:var t=i.editor.getModel();i.modelVersionId=t?n.format("{0}#{1}",t.getAssociatedResource().toExternal(),t.getVersionId()):null;break;case 2:i.position=i.editor.getPosition();break;case 1:i.selection=i.editor.getSelection();break;case 3:i.scrollLeft=i.editor.getScrollLeft(),i.scrollTop=i.editor.getScrollTop()}})}return e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.modelVersionId!==n.modelVersionId?!1:this.scrollLeft!==n.scrollLeft||this.scrollTop!==n.scrollTop?!1:!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position)?!1:!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection)?!1:!0},e.prototype.validate=function(){return this.equals(new e(this.editor,this.flags))},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/format/format",["require","exports","vs/base/lib/winjs.base","vs/base/types","vs/editor/core/range","vs/editor/core/constants","vs/nls!vs/editor/editor.main","vs/editor/editorExtensions","vs/editor/core/command/replaceCommand","vs/editor/editor","vs/editor/core/editorState"],function(e,t,n,i,o,r,s,a,u,l,c){var d=function(){function e(e,t){var n=this;this.editor=t,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(t.addListener(r.EventType.ConfigurationChanged,function(){return n.update()})),this.callOnDispose.push(t.addListener(r.EventType.ModelChanged,function(){return n.update()})),this.callOnDispose.push(t.addListener(r.EventType.ModelModeChanged,function(){return n.update()}))}return e.prototype.update=function(){for(var e=this;this.callOnModel.length>0;)this.callOnModel.pop()();if(this.editor.getConfiguration().formatOnType&&!i.isUndefinedOrNull(this.editor.getModel())){var t=this.editor.getModel(),n=t.getMode();!i.isUndefinedOrNull(n.formattingSupport)&&i.isFunction(n.formattingSupport.getAutoFormatTriggerCharacters)&&i.isFunction(n.formattingSupport.formatAfterKeystroke)&&(this.formattingOptions=this.editor.getIndentationOptions(),n.formattingSupport.getAutoFormatTriggerCharacters().forEach(function(t){e.callOnModel.push(e.editor.addTypingListener(t,function(){return e.trigger()}))}))}},e.prototype.trigger=function(){var e=this,t=this.editor.getModel(),r=this.editor.getPosition().lineNumber,s=new o.Range(r,1,r,t.getLineMaxColumn(r)),a={range:s,id:t.addTrackedRange(s,0),lineText:t.getLineContent(r)},l=new n.TPromise(function(n,o,r){t.getMode().formattingSupport.formatAfterKeystroke(t.getAssociatedResource(),e.editor.getPosition(),e.formattingOptions).then(function(e){var o=t.getTrackedRange(a.id);if(t.removeTrackedRange(a.id),!i.isUndefinedOrNull(e)){var r=t.getValueInRange(o);a.lineText===r&&e.text!==r&&e.range.startLineNumber===e.range.endLineNumber&&(a.lineText=e.text,a.range=o,n(a))}},o,r)});l.then(function(t){var n=new o.Range(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn),i=e.editor.getSelection(),r=new u.ReplaceCommandThatPreservesSelection(n,t.lineText,i);e.editor.executeCommand(e.getId(),r)},function(){})},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()();for(;this.callOnModel.length>0;)this.callOnModel.pop()()},e.ID="editor.contrib.autoFormat",e}(),h=function(e){function t(t,n,i){e.call(this,t,n,i,a.Behaviour.WidgetFocus|a.Behaviour.Writeable|a.Behaviour.UpdateOnModelChange|a.Behaviour.ShowInContextMenu)}return __extends(t,e),t.prototype.getGroupId=function(){return"style/format"},t.prototype.isSupported=function(){var e=this.editor.getModel().getMode();return!!e&&!!e.formattingSupport&&!this.editor.getConfiguration().readOnly},t.prototype.run=function(){var e=this,t=this.editor.getModel(),n=t.getMode().formattingSupport,r=this.editor.getPosition(),s=this.editor.getSelection();s.isEmpty()||(s.startColumn=1);var a=s;s.isEmpty()&&(a=new o.Range(1,1,t.getLineCount(),t.getLineMaxColumn(t.getLineCount())));var u=this.editor.getIndentationOptions(),l=c.capture(this.editor,0,2);return n.format(t.getAssociatedResource(),a,u).then(function(t){return l.validate()?i.isString(t)?(e.apply(e.editor,r,s,t),e.editor.focus(),!0):!1:!1})},t.prototype.apply=function(e,t,n,i){if(n.isEmpty()){if(e.getModel().getValue()===i)return;var r=e.getModel().getLineCount(),s=e.getModel().getLineMaxColumn(r),a=new u.ReplaceCommand(new o.Range(1,1,r,s),i),l=e.saveViewState();e.executeCommand(this.id,a),e.restoreViewState(l)}else{var c=new u.ReplaceCommandThatPreservesSelection(n,i,n);e.executeCommand(this.id,c)}},t.ID="editor.actions.format",t}(a.EditorAction);t.FormatAction=h,a.registerEditorActionContribution(h,h.ID,s.localize("vs_editor_contrib_format_format",0)),a.registerEditorContribution(d)}),define("vs/editor/contrib/hover/hoverOperation",["require","exports","vs/base/time/schedulers","vs/base/errors"],function(e,t,n,i){var o;!function(e){e[e.IDLE=0]="IDLE",e[e.FIRST_WAIT=1]="FIRST_WAIT",e[e.SECOND_WAIT=2]="SECOND_WAIT",e[e.WAITING_FOR_ASYNC_COMPUTATION=3]="WAITING_FOR_ASYNC_COMPUTATION"}(o||(o={}));var r=function(){function e(e,t,i,o){var r=this;this._computer=e,this._state=0,this._firstWaitScheduler=new n.RunOnceScheduler(function(){return r._triggerAsyncComputation()},this._getHoverTimeMillis()/2),this._secondWaitScheduler=new n.RunOnceScheduler(function(){return r._triggerSyncComputation()},this._getHoverTimeMillis()/2),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=i,this._progressCallback=o}return e.prototype.getComputer=function(){return this._computer},e.prototype._getHoverTimeMillis=function(){return this._computer.getHoverTimeMillis?this._computer.getHoverTimeMillis():e.HOVER_TIME},e.prototype._triggerAsyncComputation=function(){var e=this;this._state=2,this._secondWaitScheduler.schedule(),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=this._computer.computeAsync(),this._asyncComputationPromise.then(function(t){e._asyncComputationPromiseDone=!0,e._withAsyncResult(t)}).done(null,function(){return e._onError})):this._asyncComputationPromiseDone=!0},e.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))},e.prototype._withAsyncResult=function(e){e&&this._computer.onResult(e,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))},e.prototype._onComplete=function(e){this._completeCallback&&this._completeCallback(e)},e.prototype._onError=function(e){this._errorCallback?this._errorCallback(e):i.onUnexpectedError(e)},e.prototype._onProgress=function(e){this._progressCallback&&this._progressCallback(e)},e.prototype.start=function(){0===this._state&&(this._state=1,this._firstWaitScheduler.schedule())},e.prototype.cancel=function(){1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&this._asyncComputationPromise.cancel()),3===this._state&&this._asyncComputationPromise&&this._asyncComputationPromise.cancel(),this._state=0},e.HOVER_TIME=300,e}();t.HoverOperation=r}),define("vs/editor/contrib/hover/hoverWidgets",["require","exports","vs/editor/editor","vs/editor/core/position"],function(e,t,n,i){var o=function(){function e(e,t){this._id=e,this._editor=t,this._isVisible=!1,this._containerDomNode=document.createElement("div"),this._containerDomNode.className="monaco-editor-hover monaco-editor-background",this._containerDomNode.style.display="none",this._domNode=document.createElement("div"),this._domNode.style.display="inline-block",this._containerDomNode.appendChild(this._domNode),this._editor.addContentWidget(this),this._showAtPosition=null}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._containerDomNode},e.prototype.showAt=function(e){this._showAtPosition=new i.Position(e.lineNumber,e.column),this._isVisible||(this._isVisible=!0,this._containerDomNode.style.display="block");var t=parseInt(this._containerDomNode.style.maxWidth,10);this._containerDomNode.style.width=t+"px",this._containerDomNode.style.height="",this._containerDomNode.style.left="0px";var n=Math.min(t,this._domNode.clientWidth+5),o=this._domNode.clientHeight+1;this._containerDomNode.style.width=n+"px",this._containerDomNode.style.height=o+"px",this._editor.layoutContentWidget(this),this._editor.getOffsetForColumn(this._showAtPosition.lineNumber,this._showAtPosition.column)},e.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._containerDomNode.style.display="none",this._editor.layoutContentWidget(this))},e.prototype.getPosition=function(){return this._isVisible?{position:this._showAtPosition,preference:[1,2]}:null},e.prototype.dispose=function(){this.hide()},e}();t.ContentHoverWidget=o;var r=function(){function e(e,t){this._id=e,this._editor=t,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-editor-hover monaco-editor-background",this._domNode.style.display="none",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","presentation"),this._showAtLineNumber=-1,this._editor.addOverlayWidget(this)}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.showAt=function(e){this._showAtLineNumber=e,this._isVisible||(this._isVisible=!0,this._domNode.style.display="block");var t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(this._showAtLineNumber),i=this._editor.getScrollTop();this._domNode.style.left=t.glyphMarginLeft+t.glyphMarginWidth+"px",this._domNode.style.top=n-i+"px"},e.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},e.prototype.getPosition=function(){return null},e.prototype.dispose=function(){this.hide()},e}();t.GlyphHoverWidget=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/hover/modesContentHover",["require","exports","vs/editor/core/range","vs/base/lib/winjs.base","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/hover/hoverWidgets","vs/base/dom/htmlContent"],function(e,t,n,i,o,r,s){var a=function(){function e(e){this._editor=e,this._range=null}return e.prototype.setRange=function(e){this._range=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeAsync=function(){var e=this._editor.getModel().getMode(),t=e.extraInfoSupport;return t?t.computeInfo(this._editor.getModel().getAssociatedResource(),{lineNumber:this._range.startLineNumber,column:this._range.startColumn}).then(function(e){if(e){var t="undefined"!=typeof e.range,n="undefined"!=typeof e.value,i="undefined"!=typeof e.htmlContent&&e.htmlContent&&e.htmlContent.length>0;if(t&&(n||i))return[e]}return null}):i.TPromise.as(null)},e.prototype.computeSync=function(){var e=this,t=this._range.startLineNumber,i=this._editor.getLineDecorations(t),o=this._editor.getModel().getLineMaxColumn(t),r=[];return i.forEach(function(i){var s=i.range.startLineNumber===t?i.range.startColumn:1,a=i.range.endLineNumber===t?i.range.endColumn:o;if(s<=e._range.startColumn&&e._range.endColumn<=a&&(i.options.hoverMessage||i.options.htmlMessage&&i.options.htmlMessage.length>0)){var u={value:i.options.hoverMessage,range:new n.Range(e._range.startLineNumber,s,e._range.startLineNumber,a)};i.options.htmlMessage&&(u.htmlContent=i.options.htmlMessage),r.push(u)}}),r},e.prototype.onResult=function(e,t){this._result=t?e.concat(this._result):this._result.concat(e)},e.prototype.getResult=function(){return this._result.slice(0)},e}(),u=function(e){function t(n){var i=this;e.call(this,t.ID,n),this._computer=new a(this._editor),this._highlightDecorations=[],this._hoverOperation=new o.HoverOperation(this._computer,function(e){return i._withResult(e,!0)},null,function(e){return i._withResult(e,!1)})}return __extends(t,e),t.prototype.onModelDecorationsChanged=function(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start())},t.prototype.startShowingAt=function(e){if(!this._lastRange||!this._lastRange.equalsRange(e)){if(this._hoverOperation.cancel(),this._isVisible)if(this._showAtPosition.lineNumber!==e.startLineNumber)this.hide();else{for(var t=[],n=0,i=this._messages.length;i>n;n++){var o=this._messages[n],r=o.range;r.startColumn<=e.startColumn&&r.endColumn>=e.endColumn&&t.push(o)}t.length>0?this._renderMessages(e,t):this.hide()}this._lastRange=e,this._computer.setRange(e),this._hoverOperation.start()}},t.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),e.prototype.hide.call(this),this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[])},t.prototype._withResult=function(e,t){this._messages=e,this._messages.length>0?this._renderMessages(this._lastRange,this._messages):t&&this.hide()},t.prototype._renderMessages=function(e,t){var i=Number.MAX_VALUE,o=t[0].range,r=document.createDocumentFragment();t.forEach(function(e){if(e.range){i=Math.min(i,e.range.startColumn),o=n.plusRange(o,e.range);var t=document.createElement("div"),a=null,u=t;e.className&&(a=document.createElement("span"),a.className=e.className,u=a,t.appendChild(a)),e.htmlContent&&e.htmlContent.length>0?e.htmlContent.forEach(function(e){u.appendChild(s.renderHtml(e))}):u.textContent=e.value,r.appendChild(t)}}),this._domNode.textContent="",this._domNode.appendChild(r),this.showAt({lineNumber:e.startLineNumber,column:i}),this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[{range:o,options:{className:"hoverHighlight"}}])},t.ID="editor.contrib.modesContentHoverWidget",t}(r.ContentHoverWidget);t.ModesContentHoverWidget=u});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/hover/modesGlyphHover",["require","exports","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/hover/hoverWidgets"],function(e,t,n,i){var o=function(){function e(e){this._editor=e,this._lineNumber=-1}return e.prototype.setLineNumber=function(e){this._lineNumber=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeSync=function(){var e,t,n,i=[],o=this._editor.getLineDecorations(this._lineNumber);for(e=0,t=o.length;t>e;e++)n=o[e],n.options.glyphMarginClassName&&n.options.hoverMessage&&i.push({value:n.options.hoverMessage});return i},e.prototype.onResult=function(e){this._result=this._result.concat(e)},e.prototype.getResult=function(){return this._result},e}(),r=function(e){function t(i){var r=this;e.call(this,t.ID,i),-1===this._lastLineNumber,this._computer=new o(this._editor),this._hoverOperation=new n.HoverOperation(this._computer,function(e){return r._withResult(e)},null,function(e){return r._withResult(e)})}return __extends(t,e),t.prototype.onModelDecorationsChanged=function(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start())},t.prototype.startShowingAt=function(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start())},t.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),e.prototype.hide.call(this)},t.prototype._withResult=function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},t.prototype._renderMessages=function(e,t){var n=document.createDocumentFragment();t.forEach(function(e){var t=document.createElement("div"),i=null;e.className?(i=document.createElement("span"),i.textContent=e.value,i.className=e.className,t.appendChild(i)):t.textContent=e.value,n.appendChild(t)}),this._domNode.textContent="",this._domNode.appendChild(n),this.showAt(e)},t.ID="editor.contrib.modesGlyphHoverWidget",t}(i.GlyphHoverWidget);t.ModesGlyphHoverWidget=r}),define("vs/css!vs/editor/contrib/hover/hover",["vs/css!vs/editor/editor.main"],{}),define("vs/editor/contrib/hover/hover",["require","exports","vs/editor/core/constants","vs/editor/editorExtensions","vs/editor/editor","vs/base/env","vs/editor/contrib/hover/modesContentHover","vs/editor/contrib/hover/modesGlyphHover","vs/css!./hover"],function(e,t,n,i,o,r,s,a){var u=function(){function e(e,t){var i=this;this._editor=t,this._toUnhook=[],t.getConfiguration().hover&&(this._toUnhook.push(this._editor.addListener(n.EventType.MouseDown,function(e){return i._onEditorMouseDown(e)})),this._toUnhook.push(this._editor.addListener(n.EventType.MouseMove,function(e){return i._onEditorMouseMove(e)})),this._toUnhook.push(this._editor.addListener(n.EventType.MouseLeave,function(){return i._hideWidgets()})),this._toUnhook.push(this._editor.addListener(n.EventType.KeyDown,function(e){return i._onKeyDown(e)})),this._toUnhook.push(this._editor.addListener(n.EventType.ModelChanged,function(){return i._hideWidgets()})),this._toUnhook.push(this._editor.addListener(n.EventType.ModelDecorationsChanged,function(){return i._onModelDecorationsChanged()})),this._toUnhook.push(this._editor.addListener("scroll",function(){return i._hideWidgets()})),this._contentWidget=new s.ModesContentHoverWidget(t),this._glyphWidget=new a.ModesGlyphHoverWidget(t))}return e.prototype._onModelDecorationsChanged=function(){this._contentWidget.onModelDecorationsChanged(),this._glyphWidget.onModelDecorationsChanged()},e.prototype._onEditorMouseDown=function(e){var t=e.target.type;(9!==t||e.target.detail!==s.ModesContentHoverWidget.ID)&&(12!==t||e.target.detail!==a.ModesGlyphHoverWidget.ID)&&this._hideWidgets()},e.prototype._onEditorMouseMove=function(e){var t=e.target.type,n=r.browser.isMacintosh?"metaKey":"ctrlKey";(9!==t||e.target.detail!==s.ModesContentHoverWidget.ID||e.event[n])&&(12!==t||e.target.detail!==a.ModesGlyphHoverWidget.ID||e.event[n])&&(this._editor.getConfiguration().hover&&6===t?(this._glyphWidget.hide(),this._contentWidget.startShowingAt(e.target.range)):this._editor.getConfiguration().hover&&2===t?(this._contentWidget.hide(),this._glyphWidget.startShowingAt(e.target.position.lineNumber)):this._hideWidgets())},e.prototype._onKeyDown=function(e){var t=r.browser.isMacintosh?"Meta":"Ctrl";e.key!==t&&this._hideWidgets()},e.prototype._hideWidgets=function(){this._glyphWidget.hide(),this._contentWidget.hide()},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){for(;this._toUnhook.length>0;)this._toUnhook.pop()();this._glyphWidget&&(this._glyphWidget.dispose(),this._glyphWidget=null),this._contentWidget&&(this._contentWidget.dispose(),this._contentWidget=null)},e.ID="editor.contrib.hover",e}();i.registerEditorContribution(u)}),define("vs/css!vs/editor/contrib/rename/rename",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/rename/rename",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/editor/editor.main","vs/editor/editorExtensions","vs/platform/services","vs/editor/core/range","vs/editor/core/editorState","vs/editor/core/constants","vs/css!./rename"],function(e,t,n,i,o,r,s,a,u){var l=function(){function e(e,t,n,i){var o=this;this.editor=e,this.isDisposed=!1,this.editor.changeDecorations(function(e){o.decorations=[];
for(var i=0,r=t.length;r>i;i++){var s="linked-editing-placeholder";o.decorations.push(e.addDecoration(n[i],{className:s}))}}),this.editor.setSelections(t),this.listenersToRemove=[],this.listenersToRemove.push(this.editor.addListener(u.EventType.CursorPositionChanged,function(e){if(!o.isDisposed){var t=1+e.secondaryPositions.length;t!==o.decorations.length&&o.dispose()}})),this.binding=i.bindGroup(function(e){e({key:"Enter"},function(){return o.onEnterOrEscape()}),e({key:"Escape"},function(){return o.onEnterOrEscape()})})}return e.prototype.onEnterOrEscape=function(){return this.isDisposed?void 0:(this.editor.setSelection(this.editor.getSelection()),this.dispose(),!0)},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.decorations=this.editor.deltaDecorations(this.decorations,[]),this.binding.dispose(),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[])},e}(),c=function(e){function t(t,n,i){e.call(this,t,n,i,o.Behaviour.WidgetFocus|o.Behaviour.Writeable|o.Behaviour.ShowInContextMenu|o.Behaviour.UpdateOnCursorPositionChange),this.idPool=0,this.messageService=t.messageService}return __extends(t,e),t.prototype.computeInfos=function(){return n.Promise.as([])},t.prototype.run=function(){var e=this,t=++this.idPool,n=a.capture(this.editor,2,0),i=this.editor.getSelection();return this.computeInfos(this.editor).then(function(o){if(t===e.idPool&&n.validate()&&0!==o.length){var r=o.map(function(e){return e.range});e._beginLinkedEditing(r,i)}},function(t){e.messageService.show(0,t)})},t.prototype._indexOf=function(e,t,n){for(var i={lineNumber:t,column:n},o=0;o<e.length;o++)if(e[o].startLineNumber===t&&s.containsPosition(e[o],i))return o;return-1},t.prototype._beginLinkedEditing=function(e,t){var n=this.editor.getSelection(),i=this._indexOf(e,n.positionLineNumber,n.positionColumn);if(-1!==i||(n=t,i=this._indexOf(e,n.positionLineNumber,n.positionColumn),-1!==i)){var o=!1;n.isEmpty()||s.containsPosition(e[i],{lineNumber:n.selectionStartLineNumber,column:n.selectionStartColumn})&&(o=!0);var r,a;o?(r=n.positionColumn-e[i].startColumn,a=n.selectionStartColumn-e[i].startColumn):(r=e[i].endColumn-e[i].startColumn,a=0);var u=[];u.push({selectionStartLineNumber:e[i].startLineNumber,selectionStartColumn:e[i].startColumn+a,positionLineNumber:e[i].startLineNumber,positionColumn:e[i].startColumn+r});for(var c=0;c<e.length;c++)c!==i&&u.push({selectionStartLineNumber:e[c].startLineNumber,selectionStartColumn:e[c].startColumn+a,positionLineNumber:e[c].startLineNumber,positionColumn:e[c].startColumn+r});new l(this.editor,u,e,this.handlerService)}},t}(o.EditorAction);t.LinkedEditing=c;var d=function(e){function t(t,n,i){e.call(this,t,n,i)}return __extends(t,e),t.prototype.getGroupId=function(){return"rename/changeAll"},t.prototype.isSupported=function(){var e=this.editor.getModel().getMode();return!(!e||!e.occurrencesSupport||e.referenceSupport||this.editor.getModel().hasEditableRange()||this.editor.getConfiguration().readOnly)},t.prototype.computeInfos=function(e){var t=e.getSelection(),n=t.getStartPosition(),i=e.getModel();return this.editor.getModel().getMode().occurrencesSupport.findOccurrences(i.getAssociatedResource(),n)},t.ID="editor.actions.changeAll",t}(c);t.ChangeAllAction=d;var h=function(e){function t(t,n,i){e.call(this,t,n,i)}return __extends(t,e),t.prototype.getGroupId=function(){return"rename/refactor"},t.prototype.isSupported=function(){var e=this.editor.getModel().getMode();return!(!e||!e.referenceSupport||this.editor.getModel().hasEditableRange()||this.editor.getConfiguration().readOnly)},t.prototype.getEnablementState=function(){var e=this.editor.getModel(),t=this.editor.getSelection().getStartPosition();return e.getMode().referenceSupport.canFindReferences(e.getLineTokens(t.lineNumber),t.column-1)},t.prototype.computeInfos=function(e){var t=e.getSelection(),o=t.getStartPosition(),r=e.getModel(),s=r.getMode();return new n.Promise(function(e,t,n){s.referenceSupport.findReferences(r.getAssociatedResource(),o).then(function(n){var o,r,s=!1,a=[];for(r=0;!s&&r<n.length;r++){var u=n[r];if("undefined"==typeof o)o=u.resourceUrl;else if(o!==u.resourceUrl){s=!0;break}a.push({kind:null,range:u.range})}s?t(i.localize("vs_editor_contrib_rename_rename",0)):e(a)},t,n)})},t.ID="editor.actions.rename",t}(c);t.RenameAction=h,o.registerEditorActionContribution(h,h.ID,i.localize("vs_editor_contrib_rename_rename",1),{key:"F2"}),o.registerEditorActionContribution(d,d.ID,i.localize("vs_editor_contrib_rename_rename",2),{ctrlCmd:!0,key:"F2"})});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/collections",["require","exports","vs/base/errors"],function(e,t,n){function i(e,t,n){"undefined"==typeof n&&(n=null);var i=String(t);return e.hasOwnProperty(i)?e[i]:n}function o(e,t,n){var i=String(t);return e.hasOwnProperty(i)?e[i]:(e[i]=n,n)}function r(e,t){return e.hasOwnProperty(t)}function s(e){return{every:function(t){for(var n in e)if(e.hasOwnProperty(n)&&!t(n))return!1;return!0}}}function a(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function u(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=t({key:n,value:e[n]},function(){delete e[n]});if(i===!1)return}}function l(e,t){var n=new b(Math.min(4,Math.ceil(e.length/4)));return e.every(function(e){var i=t(e),o=n.lookup(i);return o||(o=[],n.add(i,o)),o.push(e),!0}),n}function c(e){return new g(e)}function d(e){var n=e.length;return 0===n?t.EmptyIterable:1===n?e[0]:{every:function(t){for(var i=0;n>i;i++)if(!e[i].every(t))return!1;return!0}}}function h(e){return{every:function(t){return t(e)}}}function p(e){if(Array.isArray(e))return e;var t=[];return e.every(function(e){return t.push(e),!0}),t}t.lookup=i,t.lookupOrInsert=o,t.contains=r,t.keys=s,t.values=a,t.forEach=u,t.groupBy=l,t.fromArray=c,t.EmptyIterable={every:function(){return!0}},t.combine=d,t.singleton=h,t.toArray=p;var f=function(){function e(){}return e.prototype.toArray=function(e,t){return"undefined"==typeof e&&(e=new Array),"undefined"==typeof t&&(t=0),this.every(function(n){e[t]=n,t+=1}),e},Object.defineProperty(e.prototype,"length",{get:function(){var e=0;return this.every(function(){e+=1}),e},enumerable:!0,configurable:!0}),e.prototype.every=function(){throw n.notImplemented()},e}();t.AbstractCollection=f;var g=function(e){function t(t){e.call(this),this.data=t}return __extends(t,e),t.prototype.every=function(e){for(var t=0;t<this.data.length;t++){var n=this.data[t];if(e(n)===!1)return!1}return!0},t}(f);t.ArrayCollection=g;var m=function(e){function t(){e.apply(this,arguments),this._dict=new b}return __extends(t,e),t.prototype.every=function(e){return this._dict.every(function(t){return e(t.key)})},Object.defineProperty(t.prototype,"length",{get:function(){return this._dict.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._dict.clear()},t.prototype.add=function(e){this._dict.add(e,!0)},t.prototype.remove=function(e){var t=this.length;return this._dict.remove(e),t!==this.length},t.prototype.contains=function(e){return this._dict.containsKey(e)},t}(f);t.HashSet=m;var v=function(e){function t(t){e.call(this),this._dict=new y(t)}return __extends(t,e),t.prototype.every=function(e){return this._dict.every(function(t){return e(t.key)})},Object.defineProperty(t.prototype,"length",{get:function(){return this._dict.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._dict.clear()},t.prototype.add=function(e){this._dict.add(e,!0)},t.prototype.remove=function(e){var t=this.length;return this._dict.remove(e),t!==this.length},t.prototype.contains=function(e){return this._dict.containsKey(e)},t}(f);t.DelegateHashSet=v;var y=function(e){function t(t){e.call(this),this.hashFn=t,this._data={},this._count=0}return __extends(t,e),t.prototype.every=function(e){for(var t in this._data)if(this._data.hasOwnProperty(t)){var n=this._data[t];if(e(n)===!1)return!1}return!0},Object.defineProperty(t.prototype,"length",{get:function(){return this._count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keys",{get:function(){var e=new Array;return this.every(function(t){return e.push(t.key),!0}),new g(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){var e=new Array;return this.every(function(t){return e.push(t.value),!0}),new g(e)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._data={},this._count=0},t.prototype.add=function(e,t){var n=this.hashFn(e);this._data.hasOwnProperty(n)||(this._count+=1),this._data[n]={key:e,value:t}},t.prototype.lookup=function(e){var t=this.hashFn(e);return this._data.hasOwnProperty(t)?this._data[t].value:null},t.prototype.remove=function(e){var t=this.hashFn(e);this._data.hasOwnProperty(t)&&(this._count-=1,delete this._data[t])},t.prototype.containsKey=function(e){return this._data.hasOwnProperty(this.hashFn(e))},t}(f);t.DelegateDictionary=y;var _=function(e){function t(){e.call(this,function(e){return String(e)})}return __extends(t,e),t}(y);t.StringDictionary=_;var b=function(e){function t(t){"undefined"==typeof t&&(t=10),e.call(this),this.size=t,this._elements=new Array(this.size),this._count=0}return __extends(t,e),t.wrap=function(e){return null===e?t.NULL_PLACEHOLDER:"undefined"==typeof e?t.UNDEFINED_PLACEHOLDER:e},t.unwrap=function(e){return e===t.NULL_PLACEHOLDER?null:e===t.UNDEFINED_PLACEHOLDER?void 0:e},t.prototype.every=function(e){for(var n=0;n<this._elements.length;n++){var i=this._elements[n];if("undefined"!=typeof i)for(var o=0;o<i.length;o++){var r={key:t.unwrap(i[o].key),value:i[o].value};if(e(r)===!1)return!1}}return!0},Object.defineProperty(t.prototype,"length",{get:function(){return this._count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keys",{get:function(){var e=new Array;return this.every(function(n){return e.push(t.unwrap(n.key)),!0}),new g(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){var e=new Array;return this.every(function(t){return e.push(t.value),!0}),new g(e)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._elements.length=0,this._elements.length=this.size,this._count=0},t.prototype.add=function(e,n){e=t.wrap(e);var i=this.indexOf(e),o=this._elements[i];if("undefined"==typeof o)this._elements[i]=[{key:e,value:n}],this._count+=1;else{for(var r=0;r<o.length;r++)if(e.equals(o[r].key))return o[r].key=e,o[r].value=n,void 0;o.push({key:e,value:n}),this._count+=1}},t.prototype.lookup=function(e){e=t.wrap(e);var n=this.indexOf(e),i=this._elements[n];if("undefined"!=typeof i)for(var o=0;o<i.length;o++)if(e.equals(i[o].key))return i[o].value;return null},t.prototype.remove=function(e){e=t.wrap(e);var n=this.indexOf(e),i=this._elements[n];if("undefined"!=typeof i)for(var o=0;o<i.length;o++)if(e.equals(i[o].key))return i.splice(o,1),this._count-=1,!0;return!1},t.prototype.containsKey=function(e){e=t.wrap(e);var n=this.indexOf(e),i=this._elements[n];if("undefined"!=typeof i)for(var o=0;o<i.length;o++)if(e.equals(i[o].key))return!0;return!1},t.prototype.indexOf=function(e){return e.hashCode()%this._elements.length},t.UNDEFINED_PLACEHOLDER={hashCode:function(){return 0},equals:function(e){return t.UNDEFINED_PLACEHOLDER===e}},t.NULL_PLACEHOLDER={hashCode:function(){return 0},equals:function(e){return t.NULL_PLACEHOLDER===e}},t}(f);t.Dictionary=b}),define("vs/css!vs/editor/contrib/snippet/snippet",["vs/css!vs/editor/editor.main"],{}),define("vs/editor/contrib/snippet/snippet",["require","exports","vs/base/collections","vs/base/strings","vs/editor/core/range","vs/editor/core/constants","vs/editor/core/command/replaceCommand","vs/editor/core/selection","vs/editor/editor","vs/css!./snippet"],function(e,t,n,i,o,r,s,a){var u=function(){function e(e){this.lines=[],this.placeHolders=[],this.startPlaceHolderIndex=0,this.finishPlaceHolderIndex=-1,this.parseTemplate(e)}return e.prototype.parseTemplate=function(e){var t,i,r,s,a={},u=e.split("\n");for(t=0,i=u.length;i>t;t++){var l=this.parseLine(u[t]);for(r=0,s=l.placeHolders.length;s>r;r++){var c,d=l.placeHolders[r],h=new o.Range(t+1,d.startColumn,t+1,d.endColumn);n.contains(a,d.value)?c=a[d.value]:(c={value:d.value,occurences:[]},this.placeHolders.push(c),""===d.value&&(this.finishPlaceHolderIndex=this.placeHolders.length-1),a[d.value]=c),c.occurences.push(h)}this.lines.push(l.line)}this.placeHolders.length>this.startPlaceHolderIndex&&""===this.placeHolders[this.startPlaceHolderIndex].value&&this.placeHolders.length>1&&this.startPlaceHolderIndex++},e.prototype.parseLine=function(e){for(var t,n="",i=[],o=0,r=e.length,s=0;r>o;)if("{"===e.charAt(o)&&r>o+1&&"{"===e.charAt(o+1)){for(o+=2,t="";r>o;){if("}"===e.charAt(o)&&r>o+1&&"}"===e.charAt(o+1)){o+=2;break}t+=e.charAt(o),o++}i.push({value:t,startColumn:s+1,endColumn:s+1+t.length}),n+=t,s+=t.length}else n+=e.charAt(o),s++,o++;return{line:n,placeHolders:i}},e.prototype.extractLineIndentation=function(e,t){"undefined"==typeof t&&(t=Number.MAX_VALUE);var n=i.getLeadingWhitespace(e);return n.length>t-1?n.substring(0,t-1):n},e.prototype.bind=function(e,t,n,i){var o,r,s,a,u,l,c,d,h=[],p=[],f=this.extractLineIndentation(e,n+1),g=[];for(u=0,l=this.lines.length;l>u;u++)o=this.lines[u],0===u?(g[u+1]=n,h[u]=o):(r=this.extractLineIndentation(o),s=o.substr(r.length),a=i.normalizeIndentation(f+r),g[u+1]=a.length-r.length,h[u]=a+s);var m,v,y;for(u=0,l=this.placeHolders.length;l>u;u++){for(m=this.placeHolders[u],y=[],c=0,d=m.occurences.length;d>c;c++)v=m.occurences[c],y.push({startLineNumber:v.startLineNumber+t,startColumn:v.startColumn+g[v.startLineNumber],endLineNumber:v.endLineNumber+t,endColumn:v.endColumn+g[v.endLineNumber]});p.push({value:m.value,occurences:y})}return{lines:h,placeHolders:p,startPlaceHolderIndex:this.startPlaceHolderIndex,finishPlaceHolderIndex:this.finishPlaceHolderIndex}},e}();t.CodeSnippet=u;var l=function(){function e(e,t,n,i){this.editor=e,this.model=e.getModel(),this.handlerService=t,this.finishPlaceHolderIndex=n.finishPlaceHolderIndex,this.trackedPlaceHolders=[],this.placeHolderDecorations=[],this.currentPlaceHolderIndex=n.startPlaceHolderIndex,this.highlightDecorationId=null,this.isFinished=!1,this.binding=null,this.initialize(n,i)}return e.prototype.initialize=function(e,t){var n,i,s=this;for(n=0,i=e.placeHolders.length;i>n;n++){for(var a=e.placeHolders[n],u=[],l=0,c=a.occurences.length;c>l;l++)u.push(this.model.addTrackedRange(a.occurences[l],0));this.trackedPlaceHolders.push({ranges:u})}this.editor.changeDecorations(function(r){var a=t+e.lines.length-1,u=s.model.getLineMaxColumn(a);for(s.highlightDecorationId=r.addDecoration(new o.Range(t,1,a,u),{className:"new-snippet",isWholeLine:!0}),n=0,i=s.trackedPlaceHolders.length;i>n;n++){var l=n===s.finishPlaceHolderIndex?"finish-snippet-placeholder":"snippet-placeholder";s.placeHolderDecorations.push(r.addDecoration(s.model.getTrackedRange(s.trackedPlaceHolders[n].ranges[0]),{className:l}))}}),this.listenersToRemove=[],this.listenersToRemove.push(this.model.addListener(r.EventType.ModelContentChanged,function(e){if(!s.isFinished)if(e.changeType===r.EventType.ModelContentChangedFlush)s.stopAll();else if(e.changeType===r.EventType.ModelContentChangedLineChanged){var t=e.lineNumber,n=s.model.getDecorationRange(s.highlightDecorationId);(t<n.startLineNumber||t>n.endLineNumber)&&s.stopAll()}else if(e.changeType===r.EventType.ModelContentChangedLinesInserted){var i=e.fromLineNumber,n=s.model.getDecorationRange(s.highlightDecorationId);(i<n.startLineNumber||i>n.endLineNumber)&&s.stopAll()}else if(e.changeType===r.EventType.ModelContentChangedLinesDeleted){var o=e.fromLineNumber,a=e.toLineNumber,n=s.model.getDecorationRange(s.highlightDecorationId),u=a<n.startLineNumber,l=o>n.endLineNumber;(u||l)&&s.stopAll()}})),this.listenersToRemove.push(this.editor.addListener(r.EventType.CursorPositionChanged,function(e){if(!s.isFinished){var t=s.model.getDecorationRange(s.highlightDecorationId),n=e.position.lineNumber;(n<t.startLineNumber||n>t.endLineNumber)&&s.stopAll()}})),this.listenersToRemove.push(this.editor.addListener(r.EventType.ModelChanged,function(){s.stopAll()})),this.listenersToRemove.push(this.model.addListener(r.EventType.ModelDecorationsChanged,function(){if(!s.isFinished){for(var e=s.model.getEditableRange(),t=!0,n=!0,i=0;(t||n)&&i<s.trackedPlaceHolders.length;i++)for(var o=s.trackedPlaceHolders[i].ranges,r=0;(t||n)&&r<o.length;r++){var a=s.model.getTrackedRange(o[r]);t&&!a.isEmpty()&&(t=!1),n&&!e.equalsRange(a)&&(n=!1)}if(t||n)s.stopAll();else if(-1!==s.finishPlaceHolderIndex){var u=s.placeHolderDecorations[s.finishPlaceHolderIndex],l=s.model.getDecorationRange(u),c=s.model.getDecorationOptions(u),d=l.isEmpty(),h="finish-snippet-placeholder"===c.className,p=Number(d)^Number(h);p&&s.editor.changeDecorations(function(e){var t=d?"finish-snippet-placeholder":"snippet-placeholder";e.changeDecorationOptions(u,{className:t})})}}})),this.doLinkEditing(),this.registerKeyHandlers()},e.prototype.registerKeyHandlers=function(){var e=this;this.binding=this.handlerService.bindGroup(function(t){t({key:"Tab"},function(){return e.onNextPlaceHolder()}),t({key:"Shift-Tab"},function(){return e.onPrevPlaceHolder()}),t({key:"Enter"},function(){return e.onAccept()}),t({key:"Escape"},function(){return e.onEscape()})})},e.prototype.onNextPlaceHolder=function(){return this.isFinished?!1:(this.currentPlaceHolderIndex=(this.currentPlaceHolderIndex+1)%this.trackedPlaceHolders.length,this.doLinkEditing(),!0)},e.prototype.onPrevPlaceHolder=function(){return this.isFinished?!1:(this.currentPlaceHolderIndex=(this.trackedPlaceHolders.length+this.currentPlaceHolderIndex-1)%this.trackedPlaceHolders.length,this.doLinkEditing(),!0)},e.prototype.onAccept=function(){if(this.isFinished)return!1;if(-1!==this.finishPlaceHolderIndex){var e=this.model.getTrackedRange(this.trackedPlaceHolders[this.finishPlaceHolderIndex].ranges[0]);this.editor.setPosition({lineNumber:e.endLineNumber,column:e.endColumn})}return this.stopAll(),!0},e.prototype.onEscape=function(){return this.isFinished?!1:(this.stopAll(),this.editor.setSelections([this.editor.getSelections()[0]]),!0)},e.prototype.doLinkEditing=function(){for(var e=[],t=0,n=this.trackedPlaceHolders[this.currentPlaceHolderIndex].ranges.length;n>t;t++){var i=this.model.getTrackedRange(this.trackedPlaceHolders[this.currentPlaceHolderIndex].ranges[t]);e.push({selectionStartLineNumber:i.startLineNumber,selectionStartColumn:i.startColumn,positionLineNumber:i.endLineNumber,positionColumn:i.endColumn})}this.editor.setSelections(e)},e.prototype.stopAll=function(){var e=this;if(!this.isFinished){this.isFinished=!0,this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[];for(var t=0;t<this.trackedPlaceHolders.length;t++)for(var n=this.trackedPlaceHolders[t].ranges,i=0;i<n.length;i++)this.model.removeTrackedRange(n[i]);this.trackedPlaceHolders=[],this.binding.dispose(),this.editor.changeDecorations(function(t){t.removeDecoration(e.highlightDecorationId);for(var n=0;n<e.placeHolderDecorations.length;n++)t.removeDecoration(e.placeHolderDecorations[n]);e.placeHolderDecorations=[],e.highlightDecorationId=null})}},e}(),c=function(){function e(){}return e.run=function(e,t,n,i){0===n.placeHolders.length?this._runForAllSelections(e,t,n,i):this._runForPrimarySelection(e,t,n,i)},e._getTypeRangeForSelection=function(e,t,n){var i;return i=n?e.validateRange(o.plusRange(t,{startLineNumber:t.positionLineNumber,startColumn:t.positionColumn-n,endLineNumber:t.positionLineNumber,endColumn:t.positionColumn})):t},e._getAdaptedSnippet=function(e,t,n,i){return n.bind(t.getLineContent(i.startLineNumber),i.startLineNumber-1,i.startColumn-1,e)},e._getCommandForSnippet=function(e,t){var n=e.lines.join("\n");return new s.ReplaceCommand(t,n)},e._runForPrimarySelection=function(t,n,i,o){var r=t.getModel(),s=e._getTypeRangeForSelection(r,t.getSelection(),o),u=e._getAdaptedSnippet(t,r,i,s);t.executeCommand("editor.contrib.insertSnippetHelper",this._getCommandForSnippet(u,s));var c=e._getSnippetCursorOnly(u);c?t.setSelection(new a.Selection(c.lineNumber,c.column,c.lineNumber,c.column)):u.placeHolders.length>0&&new l(t,n,u,s.startLineNumber)},e._runForAllSelections=function(t,n,i,o){var r,s,a,u=t.getSelections(),l=t.getModel(),c=[];for(r=0;r<u.length;r++)s=e._getTypeRangeForSelection(l,u[r],o),a=e._getAdaptedSnippet(t,l,i,s),c.push(this._getCommandForSnippet(a,s));t.executeCommands("editor.contrib.insertSnippetHelper",c)},e._getSnippetCursorOnly=function(e){if(1!==e.placeHolders.length)return null;var t=e.placeHolders[0];if(""!==t.value||1!==t.occurences.length)return null;var n=t.occurences[0];return o.isEmpty(n)?{lineNumber:n.startLineNumber,column:n.startColumn}:null},e}();t.InsertSnippetHelper=c}),define("vs/editor/contrib/comment/blockCommentCommand",["require","exports","vs/editor/core/range","vs/editor/core/selection"],function(e,t,n,i){var o=function(){function e(e){this._selection=e,this._usedEndToken=null}return e.prototype._haystackHasNeedleAtOffset=function(e,t,n){if(0>n)return!1;var i=t.length,o=e.length;if(n+i>o)return!1;for(var r=0;i>r;r++)if(e.charCodeAt(n+r)!==t.charCodeAt(r))return!1;return!0},e.prototype._createOperationsForBlockComment=function(e,t,i,o){var r=e.startLineNumber,s=e.startColumn,a=e.endLineNumber,u=e.endColumn,l=n.isEmpty(e),c=t.blockCommentStartToken,d=c.length,h=t.blockCommentEndToken,p=h.length,f=this._haystackHasNeedleAtOffset(i.getLineContent(r),c,s-1-d),g=this._haystackHasNeedleAtOffset(i.getLineContent(a),h,u-1);f&&g?l?o.addEditOperation(new n.Range(r,s-d,a,u+p),null):(o.addEditOperation(new n.Range(r,s-d,r,s),null),o.addEditOperation(new n.Range(a,u,a,u+p),null)):l?(o.addEditOperation(new n.Range(r,s,a,u),c+h),this._usedEndToken=h):(o.addEditOperation(new n.Range(r,s,r,s),c),o.addEditOperation(new n.Range(a,u,a,u),h))},e.prototype.getEditOperations=function(e,t){var n=this._selection.startLineNumber,i=this._selection.startColumn,o=this._selection.endLineNumber,r=this._selection.endColumn;o>n&&1===r&&(o-=1,r=e.getLineMaxColumn(o));var s=e.getModeAtPosition(n,i).commentsSupport;if(s){var a=s.getCommentsConfiguration();a&&a.blockCommentStartToken&&a.blockCommentEndToken&&this._createOperationsForBlockComment({startLineNumber:n,startColumn:i,endLineNumber:o,endColumn:r},a,e,t)}},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations();if(2===n.length){var o=n[0],r=n[1];return new i.Selection(o.range.endLineNumber,o.range.endColumn,r.range.startLineNumber,r.range.startColumn)}var s=n[0].range,a=this._usedEndToken?-this._usedEndToken.length:0;return new i.Selection(s.endLineNumber,s.endColumn+a,s.endLineNumber,s.endColumn+a)},e}();t.BlockCommentCommand=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/comment/lineCommentCommand",["require","exports","vs/editor/contrib/comment/blockCommentCommand","vs/base/strings","vs/editor/core/range"],function(e,t,n,i,o){var r=function(e){function t(t){e.call(this,t),this._hasDelegatedToParent=!1}return __extends(t,e),t.prototype._hasLineCommentTokensSupportForLines=function(e,t,n){for(var i,o,r=t;n>=r;r++){if(i=e.getModeAtPosition(t,1).commentsSupport,!i)return!1;if(o=i.getCommentsConfiguration(),!o||!o.lineCommentTokens||0===o.lineCommentTokens.length)return!1}return!0},t.prototype.getEditOperations=function(t,n){var r=this._selection;this._moveEndPositionDown=!1,r.startLineNumber<r.endLineNumber&&1===r.endColumn&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,t.getLineMaxColumn(r.endLineNumber-1)));var s=t.getModeAtPosition(r.startLineNumber,r.startColumn).commentsSupport;if(s){if(!this._hasLineCommentTokensSupportForLines(t,r.startLineNumber,r.endLineNumber)){var a=s.getCommentsConfiguration();if(!a||!a.blockCommentStartToken||!a.blockCommentEndToken)return;var u=a.blockCommentStartToken,l=u.length,c=a.blockCommentEndToken,d=(c.length,t.getLineContent(r.startLineNumber).lastIndexOf(u,r.startColumn-1)),h=t.getLineContent(r.endLineNumber).indexOf(c,r.endColumn-1);return-1!==d&&-1!==h?(r.startColumn=d+l+1,r.endColumn=h+1):(r.startColumn=1,r.endColumn=t.getLineMaxColumn(r.endLineNumber)),this._hasDelegatedToParent=!0,e.prototype._createOperationsForBlockComment.call(this,r,a,t,n),void 0}var p,f,g,m,v=!0,y=[],_=[];for(m=r.startLineNumber;m<=r.endLineNumber;m++)g=t.getModeAtPosition(m,1).commentsSupport.getCommentsConfiguration().lineCommentTokens[0],_[m-r.startLineNumber]=g,v&&(p=t.getLineContent(m),f=i.firstNonWhitespaceIndex(p),-1===f?v=!1:this._haystackHasNeedleAtOffset(p,g,f)||(v=!1),y[m-r.startLineNumber]=f);if(v)for(m=r.startLineNumber;m<=r.endLineNumber;m++)n.addEditOperation(new o.Range(m,y[m-r.startLineNumber]+1,m,y[m-r.startLineNumber]+1+_[m-r.startLineNumber].length),null);else for(m=r.startLineNumber;m<=r.endLineNumber;m++)n.addEditOperation(new o.Range(m,1,m,1),_[m-r.startLineNumber]);this._selectionId=n.trackSelection(r)}},t.prototype.computeCursorState=function(t,n){if(this._hasDelegatedToParent)return e.prototype.computeCursorState.call(this,t,n);var i=n.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),i},t}(n.BlockCommentCommand);t.LineCommentCommand=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/comment/comment",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","./lineCommentCommand","./blockCommentCommand","vs/editor/editorExtensions"],function(e,t,n,i,o,r,s){var a=function(e){function t(t,n,i){e.call(this,t,n,i,s.defaultPrecondition)}return __extends(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),n=0;n<t.length;n++)e.push(new o.LineCommentCommand(t[n]));return this.editor.executeCommands(this.id,e),i.TPromise.as(null)},t.ID="editor.actions.commentLine",t}(s.EditorAction),u=function(e){function t(t,n,i){e.call(this,t,n,i,s.defaultPrecondition)}return __extends(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),n=0;n<t.length;n++)e.push(new r.BlockCommentCommand(t[n]));return this.editor.executeCommands(this.id,e),i.TPromise.as(null)},t.ID="editor.actions.blockComment",t}(s.EditorAction);s.registerEditorActionContribution(a,a.ID,n.localize("vs_editor_contrib_comment_comment",0),{ctrlCmd:!0,key:"/"},{ctrlCmd:!0,key:"7"}),s.registerEditorActionContribution(u,u.ID,n.localize("vs_editor_contrib_comment_comment",1),{shift:!0,alt:!0,key:"A"})}),define("vs/editor/contrib/linesOperations/copyLinesCommand",["require","exports","vs/editor/core/range","vs/editor/core/selection"],function(e,t,n,i){var o=function(){function e(e,t){this._selection=e,this._isCopyingDown=t}return e.prototype.getEditOperations=function(e,t){var i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));for(var o=[],r=i.startLineNumber;r<=i.endLineNumber;r++)o.push(e.getLineContent(r));var s=o.join("\n");""===s&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?t.addEditOperation(new n.Range(i.startLineNumber,1,i.startLineNumber,1),s+"\n"):t.addEditOperation(new n.Range(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+s),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){var o=n.startLineNumber,r=n.startColumn,s=n.endLineNumber,a=n.endColumn;0!==this._startLineNumberDelta&&(o+=this._startLineNumberDelta,r=1),0!==this._endLineNumberDelta&&(s+=this._endLineNumberDelta,a=1),n=i.createWithDirection(o,r,s,a,this._selectionDirection)}return n},e}();t.CopyLinesCommand=o}),define("vs/editor/contrib/linesOperations/deleteLinesCommand",["require","exports","vs/editor/core/range","vs/editor/core/selection"],function(e,t,n,i){function o(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),new r(e.startLineNumber,t,e.positionColumn)}t.createFromSelection=o;var r=function(){function e(e,t,n){this.startLineNumber=e,this.endLineNumber=t,this.restoreCursorToColumn=n}return e.prototype.getEditOperations=function(e,t){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){var i=this.startLineNumber,o=this.endLineNumber,r=1,s=e.getLineMaxColumn(o);o<e.getLineCount()?(o+=1,s=1):i>1&&(i-=1,r=e.getLineMaxColumn(i)),t.addEditOperation(new n.Range(i,r,o,s),null)}},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),o=n[0].range;return new i.Selection(o.endLineNumber,this.restoreCursorToColumn,o.endLineNumber,this.restoreCursorToColumn)},e}();t.DeleteLinesCommand=r}),define("vs/editor/contrib/linesOperations/moveLinesCommand",["require","exports","vs/editor/core/range","vs/editor/core/selection"],function(e,t,n,i){var o=function(){function e(e,t){this._selection=e,this._isMovingDown=t}return e.prototype.getEditOperations=function(e,t){var o=e.getLineCount();if(!(this._isMovingDown&&this._selection.endLineNumber===o||!this._isMovingDown&&1===this._selection.startLineNumber)){this._moveEndPositionDown=!1;var r=this._selection;if(r.startLineNumber<r.endLineNumber&&1===r.endColumn&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,e.getLineMaxColumn(r.endLineNumber-1))),r.startLineNumber===r.endLineNumber&&1===e.getLineMaxColumn(r.startLineNumber)){var s=r.startLineNumber,a=this._isMovingDown?s+1:s-1;1===e.getLineMaxColumn(a)?t.addEditOperation(new n.Range(1,1,1,1),null):(t.addEditOperation(new n.Range(s,1,s,1),e.getLineContent(a)),t.addEditOperation(new n.Range(a,1,a,e.getLineMaxColumn(a)),null)),r=new i.Selection(a,1,a,1)}else{var u,l;this._isMovingDown?(u=r.endLineNumber+1,l=e.getLineContent(u),t.addEditOperation(new n.Range(u-1,e.getLineMaxColumn(u-1),u,e.getLineMaxColumn(u)),null),t.addEditOperation(new n.Range(r.startLineNumber,1,r.startLineNumber,1),l+"\n")):(u=r.startLineNumber-1,l=e.getLineContent(u),t.addEditOperation(new n.Range(u,1,u+1,1),null),t.addEditOperation(new n.Range(r.endLineNumber,e.getLineMaxColumn(r.endLineNumber),r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),"\n"+l))}this._selectionId=t.trackSelection(r)}},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),n},e}();t.MoveLinesCommand=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/linesOperations/linesOperations",["require","exports","vs/nls!vs/editor/editor.main","vs/base/env","vs/base/lib/winjs.base","vs/editor/editorExtensions","./copyLinesCommand","./deleteLinesCommand","./moveLinesCommand"],function(e,t,n,i,o,r,s,a,u){var l=function(e){function t(t,n,i,o){e.call(this,t,n,i,r.defaultPrecondition),this.down=o}return __extends(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),n=0;n<t.length;n++)e.push(new s.CopyLinesCommand(t[n],this.down));return this.editor.executeCommands(this.id,e),o.TPromise.as(!0)},t}(r.EditorAction),c=function(e){function t(t,n,i){e.call(this,t,n,i,!1)}return __extends(t,e),t.ID="editor.actions.copyLinesUpAction",t}(l),d=function(e){function t(t,n,i){e.call(this,t,n,i,!0)}return __extends(t,e),t.ID="editor.actions.copyLinesDownAction",t}(l),h=function(e){function t(t,n,i,o){e.call(this,t,n,i,r.defaultPrecondition),this.down=o
}return __extends(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),n=0;n<t.length;n++)e.push(new u.MoveLinesCommand(t[n],this.down));return this.editor.executeCommands(this.id,e),o.TPromise.as(!0)},t}(r.EditorAction),p=function(e){function t(t,n,i){e.call(this,t,n,i,!1)}return __extends(t,e),t.ID="editor.actions.moveLinesUpAction",t}(h),f=function(e){function t(t,n,i){e.call(this,t,n,i,!0)}return __extends(t,e),t.ID="editor.actions.moveLinesDownAction",t}(h),g=function(e){function t(t,n,i){e.call(this,t,n,i,r.defaultPrecondition)}return __extends(t,e),t.prototype._getLinesToRemove=function(){var e=this.editor.getSelections().map(function(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,endLineNumber:t,positionColumn:e.positionColumn}});e.sort(function(e,t){return e.startLineNumber-t.startLineNumber});for(var t=[],n=e[0],i=1;i<e.length;i++)n.endLineNumber+1===e[i].startLineNumber?n.endLineNumber=e[i].endLineNumber:(t.push(n),n=e[i]);return t.push(n),t},t}(r.EditorAction),m=function(e){function t(t,n,i){e.call(this,t,n,i)}return __extends(t,e),t.prototype.run=function(){var e=this._getLinesToRemove(),t=e.map(function(e){return new a.DeleteLinesCommand(e.startLineNumber,e.endLineNumber,e.positionColumn)});return this.editor.executeCommands(this.id,t),o.TPromise.as(!0)},t.ID="editor.action.deleteLines",t}(g),v=function(e){function t(t,n,i){e.call(this,t,n,i)}return __extends(t,e),t.prototype.run=function(){if(i.browser.isIE11orEarlier&&document.queryCommandSupported("cut")){var t=this._getLinesToRemove(),n=t.map(function(e){return{selectionStartLineNumber:e.startLineNumber,selectionStartColumn:1,positionLineNumber:e.endLineNumber+1,positionColumn:1}});return this.editor.setSelections(n),this.editor.focus(),document.execCommand("cut"),o.TPromise.as(!0)}return e.prototype.run.call(this)},t.ID="editor.action.cutLines",t}(m);r.registerEditorActionContribution(v,v.ID,n.localize("vs_editor_contrib_linesOperations_linesOperations",0),{shift:!0,key:"Delete"}),r.registerEditorActionContribution(m,m.ID,n.localize("vs_editor_contrib_linesOperations_linesOperations",1),{ctrlCmd:!0,key:"D"}),r.registerEditorActionContribution(f,f.ID,n.localize("vs_editor_contrib_linesOperations_linesOperations",2),{alt:!0,key:"DownArrow"}),r.registerEditorActionContribution(p,p.ID,n.localize("vs_editor_contrib_linesOperations_linesOperations",3),{alt:!0,key:"UpArrow"}),r.registerEditorActionContribution(d,d.ID,n.localize("vs_editor_contrib_linesOperations_linesOperations",4),{alt:!0,shift:!0,key:"DownArrow"}),r.registerEditorActionContribution(c,c.ID,n.localize("vs_editor_contrib_linesOperations_linesOperations",5),{alt:!0,shift:!0,key:"UpArrow"})});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/embeddedCodeEditorWidget",["require","exports","vs/editor/core/codeEditorWidget","vs/editor/core/constants","vs/base/objects"],function(e,t,n,i,o){var r=function(e){function t(t,n,o,r){var s=this;e.call(this,t,n,r.getRawConfiguration()),this._parentEditor=r,this._overwriteOptions=o,e.prototype.updateOptions.call(this,this._overwriteOptions),this._lifetimeListeners.push(r.addListener(i.EventType.ConfigurationChanged,function(e){return s._onParentConfigurationChanged(e)}))}return __extends(t,e),t.prototype._onParentConfigurationChanged=function(){e.prototype.updateOptions.call(this,this._parentEditor.getRawConfiguration()),e.prototype.updateOptions.call(this,this._overwriteOptions)},t.prototype.updateOptions=function(t){o.mixin(this._overwriteOptions,t,!0),e.prototype.updateOptions.call(this,this._overwriteOptions)},t}(n.CodeEditorWidget);t.EmbeddedCodeEditorWidget=r}),define("vs/css!vs/base/ui/widgets/actionbar",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/actionbar",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lifecycle","vs/base/dom/builder","vs/base/ui/actions","vs/base/dom/dom","vs/base/ui/events","vs/base/types","vs/base/eventEmitter","vs/base/dom/touch","vs/base/dom/keyboardEvent","vs/css!./actionbar"],function(e,t,n,i,o,r,s,a,u,l,c,d){var h=o.$,p=function(e){function t(t,n){var i=this;if(e.call(this),this._callOnDispose=[],this._context=t||this,this._action=n,n instanceof r.Action){var o=n.addBulkListener(function(e){i.builder&&e.forEach(function(e){switch(e.getType()){case r.Action.ENABLED:i._updateEnabled();break;case r.Action.LABEL:i._updateLabel(),i._updateTitle();break;case r.Action.CLASS:i._updateClass();break;case r.Action.CHECKED:i._updateChecked();break;default:i._updateUnknown(e)}})});this._callOnDispose.push(o)}}return __extends(t,e),Object.defineProperty(t.prototype,"callOnDispose",{get:function(){return this._callOnDispose},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(e){this._actionRunner=e},enumerable:!0,configurable:!0}),t.prototype.getAction=function(){return this._action},t.prototype.isEnabled=function(){return this._action.enabled},t.prototype.setActionContext=function(e){this._context=e},t.prototype.render=function(e){var t=this;this.builder=h(e),this.gesture=new c.Gesture(e),this.builder.on(s.EventType.CLICK,function(e){t.onClick(e)}),this.builder.on(c.EventType.Tap,function(e){t.onClick(e)}),this.builder.on("mousedown",function(e){0===e.button&&t._action.enabled&&t.builder.addClass("active")}),this.builder.on(["mouseup","mouseout"],function(e){0===e.button&&t._action.enabled&&t.builder.removeClass("active")})},t.prototype.onClick=function(e){s.EventHelper.stop(e,!0),this._actionRunner.run(this._action,this._context||e)},t.prototype.focus=function(){this.builder.domFocus(),this.builder.addClass("focused")},t.prototype.blur=function(){this.builder.removeClass("focused")},t.prototype._updateEnabled=function(){},t.prototype._updateLabel=function(){},t.prototype._updateTitle=function(){},t.prototype._updateClass=function(){},t.prototype._updateChecked=function(){},t.prototype._updateUnknown=function(){},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.builder&&(this.builder.destroy(),this.builder=null),this.gesture&&(this.gesture.dispose(),this.gesture=null),i.cAll(this._callOnDispose)},t}(l.EventEmitter);t.BaseActionItem=p;var f=function(e){function t(n,i){e.call(this,t.ID,n,n?"separator text":"separator"),this.checked=!1,this.enabled=!1,this.order=i}return __extends(t,e),t.ID="actions.monaco.separator",t}(r.Action);t.Separator=f;var g=function(e){function t(t,n,i){"undefined"==typeof i&&(i={}),e.call(this,t,n),this.options=i,this.options.icon=void 0!==i.icon?i.icon:!1,this.options.label=void 0!==i.label?i.label:!0,this.cssClass=""}return __extends(t,e),t.prototype.render=function(t){e.prototype.render.call(this,t),this.$e=h("a.action-label").attr("tabIndex","-1").appendTo(this.builder),this.$e.attr({role:"menuitem"}),this.options.label&&this.options.keybinding&&h("span.keybinding").text(this.options.keybinding).appendTo(this.builder),this._updateClass(),this._updateLabel(),this._updateTitle(),this._updateEnabled(),this._updateChecked()},t.prototype.focus=function(){e.prototype.focus.call(this),this.$e.domFocus()},t.prototype._updateLabel=function(){this.options.label&&this.$e.text(this.getAction().label)},t.prototype._updateTitle=function(){if(!this.options.label&&this.getAction().label&&this.options.icon){var e=this.getAction().label;this.options.keybinding&&(e=n.localize("vs_base_ui_widgets_actionbar",0,e,this.options.keybinding)),this.$e.attr({title:e})}},t.prototype._updateClass=function(){this.cssClass&&this.$e.removeClass(this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,this.$e.addClass("icon"),this.cssClass&&this.$e.addClass(this.cssClass),this._updateEnabled()):this.$e.removeClass("icon")},t.prototype._updateEnabled=function(){this.getAction().enabled?(this.builder.removeClass("disabled"),this.$e.removeClass("disabled")):(this.builder.addClass("disabled"),this.$e.addClass("disabled"))},t.prototype._updateChecked=function(){this.getAction().checked?this.$e.addClass("checked"):this.$e.removeClass("checked")},t}(p);t.ActionItem=g;var m=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.render=function(t){var n=document.createElement("div");h(n).addClass("progress-item");var i=document.createElement("div");h(i).addClass("label"),i.textContent=this.getAction().label,i.title=this.getAction().label,e.prototype.render.call(this,i);var o=document.createElement("div");o.textContent="â¦",h(o).addClass("tag","progress");var r=document.createElement("div");r.textContent="â",h(r).addClass("tag","done");var s=document.createElement("div");s.textContent="!",h(s).addClass("tag","error"),this.callOnDispose.push(this.addListener(a.EventType.BEFORE_RUN,function(){h(o).addClass("active"),h(r).removeClass("active"),h(s).removeClass("active")})),this.callOnDispose.push(this.addListener(a.EventType.RUN,function(e){h(o).removeClass("active"),e.error?(h(r).removeClass("active"),h(s).addClass("active")):(h(s).removeClass("active"),h(r).addClass("active"))})),n.appendChild(i),n.appendChild(o),n.appendChild(r),n.appendChild(s),t.appendChild(n)},t.prototype.dispose=function(){i.cAll(this.callOnDispose),e.prototype.dispose.call(this)},t}(p);t.ProgressItem=m,function(e){e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL"}(t.ActionsOrientation||(t.ActionsOrientation={}));var v=(t.ActionsOrientation,{orientation:1,context:null}),y=function(e){function t(t,i){"undefined"==typeof i&&(i=v);var o=this;e.call(this),this.builder=t,this.options=i,this.toDispose=[],this._actionRunner=this.options.actionRunner,this._actionRunner||(this._actionRunner=new r.ActionRunner,this.toDispose.push(this._actionRunner)),this.toDispose.push(this.addEmitter2(this._actionRunner)),this.items=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",this.domNode.tabIndex=0;var a=2===this.options.orientation;a&&(this.domNode.className+=" vertical"),h(this.domNode).on(s.EventType.KEY_DOWN,function(e){var t=new d.KeyboardEvent(e),n=!0;switch(t.asString()){case a?"UpArrow":"LeftArrow":o.focusPrevious();break;case a?"DownArrow":"RightArrow":o.focusNext();break;case"Escape":o.cancel();break;case"Enter":break;default:n=!1}n&&(t.preventDefault(),t.stopPropagation())}),h(this.domNode).on(s.EventType.KEY_UP,function(e){var t=new d.KeyboardEvent(e);switch(t.asString()){case"Enter":o.doTrigger(t),t.preventDefault(),t.stopPropagation()}});var u=s.trackFocus(this.domNode);u.addBlurListener(function(e){document.activeElement!==o.domNode&&s.isAncestor(document.activeElement,o.domNode)||o.emit("blur",e)}),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","menu"),this.actionsList.setAttribute("aria-label",n.localize("vs_base_ui_widgets_actionbar",1)),this.domNode.appendChild(this.actionsList),t&&t.getHTMLElement().appendChild(this.domNode)}return __extends(t,e),Object.defineProperty(t.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(e){e&&(this._actionRunner=e,this.items.forEach(function(t){return t.actionRunner=e}))},enumerable:!0,configurable:!0}),t.prototype.getContainer=function(){return h(this.domNode)},t.prototype.push=function(e,t){var n=this;"undefined"==typeof t&&(t={}),Array.isArray(e)||(e=[e]);var i=u.isNumber(t.index)?t.index:null;e.forEach(function(e){var o=document.createElement("li");o.className="action-item",o.setAttribute("role","presentation");var r=null;n.options.actionItemProvider&&(r=n.options.actionItemProvider(e)),r||(r=new g(n.options.context,e,t)),r.actionRunner=n._actionRunner,r.setActionContext(n.options.context),n.addEmitter(r),r.render(o),null===i||0>i||i>=n.actionsList.children.length?n.actionsList.appendChild(o):n.actionsList.insertBefore(o,n.actionsList.children[i++]),n.items.push(r)})},t.prototype.clear=function(){for(var e;e=this.items.pop();)e.dispose();h(this.actionsList).empty()},t.prototype.length=function(){return this.items.length},t.prototype.isEmpty=function(){return 0===this.items.length},t.prototype.onContentsChange=function(){this.emit(a.EventType.CONTENTS_CHANGED)},t.prototype.focus=function(e){e&&"undefined"==typeof this.focusedItem&&(this.focusedItem=0),this.updateFocus()},t.prototype.focusNext=function(){"undefined"==typeof this.focusedItem&&(this.focusedItem=this.items.length-1);var e,t=this.focusedItem;do this.focusedItem=(this.focusedItem+1)%this.items.length,e=this.items[this.focusedItem];while(this.focusedItem!==t&&!e.isEnabled());this.focusedItem!==t||e.isEnabled()||(this.focusedItem=void 0),this.updateFocus()},t.prototype.focusPrevious=function(){"undefined"==typeof this.focusedItem&&(this.focusedItem=0);var e,t=this.focusedItem;do this.focusedItem=this.focusedItem-1,this.focusedItem<0&&(this.focusedItem=this.items.length-1),e=this.items[this.focusedItem];while(this.focusedItem!==t&&!e.isEnabled());this.focusedItem!==t||e.isEnabled()||(this.focusedItem=void 0),this.updateFocus()},t.prototype.updateFocus=function(){if("undefined"==typeof this.focusedItem)return this.domNode.focus(),void 0;for(var e=0;e<this.items.length;e++){var t=this.items[e],n=t;e===this.focusedItem?u.isFunction(n.focus)&&n.focus():u.isFunction(n.blur)&&n.blur()}},t.prototype.doTrigger=function(e){if("undefined"!=typeof this.focusedItem){var t=this.items[this.focusedItem];this.run(t._action,t._context||e).done()}},t.prototype.cancel=function(){this.emit(a.EventType.CANCEL)},t.prototype.run=function(e,t){return this._actionRunner.run(e,t)},t.prototype.dispose=function(){null!==this.items&&this.clear(),this.items=null,this.toDispose=i.disposeAll(this.toDispose),this.getContainer().destroy(),e.prototype.dispose.call(this)},t.DEFAULT_OPTIONS={orientation:1},t}(l.EventEmitter);t.ActionBar=y}),define("vs/css!vs/editor/contrib/zoneWidget/zoneWidget",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/zoneWidget/zoneWidget",["require","exports","vs/base/dom/dom","vs/base/types","vs/base/objects","vs/base/eventEmitter","vs/editor/core/constants","vs/css!./zoneWidget"],function(e,t,n,i,o,r,s){var a={showArrow:!0,showFrame:!0,frameColor:"",className:""},u="vs.editor.contrib.zoneWidget",l=function(){function e(e,t,n,i,o){this.domNode=e,this.afterLineNumber=t,this.heightInLines=n,this._onDomNodeTop=i,this._onComputedHeight=o}return e.prototype.onDomNodeTop=function(e){this._onDomNodeTop(e)},e.prototype.onComputedHeight=function(e){this._onComputedHeight(e)},e}(),c=function(){function e(e,t){this._id=e,this._domNode=t}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return null},e}(),d=function(e){function t(t,n){"undefined"==typeof n&&(n={});var i=this;e.call(this),this.editor=t,this.options=o.mixin(o.clone(a),n),this.zoneId=-1,this.overlayWidget=null,this.lastView=null,this.domNode=document.createElement("div"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation"),this.container=null,this.listenersToRemove=[],this.listenersToRemove.push(this.editor.addListener(s.EventType.EditorLayout,function(e){var t=i.getWidth(e);i.domNode.style.width=t+"px",i.onWidth(t)}))}return __extends(t,e),t.prototype.create=function(){n.addClass(this.domNode,"zone-widget"),n.addClass(this.domNode,this.options.className),this.container=document.createElement("div"),n.addClass(this.container,"container"),this.domNode.appendChild(this.container),this.fillContainer(this.container)},t.prototype.getWidth=function(e){return"undefined"==typeof e&&(e=this.editor.getLayoutInfo()),e.width-e.verticalScrollbarWidth},t.prototype.onViewZoneTop=function(e){this.domNode.style.top=e+"px"},t.prototype.onViewZoneHeight=function(e){this.domNode.style.height=e+"px"},t.prototype.show=function(e,t){i.isUndefinedOrNull(e.startLineNumber)?this.showImpl({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},t):this.showImpl(e,t)},t.prototype.showImpl=function(e,t){var n=this,i={lineNumber:e.startLineNumber,column:e.startColumn};this.domNode.style.width=this.getWidth()+"px",this.editor.revealPosition(i,!1,!1);var o=document.createElement("div"),r=document.createElement("div"),s=this.editor.getConfiguration().lineHeight,a=t*s,d=0,h=0;this.options.showArrow&&(d=Math.round(s/3),a-=2*d,r=document.createElement("div"),r.className="zone-widget-arrow below",r.style.top=-d+"px",r.style.borderWidth=d+"px",r.style.left=this.editor.getOffsetForColumn(i.lineNumber,i.column)+"px",r.style.borderBottomColor=this.options.frameColor,o.appendChild(r)),this.options.showFrame&&(h=Math.round(s/9),a-=2*h),this.editor.changeViewZones(function(e){-1!==n.zoneId&&e.removeZone(n.zoneId),n.overlayWidget&&(n.editor.removeOverlayWidget(n.overlayWidget),n.overlayWidget=null);var r=new l(o,i.lineNumber,t,function(e){return n.onViewZoneTop(e)},function(e){return n.onViewZoneHeight(e)});n.zoneId=e.addZone(r),n.overlayWidget=new c(u+n.zoneId,n.domNode),n.editor.addOverlayWidget(n.overlayWidget)}),this.options.showFrame&&(this.container.style.borderTopColor=this.options.frameColor,this.container.style.borderBottomColor=this.options.frameColor,this.container.style.borderTopWidth=h+"px",this.container.style.borderBottomWidth=h+"px"),this.container.style.top=d+"px",this.container.style.height=a+"px",this.container.style.overflow="hidden",this.doLayout(a),this.editor.setSelection(e);var p={lineNumber:Math.min(this.editor.getModel().getLineCount(),Math.max(1,e.endLineNumber+1)),column:1};this.editor.revealPosition(p,!1,!1),this.position=i},t.prototype.dispose=function(){var e=this;this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.overlayWidget&&(this.editor.removeOverlayWidget(this.overlayWidget),this.overlayWidget=null),-1!==this.zoneId&&this.editor.changeViewZones(function(t){t.removeZone(e.zoneId),e.zoneId=-1})},t.prototype.fillContainer=function(){},t.prototype.onWidth=function(){},t.prototype.doLayout=function(){},t}(r.EventEmitter);t.ZoneWidget=d}),define("vs/css!vs/editor/contrib/zoneWidget/peekViewWidget",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/zoneWidget/peekViewWidget",["require","exports","vs/nls!vs/editor/editor.main","vs/base/ui/widgets/actionbar","vs/base/ui/actions","vs/base/strings","vs/base/dom/builder","vs/base/dom/dom","./zoneWidget","vs/css!./peekViewWidget"],function(e,t,n,i,o,r,s,a,u){var l=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.dispose=function(){this._isActive=!1,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),t.prototype.getActiveWidget=function(){return this},t.prototype.show=function(t,n){this._isActive=!0,e.prototype.show.call(this,t,n)},t.prototype.fillContainer=function(e){s.$(e).addClass("peekview-widget"),this._headElement=s.$(".head").getHTMLElement(),this._bodyElement=s.$(".body").getHTMLElement(),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)},t.prototype._fillHead=function(){var e=this,t=s.$(".peekview-title").on(a.EventType.CLICK,function(t){return e._onTitleClick(t)}).appendTo(this._headElement).getHTMLElement();this._filenameElement=s.$("span.filename").appendTo(t).getHTMLElement(),this._dirnameElement=s.$("span.dirname").appendTo(t).getHTMLElement(),this._actionbarWidget=new i.ActionBar,s.$(".peekview-actions").append(this._actionbarWidget.domNode).appendTo(this._headElement),this._actionbarWidget.push(new o.Action("peekview.close",n.localize("vs_editor_contrib_zoneWidget_peekViewWidget",0),"close-peekview-action",!0,function(){return e.dispose(),null}),{label:!1,icon:!0})},t.prototype._onTitleClick=function(){},t.prototype.setTitle=function(e,t){s.$(this._filenameElement).safeInnerHtml(e),t?s.$(this._dirnameElement).safeInnerHtml(r.rtrim(t,"/")):a.clearNode(this._dirnameElement)},t.prototype._fillBody=function(){},t.prototype.doLayout=function(e){var t=Math.ceil(1.2*this.editor.getConfiguration().lineHeight),n=e-(t+2);this._doLayoutHead(t),this._doLayoutBody(n)},t.prototype._doLayoutHead=function(e){this._headElement.style.height=r.format("{0}px",e)},t.prototype._doLayoutBody=function(e){this._bodyElement.style.height=r.format("{0}px",e)},t}(u.ZoneWidget);t.PeekViewWidget=l}),define("vs/base/filters",["require","exports","vs/base/strings"],function(e,t,n){function i(){for(var e=[],t=0;t<arguments.length-0;t++)e[t]=arguments[t+0];return function(t,n){for(var i=0,o=e.length;o>i;i++){var r=e[i](t,n);if(r)return r}return null}}function o(){for(var e=[],t=0;t<arguments.length-0;t++)e[t]=arguments[t+0];return function(t,n){for(var i=[],o=0,r=e.length;r>o;o++){var s=e[o](t,n);if(!s)return null;i=i.concat(s)}return i}}function r(e,t,n){if(0===n.length||n.length<t.length)return null;e&&(t=t.toLowerCase(),n=n.toLowerCase());for(var i=0;i<t.length;i++)if(t[i]!==n[i])return null;return t.length>0?[{start:0,end:t.length}]:[]}function s(e,t){var n=t.toLowerCase().indexOf(e.toLowerCase());return-1===n?null:[{start:n,end:n+e.length}]}function a(e,t){return u(e.toLowerCase(),t.toLowerCase(),0,0)}function u(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]===t[i]){var o=null;if(o=u(e,t,n+1,i+1))return h({start:i,end:i+1},o)}return u(e,t,n,i+1)}function l(e,t){if(0===t.length)return null;for(var n=null,i=0;i<t.length&&null===(n=f(e.toLowerCase(),t,0,i));)i=p(t,i+1);return n}function c(e){var t=e.charCodeAt(0);return t>=65&&90>=t}function d(e){var t=e.charCodeAt(0);return t>=48&&57>=t}function h(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function p(e,t){for(var n=t;n<e.length;n++){var i=e[n];if(c(i)||d(i))return n}return e.length}function f(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]!==t[i].toLowerCase())return null;var o=null,r=i+1;for(o=f(e,t,n+1,i+1);!o&&(r=p(t,r))<t.length;)o=f(e,t,n+1,r),r++;return null===o?null:h({start:i,end:i+1},o)}t.or=i,t.and=o,t.matchesStrictPrefix=function(e,t){return r(!1,e,t)},t.matchesPrefix=function(e,t){return r(!0,e,t)},t.matchesContiguousSubString=s,t.matchesSubString=a,t.matchesCamelCase=l;var g=function(){function e(){}return e.matches=function(t,i){var o=e.RegExpCache[t];o||(o=new RegExp(n.convertSimple2RegExpPattern(t),"i"),e.RegExpCache[t]=o);var r=o.exec(i);return r?[{start:r.index,end:r.index+r[0].length}]:e.DefaultFilter(t,i)},e.DefaultFilter=t.or(t.matchesPrefix,t.matchesCamelCase,t.matchesContiguousSubString),e.RegExpCache={},e}();t.CombinedMatcher=g}),define("vs/editor/modes/modesFilters",["require","exports","vs/base/filters"],function(e,t,n){function i(e){return function(t,n){var i=e(t,n.label);return n.highlights=i||[],!!i}}function o(e,t){return function(n,i){return e(n,i)||t(n,i)}}function r(e,t){return function(n,i){return e(n,i)&&t(n,i)}}function s(e){var t={};return function(n,i){var o=e(i);return t[o]?!1:(t[o]=!0,!0)}}t.StrictPrefix=i(n.matchesStrictPrefix),t.Prefix=i(n.matchesPrefix),t.CamelCase=i(n.matchesCamelCase),t.ContiguousSubString=i(n.matchesContiguousSubString),t.or=o,t.and=r,t.newDuplicateFilter=s,t.DefaultFilter=t.or(t.or(t.Prefix,t.CamelCase),t.ContiguousSubString)}),define("vs/editor/modes/stream",["require","exports"],function(e,t){var n=function(){function e(e){this._source=e,this.sourceLength=e.length,this._pos=0,this.whitespace="	 Â ",this.whitespaceArr=this.stringToArray(this.whitespace),this.separators="",this.separatorsArr=this.stringToArray(this.separators),this.tokenStart=-1,this.tokenEnd=-1}return e.prototype.stringToArray=function(t){return e.STRING_TO_ARRAY_CACHE.hasOwnProperty(t)||(e.STRING_TO_ARRAY_CACHE[t]=this.actualStringToArray(t)),e.STRING_TO_ARRAY_CACHE[t]},e.prototype.actualStringToArray=function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n);var i=[];for(n=0;t>n;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e.charCodeAt(n)]=!0;return i},e.prototype.pos=function(){return this._pos},e.prototype.eos=function(){return this._pos>=this.sourceLength},e.prototype.peek=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");return this._source[this._pos]},e.prototype.next=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");return this.tokenStart=-1,this.tokenEnd=-1,this._source[this._pos++]},e.prototype.advance=function(e){var t=this._pos;return this._pos+=e,this.resetPeekedToken(),this._source.substring(t,this._pos)},e.prototype.advanceToEOS=function(){var e=this._pos;return this._pos=this.sourceLength,this.resetPeekedToken(),this._source.substring(e,this._pos)},e.prototype.goBack=function(e){this._pos-=e,this.resetPeekedToken()},e.prototype.createPeeker=function(e){var t=this;if(e instanceof RegExp)return function(){var n=e.exec(t._source.substr(t._pos));if(null===n)return 0;if(0!==n.index)throw new Error('Regular expression must begin with the character "^"');return n[0].length};if((e instanceof String||"string"==typeof e)&&e)return function(){for(var n=e.length,i=t._pos+n<=t.sourceLength,o=0;i&&n>o;o++)i=t._source.charCodeAt(t._pos+o)===e.charCodeAt(o);return i?n:0};throw new Error("Condition must be either a regular expression, function or a non-empty string")},e.prototype.advanceIfStringCaseInsensitive=function(e){var t,n=this._pos,i=this._source,o=e.length;if(1>o||n+o>this.sourceLength)return"";for(t=0;o>t;t++)if(i.charAt(n+t).toLowerCase()!==e.charAt(t).toLowerCase())return"";return this.advance(o)},e.prototype.advanceIfString=function(e){var t,n=this._pos,i=this._source,o=e.length;if(1>o||n+o>this.sourceLength)return"";for(t=0;o>t;t++)if(i.charCodeAt(n+t)!==e.charCodeAt(t))return"";return this.advance(o)},e.prototype.advanceIfCharCode=function(e){return this._pos<this.sourceLength&&this._source.charCodeAt(this._pos)===e?this.advance(1):""},e.prototype.advanceIfRegExp=function(e){if(this._pos>=this.sourceLength)return"";var t=e.exec(this._source.substr(this._pos));if(t){if(0===t.index)return this.advance(t[0].length);throw new Error('Regular expression must begin with the character "^"')}return""},e.prototype.advanceLoop=function(e,t,n){if(this.eos())return"";var i=this.createPeeker(e),o=this._pos,r=0,s=null;for(s=t?function(e){return e>0}:function(e){return 0===e};!this.eos()&&s(r=i());)r>0?this.advance(r):this.next();return n&&!this.eos()&&this.advance(r),this._source.substring(o,this._pos)},e.prototype.advanceWhile=function(e){return this.advanceLoop(e,!0,!1)},e.prototype.advanceUntil=function(e,t){return this.advanceLoop(e,!1,t)},e.prototype.resetPeekedToken=function(){this.tokenStart=-1,this.tokenEnd=-1},e.prototype.setTokenRules=function(e,t){(this.separators!==e||this.whitespace!==t)&&(this.separators=e,this.separatorsArr=this.stringToArray(this.separators),this.whitespace=t,this.whitespaceArr=this.stringToArray(this.whitespace),this.resetPeekedToken())},e.prototype.peekToken=function(){if(-1!==this.tokenStart)return this._source.substring(this.tokenStart,this.tokenEnd);var e=this._source,t=this.sourceLength,n=this.whitespaceArr,i=this.separatorsArr,o=this._pos;if(o>=t)throw new Error("Stream is at the end");for(;n[e.charCodeAt(o)]&&t>o;)o++;var r=o;if(i[e.charCodeAt(r)]&&t>r)r++;else for(;!i[e.charCodeAt(r)]&&!n[e.charCodeAt(r)]&&t>r;)r++;return this.tokenStart=o,this.tokenEnd=r,e.substring(o,r)},e.prototype.nextToken=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");var e;return e=-1===this.tokenStart?this.peekToken():this._source.substring(this.tokenStart,this.tokenEnd),this._pos=this.tokenEnd,this.tokenStart=-1,this.tokenEnd=-1,e},e.prototype.peekWhitespace=function(){for(var e=this._source,t=this.sourceLength,n=this.whitespaceArr,i=this._pos;n[e.charCodeAt(i)]&&t>i;)i++;return e.substring(this._pos,i)},e.prototype.skipWhitespace=function(){for(var e=this._source,t=this.sourceLength,n=this.whitespaceArr,i=this._pos,o=this._pos;n[e.charCodeAt(o)]&&t>o;)o++;return i!==o?(this._pos=o,this.tokenStart=-1,this.tokenEnd=-1,e.substring(i,o)):""},e.STRING_TO_ARRAY_CACHE={},e}();t.LineStream=n}),define("vs/editor/modes/nullMode",["require","exports","vs/editor/modes/modes"],function(e,t){function n(e,t,n,i){"undefined"==typeof i&&(i=0);var o=[{startIndex:i,type:"",bracket:0}],r=[{startIndex:i,mode:e}];return{tokens:o,actualStopOffset:i+t.length,endState:n,modeTransitions:r}}var i=function(){function e(e,t){this.mode=e,this.stateData=t}return e.prototype.clone=function(){var t=this.stateData?this.stateData.clone():null;return new e(this.mode,t)},e.prototype.equals=function(e){if(this.mode!==e.getMode())return!1;var t=e.getStateData();return this.stateData||t?this.stateData&&t?this.stateData.equals(t):!1:!0},e.prototype.getMode=function(){return this.mode},e.prototype.tokenize=function(e){return e.advanceToEOS(),{type:""}},e.prototype.getStateData=function(){return this.stateData},e.prototype.setStateData=function(e){this.stateData=e},e}();t.NullState=i;var o=function(){function e(){this.tokenTypeClassificationSupport=this}return e.prototype.getId=function(){return"vs.editor.modes.nullMode"},e.prototype.bindModel=function(){},e.prototype.unbindModel=function(){},e.prototype.getNonWordTokenTypes=function(){return[]},e.prototype.getWordDefinition=function(){return e.DEFAULT_WORD_REGEXP},e.DEFAULT_WORD_REGEXP=/(-?\d*\.\d\w*)|(\w+)/g,e}();t.NullMode=o,t.nullTokenize=n}),define("vs/base/worker/workerProtocol",["require","exports"],function(e,t){t.MessageType={INITIALIZE:"$initialize",REPLY:"$reply",PRINT:"$print"},t.ReplyType={COMPLETE:"complete",ERROR:"error",PROGRESS:"progress"},t.PrintType={LOG:"log",DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"}}),define("vs/base/worker/workerClient",["require","exports","vs/base/lib/winjs.base","vs/base/dom/dom","vs/base/performance/timer","vs/base/errors","vs/base/worker/workerProtocol","vs/base/env"],function(e,t,n,i,o,r,s,a){function u(t,n){return e.toUrl("./"+t+"?"+encodeURIComponent(n))}t.WorkerMain="workerMain.js";var l=a.getCrossOriginWorkerScriptUrl||u,c=function(){function e(e,n,i){this.id=e,this.worker=new Worker(l(t.WorkerMain,n)),this.worker.onmessage=function(e){i(JSON.parse(e.data))}}return e.prototype.getId=function(){return this.id},e.prototype.postMessage=function(e){this.worker.postMessage(JSON.stringify(e))},e.prototype.terminate=function(){this.worker.terminate()},e}(),d=function(){function t(t,n){var o=this;this.id=t,this.loaded=!1,this.beforeLoadMessages=[],this.iframe=document.createElement("iframe"),this.iframe.id=this.iframeId(),this.iframe.src=e.toUrl("./workerMainCompatibility.html"),this.iframe.frameborder=this.iframe.height=this.iframe.width="0",this.iframe.style.display="none",i.addListener(this.iframe,"load",function(){return o.onLoaded()}),this.onMessage=function(e){var t=null;try{t=JSON.parse(e.data)}catch(i){}t&&n(t)},i.addListener(window,"message",this.onMessage),document.body.appendChild(this.iframe)}return t.prototype.iframeId=function(){return"worker_iframe_"+this.id},t.prototype.onLoaded=function(){for(this.loaded=!0;this.beforeLoadMessages.length>0;)this.postMessage(this.beforeLoadMessages.shift())},t.prototype.getId=function(){return this.id},t.prototype.postMessage=function(e){this.loaded===!0?window.frames[this.iframeId()].postMessage(JSON.stringify(e),"*"):this.beforeLoadMessages.push(e)
},t.prototype.terminate=function(){window.removeEventListener("message",this.onMessage),window.frames[this.iframeId()].close()},t}(),h=function(){function e(e){this.label=e}return e.prototype.create=function(e,t){var n=null;try{n=new c(e,this.label,t)}catch(i){n=new d(e,t)}return n},e}();t.DefaultWorkerFactory=h;var p=function(){function e(t,n){var i=this;this._lastMessageId=0,this._promises={},this._messageHandlers={},this._messagesQueue=[],this._processQueueTimeout=-1,this._waitingForWorkerReply=!1,this._lastTimerEvent=null,this._worker=t.create(++e.LAST_WORKER_ID,function(e){return i._onmessage(e)});var o=null,r=window.require;"function"==typeof r.getConfig?o=r.getConfig():"undefined"!=typeof window.requirejs&&(o=window.requirejs.s.contexts._.config);var a=window.MonacoEnvironment||null;this.onModuleLoaded=this._sendMessage(s.MessageType.INITIALIZE,{id:this._worker.getId(),moduleId:n,loaderConfiguration:o,MonacoEnvironment:a}),this.onModuleLoaded.then(null,function(){return i._onError("Worker failed to load "+n)})}return e.prototype.request=function(e,t,i){var o=this;if("$"===e.charAt(0))throw new Error("Illegal requestName: "+e);var r,s=!1;return new n.Promise(function(n,a,u){o.onModuleLoaded.then(function(){s||(r=o._sendMessage(e,t,i).then(n,a,u))},a,u)},function(){r?r.cancel():s=!0})},e.prototype.destroy=function(){this.dispose()},e.prototype.dispose=function(){var e=Object.keys(this._promises);if(e.length>0){console.warn("Terminating a worker with "+e.length+" pending promises:"),console.warn(this._promises);for(var t in this._promises)e.hasOwnProperty(t)&&this._promises[t].error("Worker forcefully terminated")}this._worker.terminate()},e.prototype.addMessageHandler=function(e,t){this._messageHandlers[e]=t},e.prototype.removeMessageHandler=function(e){delete this._messageHandlers[e]},e.prototype._sendMessage=function(e,t,i){var o=this;"undefined"==typeof i&&(i=(new Date).getTime());var r,s,a,u={id:++this._lastMessageId,type:e,timestamp:i,payload:t},l=new n.Promise(function(e,t,n){r=e,s=t,a=n},function(){o._removeMessage(u.id)});return this._promises[u.id]={complete:r,error:s,progress:a,type:e,payload:t},this._enqueueMessage(u),l},e.prototype._enqueueMessage=function(e){var t,n=-1;for(t=this._messagesQueue.length-1;t>=0;t--)if(this._messagesQueue[t].timestamp<=e.timestamp){n=t;break}this._messagesQueue.splice(n+1,0,e),this._processMessagesQueue()},e.prototype._removeMessage=function(e){for(var t=0,n=this._messagesQueue.length;n>t;t++)if(this._messagesQueue[t].id===e)return this._promises.hasOwnProperty(String(e))&&delete this._promises[String(e)],this._messagesQueue.splice(t,1),this._processMessagesQueue(),void 0},e.prototype._processMessagesQueue=function(){var e=this;if(-1!==this._processQueueTimeout&&(clearTimeout(this._processQueueTimeout),this._processQueueTimeout=-1),0!==this._messagesQueue.length&&!this._waitingForWorkerReply){var t=this._messagesQueue[0].timestamp-(new Date).getTime();t=Math.max(0,t),this._processQueueTimeout=setTimeout(function(){if(e._processQueueTimeout=-1,0!==e._messagesQueue.length){e._waitingForWorkerReply=!0;var t=e._messagesQueue.shift();e._lastTimerEvent=o.start(2,e._decodeMessageName(t)),e._worker.postMessage(t)}},t)}},e.prototype._onmessage=function(e){if(e.monacoWorker&&(!e.from||e.from===this._worker.getId())){switch(e.type){case s.MessageType.REPLY:var t=e;if(this._waitingForWorkerReply=!1,this._lastTimerEvent&&this._lastTimerEvent.stop(),!this._promises.hasOwnProperty(String(t.id)))return this._onError("Received unexpected message from Worker:",e),void 0;switch(t.action){case s.ReplyType.COMPLETE:this._promises[t.id].complete(t.payload),delete this._promises[t.id];break;case s.ReplyType.ERROR:this._onError("Main Thread sent to worker the following message:",{type:this._promises[t.id].type,payload:this._promises[t.id].payload}),this._onError("And the worker replied with an error:",t.payload),r.onUnexpectedError(t.payload),this._promises[t.id].error(t.payload),delete this._promises[t.id];break;case s.ReplyType.PROGRESS:this._promises[t.id].progress(t.payload)}break;case s.MessageType.PRINT:var n=e;this._consoleLog(n.level,n.payload);break;default:if(e.type in this&&"function"==typeof this[e.type])this[e.type](e.payload);else{var i=this._messageHandlers[e.type];i&&"function"==typeof i?i(e.payload):this._onError("Received unexpected message from Worker:",e)}}this._processMessagesQueue()}},e.prototype._decodeMessageName=function(e){return e.type},e.prototype._consoleLog=function(e,t){switch(e){case s.PrintType.LOG:console.log(t);break;case s.PrintType.DEBUG:console.info(t);break;case s.PrintType.INFO:console.info(t);break;case s.PrintType.WARN:console.warn(t);break;case s.PrintType.ERROR:console.error(t);break;default:this._onError("Received unexpected message from Worker:",t)}},e.prototype._onError=function(e,t){console.error(e),console.info(t)},e.LAST_WORKER_ID=1,e}();t.WorkerClient=p}),define("vs/platform/thread/attribute",["require","exports","vs/platform/services"],function(e,t){function n(e,t){for(var n in e)if(e[n]===t)return n;throw new Error("Member not found in prototype")}function i(e){var n=e[t.THREAD_SERVICE_PROPERTY_NAME];if(!n)throw new Error("Objects that use thread attributes must be instantiated with the thread service");return n}function o(e,t){var o=n(e.prototype,t);e.prototype[o]=function(){for(var e=[],n=0;n<arguments.length-0;n++)e[n]=arguments[n+0];return i(this).MainThread(this,o,t,e)}}function r(e,t,o){"undefined"==typeof o&&(o=0);var r=n(e.prototype,t);e.prototype[r]=function(){for(var e=[],n=0;n<arguments.length-0;n++)e[n]=arguments[n+0];return i(this).OneWorker(this,r,t,e,o)}}function s(e,t){var o=n(e.prototype,t);e.prototype[o]=function(){for(var e=[],n=0;n<arguments.length-0;n++)e[n]=arguments[n+0];return i(this).AllWorkers(this,o,t,e)}}function a(e,t){var o=n(e.prototype,t);e.prototype[o]=function(){for(var e=[],n=0;n<arguments.length-0;n++)e[n]=arguments[n+0];return i(this).Everywhere(this,o,t,e)}}t.THREAD_SERVICE_PROPERTY_NAME="__$$__threadService",t.MainThread=o,t.OneWorker=r,t.AllWorkers=s,t.Everywhere=a}),define("vs/base/injector",["require","exports","vs/base/assert","vs/base/types"],function(e,t,n,i){var o="inject",r=o.length,s=function(){function e(){this.map={},this.parent=null}return e.prototype.setParent=function(e){this.parent=e},e.prototype.registerService=function(e,t){return n.ok(!i.isUndefinedOrNull(e)),n.ok(!i.isUndefinedOrNull(t)),this.map[e.toLowerCase()]=t,t},e.prototype.injectTo=function(e){var t=this;n.ok(!i.isUndefinedOrNull(e));var s=!1;if(i.isArray(e))return e.forEach(function(e){s=t.injectTo(e)||s}),s;for(var a in e)if(0===a.indexOf(o)){var u=e[a];if(i.isFunction(u)){a=a.substring(r).toLowerCase();var l=this.findService(a,e);i.isUndefinedOrNull(l)||(u.apply(e,[l]),s=!0)}}return s},e.prototype.createChild=function(){var t=new e;return t.setParent(this),t},e.prototype.findService=function(e,t){"undefined"==typeof t&&(t=null);var n=this.map[e];return!i.isUndefinedOrNull(n)&&t!==n||null===this.parent||(n=this.parent.findService(e,t)),n},e.prototype.dispose=function(){this.map=null,this.parent=null},e}();t.Container=s}),define("vs/platform/instantiation/instantiationService",["require","exports","vs/base/lib/winjs.base","vs/base/errors","vs/base/strings","vs/base/types","vs/platform/services","vs/base/collections","vs/base/injector"],function(e,t,n,i,o,r,s,a,u){function l(e){return new h(e,new c)}t.create=l;var c=function(){function e(){this._value=0}return Object.defineProperty(e.prototype,"locked",{get:function(){return 0===this._value},enumerable:!0,configurable:!0}),e.prototype.runUnlocked=function(e){this._value++;try{return e()}finally{this._value--}},e}(),d=function(){function e(e,t){var n=this;this._services=e,this._lock=t,this._diContainer=new u.Container,a.forEach(this._services,function(e){n._diContainer.registerService(e.key,e.value),Object.defineProperty(n,e.key,{get:function(){if(n._lock.locked)throw i.illegalState("the services map can only be used during construction");if(!e.value)throw i.illegalArgument(o.format("service with '{0}' not found",e.key));return e.value},set:function(){throw i.illegalState("services cannot be changed")},configurable:!1,enumerable:!1})})}return Object.defineProperty(e.prototype,"lock",{get:function(){return this._lock},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"services",{get:function(){return this._services},enumerable:!0,configurable:!0}),e.prototype.createInstance=function(e,t){var n=this,i=[e.ctor,this];return i.push.apply(i,e.staticArguments()),i.push.apply(i,t),this._lock.runUnlocked(function(){var t=r.create.apply(null,i);return n._diContainer.injectTo(t),e._validate(t),t})},e}(),h=function(){function t(e,t){e.instantiationService=this,this._servicesMap=new d(e,t)}return t.prototype.createChild=function(){var e,n=arguments[arguments.length-1],i={};return a.forEach(this._servicesMap.services,function(e){i[e.key]=e.value}),a.forEach(n,function(e){i[e.key]=e.value}),e=new t(i,this._servicesMap.lock),2===arguments.length?e._servicesMap:e},t.prototype.createInstance=function(e){for(var t=new Array(arguments.length-1),n=1,i=arguments.length;i>n;n++)t[n-1]=arguments[n];return e instanceof s.SyncDescriptor?this._servicesMap.createInstance(e,t):e instanceof s.AsyncDescriptor?this._createInstanceAsync(e,t):this._servicesMap.createInstance(new s.SyncDescriptor(e),t)},t.prototype._createInstanceAsync=function(t,o){var r,a=this;return new n.TPromise(function(n,u){e([t.moduleName],function(e){if(r&&u(r),!e)return u(i.illegalArgument("module not found: "+t.moduleName));if("function"!=typeof e[t.ctorName])return u(i.illegalArgument("not a function: "+t.ctorName));try{o.unshift.apply(o,t.staticArguments()),n(a._servicesMap.createInstance(new s.SyncDescriptor(e[t.ctorName]),o))}catch(l){return u(l)}},u)},function(){r=i.canceled()})},t}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/thread/threadService",["require","exports","vs/base/lib/winjs.base","vs/base/env","vs/base/worker/workerClient","vs/platform/services","vs/platform/thread/attribute","vs/base/errors","vs/base/performance/timer","vs/platform/instantiation/instantiationService"],function(e,t,n,i,o,r,s,a,u,l){var c=function(){function e(e,t){"undefined"==typeof e&&(e=null),"undefined"==typeof t&&(t=null),this.isInMainThread=!i.isInWebWorker()&&!i.isInEmulatedWebWorker(),this._impl=t,this._impl&&this._impl.setParent(this),this._mainThreadData=e}return e.prototype.injectInstantiationService=function(e){this._instantiationService=e},e.prototype.injectDispatcherService=function(e){this._dispatcherService=e},e.prototype.injectPublisherService=function(e){this._publisher=e},e.prototype.injectContextService=function(e){this._contextService=e},e.prototype.injectTelemetryService=function(e){this._telemetryService=e},e.prototype.injectionDone=function(){this._impl||(this._impl=this.isInMainThread?new p(this._instantiationService,this._contextService,this._telemetryService):new f(this._mainThreadData,this._instantiationService,this._dispatcherService,this._publisher),this._mainThreadData=null)},e.prototype.createInstance=function(){for(var e=[],t=0;t<arguments.length-0;t++)e[t]=arguments[t+0];return this._impl.createInstance(this,e)},e.prototype.MainThread=function(e,t,n,i){return this._impl.MainThread(e,t,n,i)},e.prototype.OneWorker=function(e,t,n,i,o){return this._impl.OneWorker(e,t,n,i,o)},e.prototype.AllWorkers=function(e,t,n,i){return this._impl.AllWorkers(e,t,n,i)},e.prototype.Everywhere=function(e,t,n,i){return this._impl.Everywhere(e,t,n,i)},e.NULL_SERVICE=null,e}();t.ThreadService=c;var d=function(){function e(e){this._boundObjects={},this._instantiationService=e,this._pendingObjects=[]}return e.prototype.setParent=function(e){this._instantiationService=this._instantiationService.createChild({threadService:e})},e.prototype.createInstance=function(e,t){var i=this,o=this._instantiationService.createInstance.apply(this._instantiationService,t);return n.Promise.is(o)?(this._pendingObjects.push(o),o.then(function(t){for(var n=0;n<i._pendingObjects.length;n++)if(i._pendingObjects[n]===o){i._pendingObjects.splice(n,1);break}return i._finishInstance(e,t)})):this._finishInstance(e,o)},e.prototype._finishInstance=function(e,t){return t[s.THREAD_SERVICE_PROPERTY_NAME]=e,this._boundObjects[t.getId()]=t,t.creationDone&&t.creationDone(),t},e}(),h=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.MainThread=function(e,t,n,i){return n.apply(e,i)},t.prototype.OneWorker=function(){return n.Promise.as(null)},t.prototype.AllWorkers=function(){return n.Promise.as(null)},t.prototype.Everywhere=function(e,t,n,i){return n.apply(e,i)},t}(d),p=function(e){function t(t,n,o){e.call(this,t),this._workerPool=[],this._affinityMap={},this._contextService=n,this._telemetryService=o,i.hasWebWorkerSupport()?(this._createWorker(),this._createWorker(),this._createWorker()):this._createWorker()}return __extends(t,e),t.prototype._getOrSetAffinity=function(e,t,n){if(0===t)return n;var i=e.getId()+"."+t;return this._affinityMap.hasOwnProperty(i)||(this._affinityMap[i]=n),this._affinityMap[i]},t.prototype._createWorker=function(){var e=this,t=new o.WorkerClient(new o.DefaultWorkerFactory("service"+this._workerPool.length),"vs/editor/worker/editorWorkerServer");t.onModuleLoaded=t.request("initialize",{threadService:this._getRegisteredObjectsData(),telemetrySessionID:this._telemetryService.sessionID,contextService:{workspace:this._contextService.getWorkspace(),configuration:this._contextService.getConfiguration(),options:this._contextService.getOptions()}}),t.addMessageHandler("threadService",function(t){var i=t.identifier,o=t.memberName,r=t.args;if(!e._boundObjects.hasOwnProperty(i))throw new Error("Object "+i+" was not found on the main thread.");var s=e._boundObjects[i];return n.Promise.as(s[o].apply(s,r))}),this._workerPool.push(t)},t.prototype._getRegisteredObjectsData=function(){var e=this,t={};return Object.keys(this._boundObjects).forEach(function(n){var i=e._boundObjects[n];i.getSerializableState&&(t[n]=i.getSerializableState())}),t},t.prototype.MainThread=function(e,t,n,i){return n.apply(e,i)},t.prototype.OneWorker=function(e,t,n,i,o){if(0===this._workerPool.length)throw new Error("Cannot fulfill request...");var r=Math.floor(Math.random()*this._workerPool.length),s=this._getOrSetAffinity(e,o,r);return this._remoteCall(this._workerPool[s],e,t,i)},t.prototype.AllWorkers=function(e,t,i,o){var r=this;return n.Promise.join(this._workerPool.map(function(n){return r._remoteCall(n,e,t,o)}))},t.prototype.Everywhere=function(e,t,n,i){var o=this;return this._workerPool.forEach(function(n){o._remoteCall(n,e,t,i).done(null,a.onUnexpectedError)}),n.apply(e,i)},t.prototype._remoteCall=function(e,t,i,o){var r=t.getId();if(!r)throw new Error("Synchronizable Objects must have an identifier");var s=u.start(1,r+"."+i),a=function(){s.stop()};return n.decoratePromise(e.request("threadService",[r,i,o]),a,a)},t}(d),f=function(e){function t(t,i,o,r){var s=this;e.call(this,i),this._mainThreadData=t,this._dispatcherService=o,this._publisher=r,this._dispatcherService.register("threadService",function(e,t,i){if(!s._boundObjects.hasOwnProperty(e))return n.Promise.join(s._pendingObjects.slice(0)).then(function(){if(!s._boundObjects.hasOwnProperty(e))return n.Promise.wrapError(new Error("Bound object `"+e+"` was not found."));var o=s._boundObjects[e];return n.Promise.as(o[t].apply(o,i))});var o=s._boundObjects[e];return n.Promise.as(o[t].apply(o,i))})}return __extends(t,e),t.prototype._finishInstance=function(t,n){var i=n.getId();if(this._mainThreadData.hasOwnProperty(i)){var o=this._mainThreadData[i];delete this._mainThreadData[i],n.setData(o)}return e.prototype._finishInstance.call(this,t,n)},t.prototype.MainThread=function(e,t,n,i){return this._publisher.sendMessage("threadService",{identifier:e.getId(),memberName:t,args:i})},t.prototype.OneWorker=function(e,t,n,i){return n.apply(e,i)},t.prototype.AllWorkers=function(e,t,n,i){return n.apply(e,i)},t.prototype.Everywhere=function(e,t,n,i){return n.apply(e,i)},t}(d);c.NULL_SERVICE=new c(null,new h(l.create({})))}),define("vs/editor/modes/modesRegistry",["require","exports","vs/platform/services","vs/base/lib/winjs.base","vs/base/objects","vs/platform/thread/attribute","vs/base/errors"],function(e,t,n,i,o,r,s){var a=function(){function e(){this.mimetypeToModeId={},this.workerParticipantsRegistry={},this.modesDescriptorsRegistry={},this.modeOptions={}}return e}();t.ModesRegistryDataSource=a;var u=function(e){return n.AsyncDescriptor.fromJSON(e)},l=function(e){return n.AsyncDescriptor.fromJSON(e)},c=function(){function e(e){this._modeInstances={},this._modeCreationRequests={},this._data=new a,this._threadService=e.threadService}return e.prototype.getId=function(){return"modesRegistry"},e.prototype.getSerializableState=function(){var e=this,t=[];t=t.concat(Object.keys(this._modeInstances)),t=t.concat(Object.keys(this._modeCreationRequests));var n=function(e){return e.toJSON()},i={};Object.keys(this._data.workerParticipantsRegistry).forEach(function(t){i[t]=e._data.workerParticipantsRegistry[t].map(n)});var o={};return Object.keys(this._data.modesDescriptorsRegistry).forEach(function(t){o[t]=n(e._data.modesDescriptorsRegistry[t])}),{mimetypeToModeId:this._data.mimetypeToModeId,workerParticipantsRegistry:i,modesDescriptorsRegistry:o,modeOptions:this._data.modeOptions,instantiatedModes:t}},e.prototype.setData=function(e){var t=this;this._data.mimetypeToModeId=e.mimetypeToModeId;var n={};Object.keys(e.workerParticipantsRegistry).forEach(function(t){n[t]=e.workerParticipantsRegistry[t].map(u)});var i={};Object.keys(e.modesDescriptorsRegistry).forEach(function(t){i[t]=l(e.modesDescriptorsRegistry[t])}),this._data.workerParticipantsRegistry=n,this._data.modesDescriptorsRegistry=i,this._data.modeOptions=e.modeOptions,e.instantiatedModes.forEach(function(e){t._getOrCreateOneModeAsync(e).done(null,s.onUnexpectedError)})},e.prototype.cloneFrom=function(e){this._importEverywhere(e.getSerializableState())},e.prototype._importEverywhere=function(e){this.setData(e)},e.prototype.registerWorkerParticipant=function(e,t){this._doRegisterWorkerParticipant(e,t),this._registerWorkerParticipantInWorkers(e,t)},e.prototype._registerWorkerParticipantInWorkers=function(e,t){this._doRegisterWorkerParticipant(e,u(t))},e.prototype._doRegisterWorkerParticipant=function(e,t){this._data.workerParticipantsRegistry.hasOwnProperty(e)||(this._data.workerParticipantsRegistry[e]=[]),this._data.workerParticipantsRegistry[e].push(t)},e.prototype.getWorkerParticipants=function(e){return this._data.workerParticipantsRegistry.hasOwnProperty(e)?this._data.workerParticipantsRegistry[e]:[]},e.prototype.isRegisteredMode=function(e){var t=this._data.mimetypeToModeId[e]||e;return this._data.modesDescriptorsRegistry.hasOwnProperty(t)},e.prototype.getRegisteredModes=function(){return Object.keys(this._data.modesDescriptorsRegistry)},e.prototype.getRegisteredMimetypes=function(){return Object.keys(this._data.mimetypeToModeId)},e.prototype.registerMode=function(e,t,n){this._doRegisterMode(e,t,n),this._registerModeInWorkers(e,t,n)},e.prototype._registerModeInWorkers=function(e,t,n){this._doRegisterMode(e,t,l(n))},e.prototype._doRegisterMode=function(e,t,n){var i=this;t.forEach(function(t){i._data.mimetypeToModeId[t]=e}),this._data.modesDescriptorsRegistry[e]=n},e.prototype.configureMode=function(e,t){if(!this._data.mimetypeToModeId.hasOwnProperty(e))throw new Error("Mimetype "+e+" was not found in the registry");this.configureModeById(this._data.mimetypeToModeId[e],t)},e.prototype.configureModeById=function(e,t){var n=this._data.modeOptions[e]||{},i=o.mixin(o.clone(n),t);if(!o.equals(n,i)&&(this._data.modeOptions[e]=i,this._modeInstances.hasOwnProperty(e))){var r=this._modeInstances[e];r&&r.configSupport&&r.configSupport.configure(i)}},e.prototype.getMode=function(e){for(var t=this._extractModeIds(e),n=0;n<t.length;n++){var i=this._getOrCreateOneModeSync(t[n]);if(i)return i}return null},e.prototype._getOrCreateOneModeSync=function(e){if(this._modeInstances.hasOwnProperty(e))return this._modeInstances[e];if(!this._data.modesDescriptorsRegistry.hasOwnProperty(e))return null;var t=this._data.modesDescriptorsRegistry[e],n=t.toSyncDescriptor();if(!n)return null;this._instantiateModeInAllWorkers(e);var i=this._threadService.createInstance(n,this._makeDescriptor(e,t));return this._modeInstances[e]=i,i.configSupport&&this._data.modeOptions.hasOwnProperty(e)&&i.configSupport.configure(this._data.modeOptions[e]||{}),i},e.prototype.getOrCreateMode=function(e){for(var t=this._extractModeIds(e),n=0;n<t.length;n++)if(this._data.modesDescriptorsRegistry.hasOwnProperty(t[n]))return this._getOrCreateOneModeAsync(t[n]);return i.TPromise.as(null)},e.prototype._getOrCreateOneModeAsync=function(e,t){var n=this;if("undefined"==typeof t&&(t=!0),this._modeInstances.hasOwnProperty(e))return i.TPromise.as(this._modeInstances[e]);if(!this._modeCreationRequests.hasOwnProperty(e)){var o=this._data.modesDescriptorsRegistry[e];t&&this._instantiateModeInAllWorkers(e),this._modeCreationRequests[e]=this._threadService.createInstance(o,this._makeDescriptor(e,o)).then(function(t){return n._modeInstances[e]=t,t.configSupport&&n._data.modeOptions.hasOwnProperty(e)&&t.configSupport.configure(n._data.modeOptions[e]||{}),delete n._modeCreationRequests[e],t})}return this._modeCreationRequests[e]},e.prototype._instantiateModeInAllWorkers=function(e){this._getOrCreateOneModeAsync(e,!1).done(null,s.onUnexpectedError)},e.prototype._extractModeIds=function(e){var t=this;return e?e.split(",").map(function(e){var n=e.trim();return t._data.mimetypeToModeId[n]||n}):[]},e.prototype._makeDescriptor=function(e){return{id:e,workerParticipants:this._getWorkerParticipants(e)}},e.prototype._getWorkerParticipants=function(e){return this._data.workerParticipantsRegistry[e]||[]},e.$_importEverywhere=r.Everywhere(e,e.prototype._importEverywhere),e.$_registerWorkerParticipantInWorkers=r.AllWorkers(e,e.prototype._registerWorkerParticipantInWorkers),e.$_registerModeInWorkers=r.AllWorkers(e,e.prototype._registerModeInWorkers),e.$configureModeById=r.Everywhere(e,e.prototype.configureModeById),e.$_instantiateModeInAllWorkers=r.AllWorkers(e,e.prototype._instantiateModeInAllWorkers),e}();t.ModesRegistryImpl=c}),define("vs/editor/core/model/modelLine",["require","exports","vs/editor/modes/modes","vs/base/arrays"],function(e,t,n,i){var o=function(){function e(e,t){this.lineNumber=e,this.text=t,this.state=null,this.modeTransitions=null,this.isInvalid=!1,this.markers=[],this._recreateLineTokens(null)}return e.prototype._recreateLineTokens=function(t){0===this.text.length?t=e.DEFAULT_TOKENS_EMPTY_TEXT:t&&0!==t.length||(t=e.DEFAULT_TOKENS_NON_EMPTY_TEXT),this.lineTokens=new r(t,this.text.length)},e.prototype.insertText=function(t,n,i,o){var r=this.text,s=r.length+1,a=this.lineTokens.getTokens(),u=i.text.length;n=Math.max(1,n),n=Math.min(n,s);var l,c;if(u>0){var d=r.substring(0,n-1)+i.text+r.substring(n-1,r.length);if(a!==e.DEFAULT_TOKENS_NON_EMPTY_TEXT&&a!==e.DEFAULT_TOKENS_EMPTY_TEXT){var h;for(l=0,c=a.length;c>l;l++)h=a[l],h.startIndex>=n-1&&h.startIndex>0&&(h.startIndex+=u)}var p;for(l=0,c=this.markers.length;c>l;l++)p=this.markers[l],(p.column>n||p.column===n&&(o||!p.stickToPreviousCharacter))&&(t[p.id]=!0,p.oldLineNumber=p.oldLineNumber||this.lineNumber,p.oldColumn=p.oldColumn||p.column,p.column+=u);this.text=d,this._recreateLineTokens(a)}if(i.markers)for(l=0,c=i.markers.length;c>l;l++)p=i.markers[l],t[p.id]=!0,p.oldLineNumber=p.oldLineNumber||this.lineNumber,p.oldColumn=p.oldColumn||p.column,p.line=this,p.column+=n-1,this.markers.push(p)},e.prototype.removeText=function(t,n,i,o,r){var s=i,a="",u=[],l=this.text,c=l.length+1,d=this.lineTokens.getTokens();n=Math.max(1,n),i=Math.max(1,i),n=Math.min(n,c),i=Math.min(i,c);var h;if(i>n&&i>1&&c>n){a=l.substring(n-1,i-1);var p=l.substring(0,n-1)+l.substring(i-1,l.length);if(d!==e.DEFAULT_TOKENS_NON_EMPTY_TEXT&&d!==e.DEFAULT_TOKENS_EMPTY_TEXT){var f,g;for(h=0;h<d.length;h++){var f=d[h].startIndex,g=f;f>=i-1?g=f-a.length:f>=n-1&&(g=n-1),g>=p.length?(d.splice(h,1),h--):(d[h].startIndex=g,h>0&&d[h-1].startIndex>=g&&(d.splice(h-1,1),h--))}}this.text=p,this._recreateLineTokens(d)}var m;for(h=0;h<this.markers.length;h++)m=this.markers[h],m.column>s||m.column===s&&(r||!m.stickToPreviousCharacter)?(t[m.id]=!0,m.oldLineNumber=m.oldLineNumber||this.lineNumber,m.oldColumn=m.oldColumn||m.column,m.column-=a.length):(m.column>n||m.column===n&&(r||!m.stickToPreviousCharacter))&&(t[m.id]=!0,m.oldLineNumber=m.oldLineNumber||this.lineNumber,m.oldColumn=m.oldColumn||m.column,o?(m.line=null,m.column-=n-1,this.markers.splice(h,1),h--,u.push(m)):m.column=n);return{text:a,markers:u}},e.prototype.addMarker=function(e){e.line=this,this.markers.push(e)},e.prototype.addMarkers=function(e){var t,n;for(t=0,n=e.length;n>t;t++)e[t].line=this;this.markers=this.markers.concat(e)},e.prototype.removeMarker=function(e){var t=this._indexOfMarkerId(e.id);t>=0&&this.markers.splice(t,1),e.line=null},e.prototype._indexOfMarkerId=function(e){var t,n,i=this.markers;for(t=0,n=i.length;n>t;t++)if(i[t].id===e)return t;return-1},e.prototype.setTokens=function(e){this._recreateLineTokens(e)},e.DEFAULT_TOKENS_NON_EMPTY_TEXT=[{startIndex:0,type:"",bracket:0}],e.DEFAULT_TOKENS_EMPTY_TEXT=[],e}();t.ModelLine=o;var r=function(){function e(e,t){this.tokens=e,this.textLength=t}return e.prototype.getTokens=function(){return this.tokens},e.prototype.getTextLength=function(){return this.textLength},e.prototype.equals=function(e){return this===e},e.prototype.findIndexOfOffset=function(e){return i.findIndexInSegmentsArray(this.tokens,e)},e}();t.LineTokens=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/textModel",["require","exports","vs/base/eventEmitter","vs/editor/editor","vs/editor/core/model/modelLine","vs/base/strings","vs/editor/core/position","vs/editor/core/range","vs/editor/core/constants"],function(e,t,n,i,o,r,s,a,u){var l=65279,c=("\r".charCodeAt(0),"\n".charCodeAt(0)," ".charCodeAt(0)),d="	".charCodeAt(0),h=function(e){function t(t,n){t.push(u.EventType.ModelContentChanged),e.call(this,t),this._constructLines(n),this._versionId=1}return __extends(t,e),t.prototype.getVersionId=function(){return this._versionId},t.prototype._increaseVersionId=function(){this._versionId++},t.prototype._setVersionId=function(e){this._versionId=e},t.prototype.dispose=function(){this._lines=null,this._EOL=null,this._BOM=null,e.prototype.dispose.call(this)},t.prototype._createContentChangedFlushEvent=function(){return{changeType:u.EventType.ModelContentChangedFlush,detail:"",versionId:-1,isUndoing:!1,isRedoing:!1}},t.prototype._resetValue=function(e,t){this._constructLines(t),this._versionId++,e.detail=this.getValue(1),e.versionId=this._versionId},t.prototype.setValue=function(e){if(null!==e){var t=this._createContentChangedFlushEvent();this._resetValue(t,e),this._emitModelContentChangedFlushEvent(t)}},t.prototype.getValue=function(e,t){"undefined"==typeof t&&(t=!1);var n=this.getFullModelRange(),i=this.getValueInRange(n,e);return t?this._BOM+i:i},t.prototype.getValueInRange=function(e,t){"undefined"==typeof t&&(t=0);var n=this.validateRange(e);if(n.isEmpty())return"";if(n.startLineNumber===n.endLineNumber)return this._lines[n.startLineNumber-1].text.substring(n.startColumn-1,n.endColumn-1);var i=this._getEndOfLine(t),o=n.startLineNumber-1,r=n.endLineNumber-1,s=[];s.push(this._lines[o].text.substring(n.startColumn-1));for(var a=o+1;r>a;a++)s.push(this._lines[a].text);return s.push(this._lines[r].text.substring(0,n.endColumn-1)),s.join(i)},t.prototype.isDominatedByLongLines=function(e){var t,n,i,o=0,r=0,s=this._lines;for(t=0,n=this._lines.length;n>t;t++)i=s[t].text.length,i>=e?r+=i:o+=i;return r>o},t.prototype._extractIndentationFactors=function(){var e,t,n,i,o,r,s,a,u,l,h,p=this._lines,f=0,g="",m=0,v=[],y=0,_=[];for(e=0,t=p.length;t>e;e++){for(s=p[e].text,a=!1,u=0,h=0,l=0,n=0,i=s.length;i>n;n++)if(o=s.charCodeAt(n),o===d)l++;else{if(o!==c){a=!0,u=n;break}h++}if(1===h&&(h=0),(l>0||h>0)&&(f++,l>0&&y++,h>0&&(_[h]=(_[h]||0)+1)),a){h=0;var b=!0;for(n=0;m>n&&u>n;n++)r=g.charCodeAt(n),o=s.charCodeAt(n),b&&r!==o&&(b=!1),b||(r===c&&h++,o===c&&h++);for(;m>n;n++)r=g.charCodeAt(n),r===c&&h++;for(;u>n;n++)o=s.charCodeAt(n),o===c&&h++;1===h&&(h=0),h>0&&(v[h]=(v[h]||0)+1),m=u,g=s}}return{linesWithIndentationCount:f,linesIndentedWithTabs:y,relativeSpaceCounts:v,absoluteSpaceCounts:_}},t.prototype.guessIndentation=function(e){var t,n,i=this._extractIndentationFactors(),o=i.linesWithIndentationCount,r=i.linesIndentedWithTabs,s=i.absoluteSpaceCounts,a=i.relativeSpaceCounts,u=0;for(t=1,n=s.length;n>t;t++)u+=s[t]||0;if(r>=u)return{insertSpaces:!1,tabSize:e};if(6>o&&r>0)return{insertSpaces:!1,tabSize:e};var l,c,d,h,p=[];for(l=2,n=s.length;n>l;l++)if(s[l]){for(c=0,d=0,h=l;n>h;h+=l)s[h]?c+=s[h]:d+=l/h;p[l]=c/(1+d)}var f=1,g=0;for(l=Math.max(a.length,p.length);l>=2;l--)c=(p[l]||0)+(a[l]||0),c>g&&(f=l,g=c);return{insertSpaces:!0,tabSize:f}},t.prototype.getLineCount=function(){return this._lines.length},t.prototype.getLineContent=function(e){return this._lines[e-1].text},t.prototype.getEOL=function(){return this._EOL},t.prototype.getLineMaxColumn=function(e){return this._lines[e-1].text.length+1},t.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=r.firstNonWhitespaceIndex(this._lines[e-1].text);return-1===t?0:t+1},t.prototype.getLineLastNonWhitespaceColumn=function(e){var t=r.lastNonWhitespaceIndex(this._lines[e-1].text);return-1===t?0:t+2},t.prototype.validateLineNumber=function(e){return 1>e&&(e=1),e>this._lines.length&&(e=this._lines.length),e},t.prototype.validatePosition=function(e){var t=e.lineNumber?e.lineNumber:1,n=e.column?e.column:1;1>t&&(t=1),t>this._lines.length&&(t=this._lines.length),1>n&&(n=1);var i=this.getLineMaxColumn(t);return n>i&&(n=i),new s.Position(t,n)},t.prototype.validateRange=function(e){var t=this.validatePosition(new s.Position(e.startLineNumber,e.startColumn)),n=this.validatePosition(new s.Position(e.endLineNumber,e.endColumn));return new a.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.getFullModelRange=function(){var e=this.getLineCount();return new a.Range(1,1,e,this.getLineMaxColumn(e))},t.prototype._emitModelContentChangedFlushEvent=function(e){this.emit(u.EventType.ModelContentChanged,e)},t._splitText=function(e){for(var t=0,n=-1;-1!==(n=e.indexOf("\r\n",n+1));)t++;var i=e.split(/\r?\n/),r="";i[0].length>0&&i[0].charCodeAt(0)===l&&(r=String.fromCharCode(l),i[0]=i[0].substr(1));var s,a,u=[];for(s=0,a=i.length;a>s;s++)u.push(new o.ModelLine(s+1,i[s]));var c=u.length-1,d="";d=0===c||t>c/2?"\r\n":"\n";var h=u[u.length-1];return"\r"===h.text.charAt(h.text.length-1)&&(h.text=h.text.substring(0,h.text.length-1)),{BOM:r,EOL:d,lines:u}},t.prototype._constructLines=function(e){var n=t._splitText(e);this._BOM=n.BOM,this._EOL=n.EOL,this._lines=n.lines},t.prototype._getEndOfLine=function(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL()}throw new Error("Unknown EOL preference")},t}(n.EventEmitter);t.TextModel=h});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/mirrorModel",["require","exports","vs/editor/core/constants","vs/editor/core/view/model/prefixSumComputer","vs/editor/core/model/textModel","vs/editor/core/model/modelLine"],function(e,t,n,i,o,r){var s=function(e){function t(t,n,i,o,r,s){e.call(this,t,i),this.wordsRegexp=null,this._modeId=o,s||(s={}),this._setVersionId(n),this._associatedResource=r,this._extraProperties=s}return __extends(t,e),t.prototype.getModeId=function(){return this._modeId
},t.prototype._constructLines=function(t){e.prototype._constructLines.call(this,t),this._EOL="\n"},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.getAssociatedResource=function(){return this._associatedResource},t.prototype.getProperty=function(e){return this._extraProperties.hasOwnProperty(e)?this._extraProperties[e]:null},t.prototype._ensurePrefixSum=function(){if(!this._lineStarts){for(var e=[],t=this.getEOL().length,n=0,o=this._lines.length;o>n;n++)e.push(this._lines[n].text.length+t);this._lineStarts=new i.PrefixSumComputer(e)}},t.prototype.getRangeFromOffsetAndLength=function(e,t){var n=this.getPositionFromOffset(e),i=this.getPositionFromOffset(e+t);return{startLineNumber:n.lineNumber,startColumn:n.column,endLineNumber:i.lineNumber,endColumn:i.column}},t.prototype.getOffsetAndLengthFromRange=function(e){var t=this.getOffsetFromPosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this.getOffsetFromPosition({lineNumber:e.endLineNumber,column:e.endColumn});return{offset:t,length:n-t}},t.prototype.getPositionFromOffset=function(e){this._ensurePrefixSum();var t={index:0,remainder:0};return this._lineStarts.getIndexOf(e,t),{lineNumber:t.index+1,column:this.getEOL().length+t.remainder}},t.prototype.getOffsetFromPosition=function(e){return this.getLineStart(e.lineNumber)+e.column-1},t.prototype.getLineStart=function(e){this._ensurePrefixSum();var t=Math.min(e,this._lines.length)-1;return this._lineStarts.getAccumulatedValue(t-1)},t.prototype.getRawLines=function(){return this._lines.map(function(e){return e.text})},t.prototype.getAllWordsWithRange=function(){var e,t=[],n=function(n){var o=i.text.substring(n.start,n.end),r={startLineNumber:e+1,startColumn:n.start+1,endLineNumber:e+1,endColumn:n.end+1};t.push({text:o,range:r})};for(e=0;e<this._lines.length;e++){var i=this._lines[e];this.wordenize(i.text).forEach(n)}return t},t.prototype.getAllWords=function(){var e=this,t=[];return this._lines.forEach(function(n){e.wordenize(n.text).forEach(function(e){t.push(n.text.substring(e.start,e.end))})}),t},t.prototype.getAllUniqueWords=function(e){var t=!1,n={};return this.getAllWords().filter(function(i){return e&&!t&&e===i?(t=!0,!1):n[i]?!1:(n[i]=!0,!0)})},t.prototype.getWordAtPosition=function(e){var t=Math.min(e.lineNumber,this._lines.length)-1,n=this._lines[t];return this.getWord(n.text,e.column-1,function(e,t,n){var i=-1!==t?e.substring(t,n):"";return{word:i,startColumn:t+1,endColumn:n+1}})},t.prototype.getWordUntilPosition=function(e){var t=Math.min(e.lineNumber,this._lines.length)-1,n=this._lines[t];return this.getWord(n.text,e.column-1,function(t,n){var i=-1!==n?t.substring(n,e.column-1):"";return{word:i,startColumn:n+1,endColumn:e.column}})},t.prototype.wordenize=function(e){var t,n=[];if(null===this.wordsRegexp){var i=this.getProperty("$WordDefinitionForMirrorModel");this.wordsRegexp=i?new RegExp(i.source,i.flags):/(-?\d*\.\d\w*)|(\w+)/g}for(;t=this.wordsRegexp.exec(e);)n.push({start:t.index,end:t.index+t[0].length});return n},t.prototype.getWord=function(e,t,n){for(var i=this.wordenize(e),o=0;o<i.length&&t>=i[o].start;o++){var r=i[o];if(t<=r.end)return n(e,r.start,r.end)}return n(e,-1,-1)},t}(o.TextModel);t.AbstractMirrorModel=s;var a=function(e){function t(t,i,o,r,s){e.call(this,[n.EventType.OnBeforeModelContentChangedFlush,n.EventType.OnBeforeModelContentChangedLinesDeleted,n.EventType.OnBeforeModelContentChangedLinesInserted,n.EventType.OnBeforeModelContentChangedLineChanged,"changed"],t,i,o,r,s)}return __extends(t,e),t.prototype.onEvents=function(e){for(var t=!1,i=0,o=e.length;o>i;i++){var r=e[i];switch(r.type){case n.EventType.ModelContentChanged:var s=r;switch(this._lineStarts=null,this._setVersionId(s.versionId),s.changeType){case n.EventType.ModelContentChangedFlush:this.emit(n.EventType.OnBeforeModelContentChangedFlush,r),this._onLinesFlushed(s),t=!0;break;case n.EventType.ModelContentChangedLinesDeleted:this.emit(n.EventType.OnBeforeModelContentChangedLinesDeleted,r),this._onLinesDeleted(s),t=!0;break;case n.EventType.ModelContentChangedLinesInserted:this.emit(n.EventType.OnBeforeModelContentChangedLinesInserted,r),this._onLinesInserted(s),t=!0;break;case n.EventType.ModelContentChangedLineChanged:this.emit(n.EventType.OnBeforeModelContentChangedLineChanged,r),this._onLineChanged(s),t=!0}break;case n.EventType.ModelPropertiesChanged:this._extraProperties=r.properties;break;default:console.warn("Unknown model event: "+r.type)}}t&&this.emit("changed",{})},t.prototype._onLinesFlushed=function(e){this._lineStarts=null,this._constructLines(e.detail)},t.prototype._onLineChanged=function(e){if(this._lineStarts){var t=this.getEOL().length,n=e.detail.length+t;this._lineStarts.changeValue(e.lineNumber-1,n)}this._lines[e.lineNumber-1].text=e.detail},t.prototype._onLinesDeleted=function(e){var t=e.fromLineNumber-1,n=e.toLineNumber-1;this._lineStarts&&this._lineStarts.removeValues(t,n-t+1),this._lines.splice(t,n-t+1)},t.prototype._onLinesInserted=function(e){var t,n,i=this.getEOL().length,o=e.detail.split("\n");for(t=e.fromLineNumber-1,n=0;t<e.toLineNumber;t++,n++)this._lineStarts&&this._lineStarts.insertValue(t,o[n].length+i),this._lines.splice(t,0,new r.ModelLine(0,o[n]))},t}(s);t.MirrorModel=a}),define("vs/editor/modes/boundModels",["require","exports","vs/editor/core/model/mirrorModel","vs/editor/editor","vs/platform/thread/attribute","vs/editor/core/constants"],function(e,t,n,i,o,r){var s=function(){function e(e){this.model=e,this.validateTimeout=-1,this.validateRequest=null,this.toUnbind=null}return e.prototype.dispose=function(){this.model=null,this.toUnbind&&(this.toUnbind(),this.toUnbind=null),this.clearTimersAndPromises()},e.prototype.clearTimersAndPromises=function(){-1!==this.validateTimeout&&(clearTimeout(this.validateTimeout),this.validateTimeout=-1),this.validateRequest&&(this.validateRequest.cancel(),this.validateRequest=null)},e}(),a=function(){function e(e,t){this._resourceService=e.resourceService,this._models={},this._modeInstantiator=t}return e.getInstance=function(t){return e.INSTANCE||(e.INSTANCE=t.createInstance(e,null)),e.INSTANCE},e.prototype.getId=function(){return e._ID},e.prototype.getSerializableState=function(){var e=this,t={};return Object.keys(this._models).forEach(function(n){t[n]=e._getBoundModelData(e._models[n].model)}),t},e.prototype.setData=function(e){var t=this;Object.keys(e).forEach(function(n){t._addMirrorModel(e[n])})},e.prototype._getBoundModelData=function(e){return{url:e.getAssociatedResource(),versionId:e.getVersionId(),properties:e.getProperties(),value:e.getValue(1),modeId:e.getMode().getId()}},e.prototype.bindModel=function(e){var t=this,n=e.getAssociatedResource().toString(),i=new s(e);i.toUnbind=e.addBulkListener(function(e){return t._onModelEvents(n,e)}),this._models[n]=i,this._setupValidation(n),this._modelInitialize(this._getBoundModelData(e))},e.prototype.unbindModel=function(e){var t=e.getAssociatedResource().toString();this._modelDispose(e.getAssociatedResource()),this._models[t].dispose(),delete this._models[t]},e.prototype._setupValidation=function(e){var t=this._models[e];t.clearTimersAndPromises();var n=t.model.getMode().validationSupport;n&&n.autoValidateDelay>=0&&(t.validateTimeout=setTimeout(function(){t.validateTimeout=-1,n.validate(t.model.getAssociatedResource())},n.autoValidateDelay))},e.prototype._onModelEvents=function(e,t){var n,i,o=[],s=!1;for(n=0,i=t.length;i>n;n++){var a=t[n],u=a.getData();switch(a.getType()){case r.EventType.ModelContentChanged:switch(u.changeType){case r.EventType.ModelContentChangedFlush:o.push(this._mixinProperties({type:a.getType()},u,["changeType","detail","versionId"]));break;case r.EventType.ModelContentChangedLinesDeleted:o.push(this._mixinProperties({type:a.getType()},u,["changeType","fromLineNumber","toLineNumber","versionId"]));break;case r.EventType.ModelContentChangedLinesInserted:o.push(this._mixinProperties({type:a.getType()},u,["changeType","fromLineNumber","toLineNumber","detail","versionId"]));break;case r.EventType.ModelContentChangedLineChanged:o.push(this._mixinProperties({type:a.getType()},u,["changeType","lineNumber","detail","versionId"]))}s=!0;break;case r.EventType.ModelPropertiesChanged:o.push(this._mixinProperties({type:a.getType()},u,["properties"]))}}o.length>0&&this._modelEvents(this._models[e].model.getAssociatedResource(),o),s&&this._setupValidation(e)},e.prototype._mixinProperties=function(e,t,n){for(var i=0;i<n.length;i++)e[n[i]]=t[n[i]];return e},e.prototype.updateMarkers=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.model){var i=this._models[n.resource];i&&i.model._publishMarkerUpdate(n)}}},e.prototype._addMirrorModel=function(e){this._resourceService.insert(e.url,new n.MirrorModel(e.versionId,e.value,e.modeId,e.url,e.properties))},e.prototype._modelInitialize=function(e){this._addMirrorModel(e)},e.prototype._modelEvents=function(e,t){var n=this._resourceService.get(e);n.onEvents(t)},e.prototype._modelDispose=function(e){this._resourceService.remove(e)},e.INSTANCE=null,e._ID="boundModels",e.$updateMarkers=o.MainThread(e,e.prototype.updateMarkers),e.$_modelInitialize=o.AllWorkers(e,e.prototype._modelInitialize),e.$_modelEvents=o.AllWorkers(e,e.prototype._modelEvents),e.$_modelDispose=o.AllWorkers(e,e.prototype._modelDispose),e}();t.BoundModels=a}),define("vs/editor/modes/modesExtensions",["require","exports","vs/base/lib/winjs.base","vs/base/strings","vs/platform/platform","./modesFilters","./stream","vs/editor/modes/modes","vs/editor/modes/nullMode","vs/platform/services","vs/platform/thread/threadService","vs/base/arrays","vs/editor/modes/modesRegistry","vs/platform/thread/attribute","vs/editor/modes/boundModels"],function(e,t,n,i,o,r,s,a,u,l,c,d,h,p,f){function g(e,t){for(var n=[],o=0;o<arguments.length-2;o++)n[o]=arguments[o+2];if(e.getTextLength()<=t)return!1;var r=e.findIndexOfOffset(t),s=e.getTokens()[r];if(!s)return!1;for(var a=0,u=n.length;u>a;a++)if(i.endsWith(s.type,n[a]))return!0;return!1}function m(e,n,i){var r=o.Registry.as(t.Extensions.EditorModes);r.registerMode(e,n,i)}function v(e,n,i,o){t.registerModeAsyncDescriptor(e,n,new l.AsyncDescriptor(i,o))}function y(e,n){var i=o.Registry.as(t.Extensions.EditorModes);i.configureModeById(e,n)}function _(e){var n=o.Registry.as(t.Extensions.EditorModes);return n.getOrCreateMode(e)}function b(e,n,i){var r=o.Registry.as(t.Extensions.EditorModes);r.registerWorkerParticipant(e,new l.AsyncDescriptor(n,i))}t.isDigit=function(){var e="0".charCodeAt(0),t="1".charCodeAt(0),n="2".charCodeAt(0),i="3".charCodeAt(0),o="4".charCodeAt(0),r="5".charCodeAt(0),s="6".charCodeAt(0),a="7".charCodeAt(0),u="8".charCodeAt(0),l="9".charCodeAt(0),c="a".charCodeAt(0),d="b".charCodeAt(0),h="c".charCodeAt(0),p="d".charCodeAt(0),f="e".charCodeAt(0),g="f".charCodeAt(0),m="A".charCodeAt(0),v="B".charCodeAt(0),y="C".charCodeAt(0),_="D".charCodeAt(0),b="E".charCodeAt(0),C="F".charCodeAt(0);return function(w,E){var S=w.charCodeAt(0);switch(E){case 1:return S===e;case 2:return S>=e&&t>=S;case 3:return S>=e&&n>=S;case 4:return S>=e&&i>=S;case 5:return S>=e&&o>=S;case 6:return S>=e&&r>=S;case 7:return S>=e&&s>=S;case 8:return S>=e&&a>=S;case 9:return S>=e&&u>=S;case 10:return S>=e&&l>=S;case 11:return S>=e&&l>=S||S===c||S===m;case 12:return S>=e&&l>=S||S>=c&&d>=S||S>=m&&v>=S;case 13:return S>=e&&l>=S||S>=c&&h>=S||S>=m&&y>=S;case 14:return S>=e&&l>=S||S>=c&&p>=S||S>=m&&_>=S;case 15:return S>=e&&l>=S||S>=c&&f>=S||S>=m&&b>=S;default:return S>=e&&l>=S||S>=c&&g>=S||S>=m&&C>=S}}}(),t.isLineToken=g;var C=function(){function e(e,t,n){this.startIndex=e,this.type=t,this.bracket=n}return e}(),w=function(){function e(e,t,n,i){"undefined"==typeof n&&(n=null),"undefined"==typeof i&&(i=!1),this._instantiationService=e.instantiationService,this._contextService=e.contextService,this._threadService=e.threadService,this._descriptor=t,this._workerDescriptor=n||l.AsyncDescriptor.create("vs/languages/nullWorker","NullWorker"),this.supportsNestedMode=i,this.models={},this._options=null,this.validationSupport=this,this.autoValidateDelay=500,this.tokenizationSupport=this,this.occurrencesSupport=this,this.suggestSupport=this,this.inplaceReplaceSupport=this,this.diffSupport=this,this.dirtyDiffSupport=this,this.linkSupport=this,this.configSupport=this,this.electricCharacterSupport=this,this.commentsSupport=this,this.characterPairSupport=this,this.tokenTypeClassificationSupport=this,this._workerPiecePromise=null}return e.prototype._getWorkerPieceWithParticipants=function(){var e=this;if(!this._workerPiecePromise){var t=this._descriptor.workerParticipants;this._workerPiecePromise=t&&0!==t.length?n.TPromise.join(t.map(function(t){return e._instantiationService.createInstance(t)})).then(function(t){return e._getWorkerPiece(t)}):this._getWorkerPiece([])}return this._workerPiecePromise},e.prototype._getWorkerPiece=function(e){return this._instantiationService.createInstance(this._workerDescriptor,this.getId(),e)},e.prototype._worker=function(e){return this._getWorkerPieceWithParticipants().then(e)},e.prototype.getId=function(){return this._descriptor.id},e.prototype.bindModel=function(e){this._threadService&&f.BoundModels.getInstance(this._threadService).bindModel(e),this.models[e.id]=e},e.prototype.unbindModel=function(e){this._threadService&&f.BoundModels.getInstance(this._threadService).unbindModel(e),delete this.models[e.id]},e.prototype.validate=function(e){return this._worker(function(t){return t.validate(e)})},e.prototype._validateAll=function(e){return this._worker(function(t){return t.validateAll(e)})},e.prototype.getFilter=function(){return r.DefaultFilter},e.prototype.suggest=function(e,t){return this._worker(function(n){return n.suggest(e,t)})},e.prototype.getTriggerCharacters=function(){return[]},e.prototype.shouldAutotriggerSuggest=function(t,n,i){return this._handleEvent(t,n,i,function(t,n,i,o){return t instanceof e?t.shouldAutotriggerSuggestImpl(n,i.tokens,o):t.suggestSupport?t.suggestSupport.shouldAutotriggerSuggest(n,i,o):void 0})},e.prototype.shouldAutotriggerSuggestImpl=function(){return!1},e.prototype.shouldShowEmptySuggestionList=function(){return!0},e.prototype.shouldTriggerParameterHints=function(){return!0},e.prototype.findOccurrences=function(e,t,n){return"undefined"==typeof n&&(n=!1),this._worker(function(i){return i.findOccurrences(e,t,n)})},e.prototype.navigateValueSet=function(e,t,n){return this._worker(function(i){return i.navigateValueSet(e,t,n)})},e.prototype.computeDiff=function(e,t){return this._worker(function(n){return n.computeDiff(e,t)})},e.prototype.computeDirtyDiff=function(e){return this._worker(function(t){return t.computeDirtyDiff(e)})},e.prototype.computeLinks=function(e){return this._worker(function(t){return t.computeLinks(e)})},e.prototype.configure=function(e){var t=this;return this._options=e,this._threadService.isInMainThread?this._configureWorkers(e).then(function(){var e=Object.keys(t.models).map(function(e){return t.models[e].getAssociatedResource()});return t._validateAll(e)}):this._worker(function(t){return t.configure(e)})},e.prototype._configureWorkers=function(e){return this._worker(function(t){return t.configure(e)})},e.prototype.onEnter=function(t,n,i){return this._handleEvent(t,n,i,function(t,n,i,o){return t instanceof e?t.onEnterImpl(n,i.tokens,o):t.electricCharacterSupport?t.electricCharacterSupport.onEnter(n,i,o):void 0})},e.prototype.onEnterImpl=function(){return null},e.prototype.onElectricCharacter=function(t,n,i){return this._handleEvent(t,n,i,function(t,n,i,o){return t instanceof e?t.onElectricCharacterImpl(n,i.tokens,o):t.electricCharacterSupport?t.electricCharacterSupport.onElectricCharacter(n,i,o):void 0})},e.prototype.onElectricCharacterImpl=function(){return null},e.prototype.getElectricCharacters=function(){return[]},e.prototype.getInitialState=function(){throw new Error("Abstract Method")},e.prototype.getNonWordTokenTypes=function(){return[]},e.prototype.getWordDefinition=function(){return u.NullMode.DEFAULT_WORD_REGEXP},e.prototype.getAutoClosingPairs=function(){return[]},e.prototype.shouldAutoClosePair=function(t,n,i,o){return this._handleEvent(n,i,o,function(n,i,o,r){return n instanceof e?n.shouldAutoClosePairImpl(t,i,o.tokens,r):n.characterPairSupport?n.characterPairSupport.shouldAutoClosePair(t,i,o,r):void 0})},e.prototype.shouldAutoClosePairImpl=function(){return!0},e.prototype.getSurroundingPairs=function(){return this.getAutoClosingPairs()},e.prototype.getCommentsConfiguration=function(){return null},e.prototype._handleEvent=function(e,t,n,i){if(0===t.tokens.length||!this.supportsNestedMode)return i(this,e,t,n);var o=t.modeTransitions,r=t.tokens,s=d.findIndexInSegmentsArray(o,n),a=o[s].mode,u=o[s].startIndex,l=d.findIndexInSegmentsArray(r,u),c=-1,h=-1;s+1<o.length?(h=d.findIndexInSegmentsArray(r,o[s+1].startIndex),c=r[h].startIndex):(h=r.length,c=e.length);for(var p,f=[],g=r[l].startIndex,m=l;h>m;m++)p=r[m],f.push(new C(p.startIndex-g,p.type,p.bracket));var v=e.substring(g,c),y=n-g,_={tokens:f,modeTransitions:[{startIndex:0,mode:a}],actualStopOffset:0,endState:null};return i(a,v,_,y)},e.prototype._getEmbeddedLevel=function(e){for(var t=-1;e;)t++,e=e.getStateData();return t},e.prototype._nestedTokenize=function(e,t,n,i,o,r){for(var s=t.getStateData(),a=this.getLeavingNestedModeData(e,s),l=t;l.getStateData()&&l.getStateData().getMode()!==this;)l=l.getStateData();var c=l.getMode();if(!a){var d;return d=c.tokenizationSupport?c.tokenizationSupport.tokenize(e,t,n,i):u.nullTokenize(c,e,t,n),d.tokens=o.concat(d.tokens),d.modeTransitions=r.concat(d.modeTransitions),d}var h=a.nestedModeBuffer;if(h.length>0){var p;p=c.tokenizationSupport?c.tokenizationSupport.tokenize(h,t,n,i):u.nullTokenize(c,h,t,n),t=p.endState,o=o.concat(p.tokens),r=r.concat(p.modeTransitions)}var f=a.bufferAfterNestedMode,g=a.stateAfterNestedMode;return g.setStateData(s.getStateData()),this.onReturningFromNestedMode(g,t),this._myTokenize(f,g,n+h.length,i,o,r)},e.prototype._myTokenize=function(t,n,i,o,r,a){var u,l,c=new s.LineStream(t),d=null;n=n.clone(),(a.length<=0||a[a.length-1].mode!==this)&&a.push({startIndex:i,mode:this});for(var h=Math.min(o-i,t.length),p=0;c.pos()<h;){l=c.pos();do{if(u=n.tokenize(c),null===u||void 0===u||(void 0===u.type||null===u.type)&&(void 0===u.nextState||null===u.nextState))throw new Error("Tokenizer must return a valid state");if(u.nextState&&(u.nextState.setStateData(n.getStateData()),n=u.nextState),c.pos()<=l)throw new Error("Stream did not advance while tokenizing.")}while(!u.type&&""!==u.type);if((d!==u.type||u.bracket||null===d)&&r.push(new C(l+i,u.type,u.bracket||p)),d=u.type,this.supportsNestedMode&&this.enterNestedMode(n)){var f=this._getEmbeddedLevel(n);if(f<e.MAX_EMBEDDED_LEVELS){var g=this.getNestedModeInitialState(n);if(!c.eos()){var m=t.substr(c.pos());return this._nestedTokenize(m,g,i+c.pos(),o,r,a)}n=g}}}return{tokens:r,actualStopOffset:c.pos()+i,modeTransitions:a,endState:n}},e.prototype.tokenize=function(e,t,n,i){return"undefined"==typeof n&&(n=0),"undefined"==typeof i&&(i=n+e.length),t.getMode()!==this?this._nestedTokenize(e,t,n,i,[],[]):this._myTokenize(e,t,n,i,[],[])},e.prototype.enterNestedMode=function(){return!1},e.prototype.getNestedMode=function(){return null},e.prototype.getNestedModeInitialState=function(e){var t,n=this.getNestedMode(e);return t=n.tokenizationSupport?n.tokenizationSupport.getInitialState():new u.NullState(n,null),t.setStateData(e),t},e.prototype.getLeavingNestedModeData=function(){return null},e.prototype.onReturningFromNestedMode=function(){},e.MAX_EMBEDDED_LEVELS=5,e.$validate=p.OneWorker(e,e.prototype.validate,1),e.$_validateAll=p.OneWorker(e,e.prototype._validateAll,1),e.$suggest=p.OneWorker(e,e.prototype.suggest),e.$findOccurrences=p.OneWorker(e,e.prototype.findOccurrences),e.$navigateValueSet=p.OneWorker(e,e.prototype.navigateValueSet),e.$computeDiff=p.OneWorker(e,e.prototype.computeDiff),e.$computeDirtyDiff=p.OneWorker(e,e.prototype.computeDirtyDiff),e.$computeLinks=p.OneWorker(e,e.prototype.computeLinks),e.$_configureWorkers=p.AllWorkers(e,e.prototype._configureWorkers),e}();t.AbstractMode=w;var E=function(){function e(){}return e.tokenize=function(e,t){for(var n={tagName:"div",style:"white-space: pre",children:[]},i=e.split("\n"),o=t.tokenizationSupport.getInitialState(),r=0;r<i.length;r++){var s=i[r],a=0,u=t.tokenizationSupport.tokenize(s,o);o=u.endState;for(var l=u.tokens,c=0;c<l.length;c++){var d=l[c];e="",c<l.length-1?(e=s.substring(a,l[c+1].startIndex),a=l[c+1].startIndex):e=s.substr(a);var h="token";d.type&&(h+=" "+d.type.split(".").join(" ")),n.children.push({tagName:"span",className:h,text:e})}r<i.length-1&&n.children.push({tagName:"br"})}return n},e}();t.TextToHtmlTokenizer=E,t.LANGUAGE_CONFIGURATION="languages";var S=function(){function e(){}return e.apply=function(e){if(e&&e[t.LANGUAGE_CONFIGURATION]){var n=e[t.LANGUAGE_CONFIGURATION],i=o.Registry.as(t.Extensions.EditorModes);for(var r in n)if(n.hasOwnProperty(r)){var s=n[r];i.configureModeById(r,s)}}},e}();t.ModesConfiguration=S;var L=function(){function e(e,t){"undefined"==typeof t&&(t=null),this.mode=e,this.stateData=t}return e.prototype.getMode=function(){return this.mode},e.prototype.clone=function(){var e=this.makeClone();return e.initializeFrom(this),e},e.prototype.makeClone=function(){throw new Error("Abstract Method")},e.prototype.initializeFrom=function(e){this.stateData=null!==e.stateData?e.stateData.clone():null},e.prototype.getStateData=function(){return this.stateData},e.prototype.setStateData=function(e){this.stateData=e},e.prototype.equals=function(t){if(null===t||this.mode!==t.getMode())return!1;if(!(t instanceof e))return!1;var n=t;return null===this.stateData&&null===n.stateData?!0:null===this.stateData||null===n.stateData?!1:this.stateData.equals(n.stateData)},e.prototype.tokenize=function(){throw new Error("Abstract Method")},e}();t.AbstractState=L,t.Extensions={EditorModes:"editor.modes"};var x=function(){function e(){this._thinModesRegistry=c.ThreadService.NULL_SERVICE.createInstance(h.ModesRegistryImpl,null),this._actualModesRegistry=null}return e.prototype.injectThreadService=function(e){this._actualModesRegistry&&console.warn("The modes registry injection occurs too late."),this._ensureActualModesRegistry(e)},e.prototype.registerWorkerParticipant=function(e,t){this._thinModesRegistry.registerWorkerParticipant(e,t)},e.prototype.getWorkerParticipants=function(e){return this._thinModesRegistry.getWorkerParticipants(e)},e.prototype.isRegisteredMode=function(e){return this._thinModesRegistry.isRegisteredMode(e)},e.prototype.getRegisteredModes=function(){return this._thinModesRegistry.getRegisteredModes()},e.prototype.getRegisteredMimetypes=function(){return this._thinModesRegistry.getRegisteredMimetypes()},e.prototype.registerMode=function(e,t,n){this._thinModesRegistry.registerMode(e,t,n)},e.prototype.configureMode=function(e,t){this._thinModesRegistry.configureMode(e,t)},e.prototype.configureModeById=function(e,t){this._thinModesRegistry.configureModeById(e,t)},e.prototype._ensureActualModesRegistry=function(e){this._actualModesRegistry||(e?(this._actualModesRegistry=e.createInstance(h.ModesRegistryImpl),this._actualModesRegistry.cloneFrom(this._thinModesRegistry)):(console.warn("The modes registry was not injected properly or in due time."),this._actualModesRegistry=this._thinModesRegistry),this._thinModesRegistry=this._actualModesRegistry)},e.prototype.getMode=function(e){return this._ensureActualModesRegistry(null),this._actualModesRegistry.getMode(e)},e.prototype.getOrCreateMode=function(e){return this._ensureActualModesRegistry(null),this._actualModesRegistry.getOrCreateMode(e)},e}();o.Registry.add(t.Extensions.EditorModes,new x),t.registerModeAsyncDescriptor=m,t.registerMode=v,t.configureMode=y,t.getOrCreateMode=_,t.registerWorkerParticipant=b}),define("vs/css!vs/editor/contrib/goToDeclaration/goToDeclaration",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/goToDeclaration/goToDeclaration",["require","exports","vs/nls!vs/editor/editor.main","vs/base/env","vs/base/network","vs/base/async","vs/base/strings","vs/base/errors","vs/base/lib/winjs.base","vs/platform/services","vs/base/dom/builder","vs/editor/core/embeddedCodeEditorWidget","vs/editor/editorExtensions","vs/editor/contrib/zoneWidget/peekViewWidget","vs/editor/core/constants","vs/editor/editor","vs/editor/core/range","vs/editor/modes/modesExtensions","vs/editor/core/editorState","vs/editor/core/config/config","vs/css!./goToDeclaration"],function(e,t,n,i,o,r,s,a,u,l,c,d,h,p,f,g,m,v,y,_){var b=function(e){function t(t,n,i){e.call(this,t,n,i,h.Behaviour.WidgetFocus|h.Behaviour.ShowInContextMenu|h.Behaviour.UpdateOnCursorPositionChange),this.editorService=t.editorService,this.messageService=t.messageService,this.requestService=t.requestService}return __extends(t,e),t.prototype.run=function(){var e=this,t=this.editor.getModel(),n=this.editor.getPosition(),i=this.resolve(t.getAssociatedResource(),{lineNumber:n.lineNumber,column:n.column});return i.then(function(t){return t?(e.editorService.openEditor({resource:new o.URL(t.resourceUrl),options:{selection:t.range}}),!0):!1},function(t){return e.messageService.show(2,t),!1})},t.prototype.resolve=function(){return u.TPromise.as(null)},t}(h.EditorAction);t.GoToTypeAction=b;var C=function(e){function t(t,n,i){e.call(this,t,n,i)}return __extends(t,e),t.prototype.getGroupId=function(){return"goto/visitTypeDefinition"},t.prototype.isSupported=function(){return!!this.editor.getModel().getMode().typeDeclarationSupport},t.prototype.getEnablementState=function(){if(!e.prototype.getEnablementState.call(this))return!1;var t=this.editor.getModel(),n=this.editor.getSelection().getStartPosition();return t.getMode().typeDeclarationSupport.canFindTypeDeclaration(t.getLineTokens(n.lineNumber),n.column-1)},t.prototype.resolve=function(e,t){return this.editor.getModel().getMode().typeDeclarationSupport.findTypeDeclaration(e,t)},t.ID="editor.actions.goToTypeDeclaration",t}(b);t.GoToTypeDeclarationActions=C;var w=function(e){function t(t,n,i){e.call(this,t,n,i)}return __extends(t,e),t.prototype.getGroupId=function(){return"goto/visitDefinition"},t.prototype.isSupported=function(){var e=this.editor.getModel().getMode();return!!e&&!!e.declarationSupport},t.prototype.getEnablementState=function(){if(!e.prototype.getEnablementState.call(this))return!1;var t=this.editor.getModel(),n=this.editor.getSelection().getStartPosition();return t.getMode().declarationSupport.canFindDeclaration(t.getLineTokens(n.lineNumber),n.column-1)},t.prototype.resolve=function(e,t){return this.editor.getModel().getMode().declarationSupport.findDeclaration(e,t)},t.ID="editor.actions.goToDeclaration",t}(b);t.GoToDeclarationAction=w;var E=function(e){function t(t,n,i){e.call(this,t,{frameColor:"#007ACC",showFrame:!1,showArrow:!0}),this.requestService=n,this.instantiationService=i.createChild({peekViewService:this}),this.create()}return __extends(t,e),t.prototype._onTitleClick=function(e){if(this.widget&&this.widget.getModel()){var n=this.widget.getModel(),i=this.widget.getPosition().lineNumber,o=new m.Range(i,1,i,n.getLineMaxColumn(i));this.emit(t.Events.HeaderTabClick,{reference:n.getAssociatedResource(),range:o,originalEvent:e})}},t.prototype._fillBody=function(e){var t=c.$(e).addClass("preview-zone-widget preview"),n={scrollBeyondLastLine:!1,scrollbar:_.Config.editor.scrollbar,overviewRulerLanes:2};this.widget=this.instantiationService.createInstance(d.EmbeddedCodeEditorWidget,t.getHTMLElement(),n,this.editor)},t.prototype.showPreview=function(e,t){this.widget.setModel(t.model),this.widget.setPosition({lineNumber:t.range.startLineNumber,column:t.range.startColumn},!0,!0,!0),this.setTitle(t.title,t.subtitle),this.show(e,18)},t.prototype.doLayout=function(t){e.prototype.doLayout.call(this,t),this.widget.layout()},t.prototype.onWidth=function(){this.widget.layout()},t.prototype.dispose=function(){this.widget.dispose(),e.prototype.dispose.call(this)},t.Events={HeaderTabClick:"headerTabClick"},t}(p.PeekViewWidget),S=function(e){function t(t,n,i){var o=this;e.call(this,t,n,i,h.Behaviour.WidgetFocus|h.Behaviour.ShowInContextMenu|h.Behaviour.UpdateOnCursorPositionChange),this.toUnhook.push(i.addListener(f.EventType.ModelChanged,function(){return o.clear()})),this.editorService=t.editorService,this.requestService=t.requestService,this.instantiationService=t.instantiationService,this.peekViewService=t.peekViewService}return __extends(t,e),t.prototype.getGroupId=function(){return"goto/peekDefinition"},t.prototype.getEnablementState=function(){if(this.peekViewService&&this.peekViewService.isActive)return!1;var e=this.editor.getModel(),t=this.editor.getSelection().getStartPosition();return e.getMode().declarationSupport.canFindDeclaration(e.getLineTokens(t.lineNumber),t.column-1)},t.prototype.isSupported=function(){var e=this.editor.getModel().getMode();return!!e&&!!e.declarationSupport&&!!e.declarationSupport.findDeclaration},t.prototype.run=function(){var e=this;this.clear();var t=this.editor.getModel(),i=this.editor.getModel().getMode().declarationSupport,r=this.editor.getPosition(),s={lineNumber:r.lineNumber,column:r.column};return i.findDeclaration(t.getAssociatedResource(),s).then(function(t){return t?e.editorService.resolveEditorModel({resource:new o.URL(t.resourceUrl)}).then(function(i){var s={model:i.textEditorModel,range:t.range,title:n.localize("vs_editor_contrib_goToDeclaration_goToDeclaration",0),subtitle:""};if(s.model.getAssociatedResource().getScheme()!==o.schemas.inMemory){var u=e.requestService.getPath("root",s.model.getAssociatedResource()),l=u.lastIndexOf("/");s.title=u.substring(l+1),s.subtitle=u.substring(0,l+1)}e.widget=new E(e.editor,e.requestService,e.instantiationService),e.widget.showPreview(r,s);var c=(new Date).getTime();e.toUnhook.push(e.widget.addListener(E.Events.HeaderTabClick,function(t){e.editorService.openEditor({resource:t.reference,options:{selection:t.range}},t.originalEvent.ctrlKey||t.originalEvent.metaKey).done(null,a.onUnexpectedError),e.clear()})),e.closeBinding=e.handlerService.bind({key:"Escape"},function(){return e.telemetryService.log("zoneWidgetShown",{mode:"go to declaration",elapsedTime:(new Date).getTime()-c}),!!e.clear()},{id:e.id})}):u.Promise.as(null)})},t.prototype.clear=function(){this.closeBinding&&(this.closeBinding.dispose(),this.closeBinding=null),this.widget&&(this.widget.dispose(),this.widget=null)},t.prototype.dispose=function(){this.clear(),e.prototype.dispose.call(this)},t.ID="editor.actions.previewDeclaration",t}(h.EditorAction);t.PreviewDeclarationAction=S;var L=function(){function e(e,t){var n=this;this.editorService=e.editorService,this.requestService=e.requestService,this.messageService=e.messageService,this.hasRequiredServices=!!this.messageService&&!!this.requestService&&!!this.editorService,this.toUnhook=[],this.decorations=[],this.editor=t,this.throttler=new r.Throttler,this.toUnhook.push(this.editor.addListener(f.EventType.MouseUp,function(e){return n.onEditorMouseUp(e)})),this.toUnhook.push(this.editor.addListener(f.EventType.MouseMove,function(e){return n.onEditorMouseMove(e)})),this.toUnhook.push(this.editor.addListener(f.EventType.KeyDown,function(e){return n.onEditorKeyDown(e)})),this.toUnhook.push(this.editor.addListener(f.EventType.KeyUp,function(e){return n.onEditorKeyUp(e)})),this.toUnhook.push(this.editor.addListener(f.EventType.ModelChanged,function(){return n.resetHandler()})),this.toUnhook.push(this.editor.addListener("change",function(){return n.resetHandler()})),this.toUnhook.push(this.editor.addListener("scroll",function(){return n.resetHandler()}))}return e.prototype.onEditorMouseMove=function(t,n){var i=this;if(this.lastMouseEvent=t,this.isEnabled(t,n)){var o=t.target.position,r=o?this.editor.getModel().getWordAtPosition(o,!1):null;if(!r)return this.removeDecorations(),void 0;
if(this.currentWordUnderMouse&&this.currentWordUnderMouse.startColumn===r.startColumn&&this.currentWordUnderMouse.endColumn===r.endColumn&&this.currentWordUnderMouse.word===r.word)return;this.currentPositionUnderMouse=o,this.currentWordUnderMouse=r;var l=y.capture(this.editor,2,0,1,3);this.throttler.queue(function(){return l.validate()?i.findDefinition(t.target):u.Promise.as(null)}).done(function(t){if(t&&l.validate()){var n="";if(t.preview&&t.preview.text&&t.preview.range){var a=t.preview.text.split("\n"),u=[],c=t.preview.range,d=c.startLineNumber-1,h=c.endLineNumber-1;if(d<a.length&&h<a.length){for(var p=null,f=d;u.length<e.MAX_SOURCE_PREVIEW_LINES&&h>=f;f++){var g;null===p?(g=s.trim(s.trim(a[f],"	")),p=a[f].substr(0,a[f].length-g.length)):g=0===a[f].indexOf(p)?a[f].substring(p.length).replace("	","    "):a[f],g&&u.push(g)}n=u.join("\n"),h-d>=e.MAX_SOURCE_PREVIEW_LINES&&(n+="\nâ¦")}}i.addDecoration({startLineNumber:o.lineNumber,startColumn:r.startColumn,endLineNumber:o.lineNumber,endColumn:r.endColumn},n)}else i.removeDecorations()},a.onUnexpectedError)}else this.removeDecorations()},e.prototype.addDecoration=function(e,t){var n=this.editor.getModel();if(n){var i=null;t&&(i=[{tagName:"div",className:"goto-definition-link-hover",children:[v.TextToHtmlTokenizer.tokenize(t,n.getMode())]}]);var o=[];o.push({range:this.toTokenRange(e),options:{inlineClassName:"goto-definition-link",htmlMessage:i}}),this.decorations=this.editor.deltaDecorations(this.decorations,o)}},e.prototype.toTokenRange=function(e){var t=this.editor.getModel().getLineTokens(e.startLineNumber),n=t.findIndexOfOffset(e.startColumn-1),i=t.getTokens(),o=i[n],r=i[n+1];return o&&r?{startLineNumber:e.startLineNumber,startColumn:o.startIndex+1,endLineNumber:e.endLineNumber,endColumn:r.startIndex+1}:e},e.prototype.removeDecorations=function(){this.decorations.length>0&&(this.decorations=this.editor.deltaDecorations(this.decorations,[])),this.currentWordUnderMouse=null,this.currentPositionUnderMouse=null},e.prototype.onEditorKeyDown=function(t){t.key===e.TRIGGER_KEY_VALUE&&this.lastMouseEvent&&this.onEditorMouseMove(this.lastMouseEvent,t)},e.prototype.resetHandler=function(){this.lastMouseEvent=null,this.removeDecorations()},e.prototype.onEditorMouseUp=function(e){var t=this;this.isEnabled(e)&&this.gotoDefinition(e.target,e.event.altKey).done(function(){t.removeDecorations()},function(e){t.removeDecorations(),a.onUnexpectedError(e)})},e.prototype.onEditorKeyUp=function(t){t.key===e.TRIGGER_KEY_VALUE&&this.removeDecorations()},e.prototype.isEnabled=function(t,n){return this.hasRequiredServices&&this.editor.getModel()&&(i.browser.isIE11orEarlier||t.event.detail<=1)&&6===t.target.type&&(t.event[e.TRIGGER_MODIFIER]||n&&n.key===e.TRIGGER_KEY_VALUE)&&!!this.editor.getModel().getMode().declarationSupport},e.prototype.findDefinition=function(e){var t=this.editor.getModel();if(!t)return u.Promise.as(null);var n=e.position;return t.getMode().declarationSupport.findDeclaration(t.getAssociatedResource(),{lineNumber:n.lineNumber,column:n.column})},e.prototype.gotoDefinition=function(e,t){var n=this,i=y.capture(this.editor,2,0,1,3);return this.findDefinition(e).then(function(r){if(i.validate()){var s=e.position,a=n.editor.getModel().getWordAtPosition(s,!1);return!r||!r.range||a&&r.range.startColumn===a.startColumn&&r.range.startLineNumber===e.position.lineNumber?void 0:n.editorService.openEditor({resource:new o.URL(r.resourceUrl),options:{selection:{startLineNumber:r.range.startLineNumber,startColumn:r.range.startColumn,endLineNumber:r.range.startLineNumber,endColumn:r.range.endColumn}}},t)}})},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){for(;this.toUnhook.length>0;)this.toUnhook.pop()()},e.ID="editor.contrib.gotodefinitionwithmouse",e.TRIGGER_MODIFIER=i.browser.isMacintosh?"metaKey":"ctrlKey",e.TRIGGER_KEY_VALUE=i.browser.isMacintosh?"Meta":"Ctrl",e.MAX_SOURCE_PREVIEW_LINES=7,e}();h.registerEditorActionContribution(S,S.ID,n.localize("vs_editor_contrib_goToDeclaration_goToDeclaration",1),{alt:!0,key:"F12"}),h.registerEditorActionContribution(w,w.ID,n.localize("vs_editor_contrib_goToDeclaration_goToDeclaration",2),{ctrlCmd:!i.browser.isMacintosh,key:"F12"}),h.registerEditorActionContribution(C,C.ID,n.localize("vs_editor_contrib_goToDeclaration_goToDeclaration",3),{ctrlCmd:!0,shift:!i.browser.isMacintosh,key:"F12"}),h.registerEditorContribution(L)}),define("vs/base/severity",["require","exports","vs/base/strings"],function(e,t,n){function i(e){return e?n.equalsIgnoreCase(r,e)?o.Error:n.equalsIgnoreCase(s,e)||n.equalsIgnoreCase(a,e)?o.Warning:n.equalsIgnoreCase(u,e)?o.Info:0:0}!function(e){e[e.Ignore=0]="Ignore",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=4]="Error"}(t.Severity||(t.Severity={}));var o=t.Severity,r="error",s="warning",a="warn",u="info";t.fromValue=i}),define("vs/css!vs/editor/contrib/gotoError/gotoError",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/gotoError/gotoError",["require","exports","vs/base/lifecycle","vs/base/strings","vs/base/severity","vs/base/dom/dom","vs/base/lib/winjs.base","vs/editor/contrib/zoneWidget/zoneWidget","vs/base/dom/builder","vs/base/eventEmitter","vs/editor/editorExtensions","vs/editor/core/constants","vs/editor/core/position","vs/editor/core/range","vs/platform/services","vs/nls!vs/editor/editor.main","vs/base/dom/htmlContent","vs/css!./gotoError"],function(e,t,n,i,o,r,s,a,u,l,c,d,h,p,f,g,m){var v=u.$,y=function(e){function t(n,i){var o=this;e.call(this,[t.Events.CURRENT,t.Events.MARKER_SET]),this._editor=n,this._markers=null,this._nextIdx=-1,this._toUnbind=[],this._ignoreSelectionChange=!1,this.setMarkers(i),this._toUnbind.push(this._editor.addListener(d.EventType.Disposed,function(){return o.dispose()})),this._toUnbind.push(this._editor.addListener(d.EventType.CursorPositionChanged,function(){o._ignoreSelectionChange||(o._nextIdx=-1)}))}return __extends(t,e),t.prototype.setMarkers=function(e){this._markers=e||[],this._markers.sort(function(e,t){return e.range.startLineNumber===t.range.startLineNumber?e.range.startColumn-t.range.startColumn:e.range.startLineNumber-t.range.startLineNumber}),this._nextIdx=-1,this.emit(t.Events.MARKER_SET,this)},t.prototype.withoutWatchingEditorPosition=function(e){this._ignoreSelectionChange=!0;try{e()}finally{this._ignoreSelectionChange=!1}},t.prototype.initIdx=function(e){for(var t=!1,n=this._editor.getPosition(),i=0,o=this._markers.length;o>i&&!t;i++){var r=new p.Range(this._markers[i].range.startLineNumber,this._markers[i].range.startColumn,this._markers[i].range.endLineNumber,this._markers[i].range.endColumn);n.isBeforeOrEqual(r.getStartPosition())&&(this._nextIdx=i+(e?0:-1),t=!0)}t||(this._nextIdx=e?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},t.prototype.move=function(e){if(!this.canNavigate())return this.emit(t.Events.CURRENT,null),void 0;-1===this._nextIdx?this.initIdx(e):e?(this._nextIdx+=1,this._nextIdx>=this._markers.length&&(this._nextIdx=0)):(this._nextIdx-=1,this._nextIdx<0&&(this._nextIdx=this._markers.length-1));var n=this._markers[this._nextIdx];this.emit(t.Events.CURRENT,n)},t.prototype.canNavigate=function(){return this._markers.length>0},t.prototype.next=function(){this.move(!0)},t.prototype.previous=function(){this.move(!1)},t.prototype.indexOf=function(e){return this._markers.indexOf(e)},t.prototype.length=function(){return this._markers.length},t.prototype.reveal=function(){var e=this;-1!==this._nextIdx&&this.withoutWatchingEditorPosition(function(){var t=new h.Position(e._markers[e._nextIdx].range.startLineNumber,e._markers[e._nextIdx].range.startColumn);e._editor.setPosition(t,!0,!0,!0)})},t.prototype.dispose=function(){this._toUnbind=n.cAll(this._toUnbind),e.prototype.dispose.call(this)},t.Events={CURRENT:"onMarker",MARKER_SET:"onNewMarkerSet"},t}(l.EventEmitter),_={showFrame:!0,showArrow:!0},b=function(e){function t(t,n){e.call(this,t,_),this._model=n,this._callOnDispose=[],this.create(),this._wireModelAndView()}return __extends(t,e),t.prototype.fillContainer=function(e){var t=this,n=v(e).addClass("marker-widget");n.div(function(e){t._element=e}),n.div(function(e){t._quickFixLabel=e}),n.on(r.EventType.CLICK,function(){t.editor.focus()})},t.prototype._wireModelAndView=function(){var e=this;this._callOnDispose.push(this._model.addListener2(y.Events.CURRENT,function(t){return e.showAtMarker(t)}))},t.prototype.showAtMarker=function(e){var t=this;if(e){switch(e.severity){case o.Severity.Error:this.options.frameColor="#ff5a5a";break;case o.Severity.Warning:case o.Severity.Info:this.options.frameColor="#5aac5a"}this._element.text(i.format("({0}/{1}) ",this._model.indexOf(e)+1,this._model.length()));var n=this._element.getHTMLElement();m.renderHtml2(e.text).forEach(function(e){n.appendChild(e)});var r=this.editor.getModel().getMode();if(this._quickFixLabel.hide(),e.severity===o.Severity.Error&&r.quickFixSupport){var s=e.range.startColumn>1&&"."===this.editor.getModel().getLineContent(e.range.startLineNumber).charAt(e.range.startColumn-1-1);if(s){var a=r.quickFixSupport.quickFix(this.editor.getModel().getAssociatedResource(),{lineNumber:e.range.endLineNumber,column:e.range.endColumn});a.then(function(e){if(e.length>0){var n=e.map(function(e){return e.label});t._quickFixLabel.show().text(g.localize("vs_editor_contrib_gotoError_gotoError",0,n.join(", ")))}}).done()}}this._model.withoutWatchingEditorPosition(function(){t.show(new h.Position(e.range.startLineNumber,e.range.startColumn),3)})}},t.prototype.dispose=function(){this._callOnDispose=n.disposeAll(this._callOnDispose),e.prototype.dispose.call(this)},t}(a.ZoneWidget),C=function(e){function t(t,n,i,o){e.call(this,t,n,i,c.defaultPrecondition),this.markerService=t.markerService,this.isNext=o}return __extends(t,e),t.prototype.getOrCreateModel=function(){throw new Error("Abstract method")},t.prototype.run=function(){var e=this.getOrCreateModel();return this.telemetryService.log("zoneWidgetShown",{mode:"go to error"}),e&&(this.isNext?e.next():e.previous(),e.reveal()),s.TPromise.as(!0)},t}(c.EditorAction),w=function(e){function t(t,n,i){e.call(this,t,n,i,!0),this._callOnClose=[]}return __extends(t,e),t.prototype._cleanUp=function(){this._callOnClose=n.disposeAll(this._callOnClose),this._zone=null,this._model=null},t.prototype.getOrCreateModel=function(){var e=this;if(this._model)return this._model;var t=this._getMarkers();return this._model=new y(this.editor,t),this._zone=new b(this.editor,this._model),this._callOnClose.push(this._model),this._callOnClose.push(this._zone),this._callOnClose.push(this.handlerService.bind({key:"Escape"},function(){return e._cleanUp(),!0},{once:!0,id:this.id})),this._callOnClose.push(this.editor.addListener2(d.EventType.ModelChanged,function(){e._cleanUp()})),this._callOnClose.push(this._model.addListener2(y.Events.CURRENT,function(t){t||e._cleanUp()})),this._callOnClose.push(this.markerService.addListener2(f.MarkerServiceConstants.SERVICE_CHANGED,function(t){for(var n=t.markerSetEvents,i=e.editor.getModel().getAssociatedResource().toExternal(),o=0;o<n.length;o++){var r=n[o];if(r.resource.toExternal()===i){var s=e._getMarkers();e._model.setMarkers(s);break}}})),this._model},t.prototype._getMarkers=function(){var e=this.editor.getModel().getAssociatedResource(),t=this.markerService.getMarkerSet(e);return null===t?null:t.getMarkers()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._cleanUp()},t.ID="editor.actions.marker.next",t}(C),E=function(e){function t(t,n,i){e.call(this,t,n,i,!1)}return __extends(t,e),t.prototype.getOrCreateModel=function(){return this.editor.getAction(w.ID).getOrCreateModel()},t.ID="editor.actions.marker.prev",t}(C);c.registerEditorActionContribution(w,w.ID,g.localize("vs_editor_contrib_gotoError_gotoError",1),{ctrlCmd:!0,key:"."}),c.registerEditorActionContribution(E,E.ID,g.localize("vs_editor_contrib_gotoError_gotoError",2),{ctrlCmd:!0,shift:!0,key:"."})}),define("vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand",["require","exports","vs/editor/core/selection"],function(e,t,n){var i=function(){function e(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}return e.prototype.getEditOperations=function(e,t){t.addEditOperation(this._editRange,this._text)},e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations(),o=i[0].range;return this._originalSelection.isEmpty()?new n.Selection(o.endLineNumber,Math.min(this._originalSelection.positionColumn,o.endColumn),o.endLineNumber,Math.min(this._originalSelection.positionColumn,o.endColumn)):new n.Selection(o.endLineNumber,o.endColumn-this._text.length,o.endLineNumber,o.endColumn)},e}();t.InPlaceReplaceCommand=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/inPlaceReplace/inPlaceReplace",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","vs/editor/editorExtensions","vs/editor/core/range","vs/editor/core/editorState","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand"],function(e,t,n,i,o,r,s,a){var u=function(e){function t(t,n,r,s){e.call(this,t,n,r,o.defaultPrecondition),this.up=s,this.requestIdPool=0,this.currentRequest=i.TPromise.as(null),this.decorationRemover=i.TPromise.as(null),this.decorationIds=[]}return __extends(t,e),t.prototype.isSupported=function(){return!!this.editor.getModel().getMode().inplaceReplaceSupport},t.prototype.run=function(){var e=this;this.currentRequest.cancel();var n=this.editor.getSelection(),o=this.editor.getModel(),u=o.getMode().inplaceReplaceSupport;if(n.startLineNumber!==n.endLineNumber)return null;var l=s.capture(this.editor,0,2);return this.currentRequest=u.navigateValueSet(o.getAssociatedResource(),n,this.up),this.currentRequest.then(function(o){if(o&&o.range&&o.value&&l.validate()){var s=r.create(o.range),u=o.range,c=o.value.length-(n.endColumn-n.startColumn);u.endColumn=u.startColumn+o.value.length,n.endColumn+=c>1?c-1:0;var d=new a.InPlaceReplaceCommand(s,n,o.value);return e.editor.executeCommand(e.id,d),e.decorationIds=e.editor.deltaDecorations(e.decorationIds,[{range:u,options:t.DECORATION}]),e.decorationRemover.cancel(),e.decorationRemover=i.TPromise.timeout(350),e.decorationRemover.then(function(){e.editor.changeDecorations(function(t){for(;e.decorationIds.length>0;)t.removeDecoration(e.decorationIds.pop())})}),!0}})},t.DECORATION={isOverlay:!1,className:"valueSetReplacement"},t}(o.EditorAction),l=function(e){function t(t,n,i){e.call(this,t,n,i,!0)}return __extends(t,e),t.ID="editor.actions.inPlaceReplace.up",t}(u),c=function(e){function t(t,n,i){e.call(this,t,n,i,!1)}return __extends(t,e),t.ID="editor.actions.inPlaceReplace.down",t}(u);o.registerEditorActionContribution(l,l.ID,n.localize("vs_editor_contrib_inPlaceReplace_inPlaceReplace",0),{ctrlCmd:!0,key:"UpArrow"}),o.registerEditorActionContribution(c,c.ID,n.localize("vs_editor_contrib_inPlaceReplace_inPlaceReplace",1),{ctrlCmd:!0,key:"DownArrow"})}),define("vs/base/ui/widgets/tree/preRenderer",["require","exports","vs/base/dom/builder"],function(e,t,n){var i=(n.$,function(){function e(e){this.dataSource=e,this.cache={}}return e.prototype.getHeight=function(e,t){var n=this.getKey(e,t),i=this.cache[n]||{},o=document.createElement("div");o.className="pre-render",i.cleanupFn=this.renderContents(e,t,o,i.cleanupFn||null);var r=e.withFakeRow(function(e){e.appendChild(o);var t=e.clientHeight;return e.removeChild(o),t});return i.tree=e,i.element=t,i.container=o,this.cache[n]=i,r},e.prototype.render=function(e,t,n){var i=this.getKey(e,t),o=this.cache[i];if(!o)throw new Error("Binding not found.");return n.appendChild(o.container),this.cleanup.bind(this,e,t)},e.prototype.cleanup=function(e,t){var n=this.getKey(e,t);this.cleanupBinding(this.cache[n]),delete this.cache[n]},e.prototype.cleanupBinding=function(e){e&&(e.cleanupFn&&(e.cleanupFn(e.tree,e.element),delete e.cleanupFn),e.container&&delete e.container,delete e.tree,delete e.element)},e.prototype.renderContents=function(){throw new Error("Implement me.")},e.prototype.getKey=function(e,t){return this.dataSource.getId(e,t)},e.prototype.dispose=function(){var e=this;this.cache&&(Object.keys(this.cache).forEach(function(t){e.cleanupBinding(e.cache[t]),delete e.cache[t]}),delete this.cache)},e.BINDING="monaco-tree-actionsRenderer",e}());t.PreRenderer=i}),define("vs/base/ui/widgets/tree/treeDefaults",["require","exports","vs/base/env","vs/base/errors"],function(e,t,n,i){var o=function(){function e(){}return e.prototype.getHeight=function(){return 20},e.prototype.render=function(e,t,n){return n.textContent=""+t,null},e}();t.DefaultRenderer=o;var r=function(){function e(){this.downKeyBindings={Space:this.onSpace.bind(this),UpArrow:this.onUp.bind(this),PageUp:this.onPageUp.bind(this),DownArrow:this.onDown.bind(this),PageDown:this.onPageDown.bind(this),LeftArrow:this.onLeft.bind(this),RightArrow:this.onRight.bind(this),Escape:this.onEscape.bind(this)},this.upKeyBindings={Enter:this.onEnter.bind(this)},n.browser.isMacintosh?this.upKeyBindings["Meta-Enter"]=this.onEnter.bind(this):this.upKeyBindings["Ctrl-Enter"]=this.onEnter.bind(this)}return e.prototype.onClick=function(e,t,i){var o=n.browser.isMacintosh;return o&&i.ctrlKey?(i.preventDefault(),i.stopPropagation(),!1):i.middleButton?!1:i.target&&i.target.tagName&&"input"===i.target.tagName.toLowerCase()?!1:this.onLeftClick(e,t,i)},e.prototype.onLeftClick=function(e,t,n,o){"undefined"==typeof o&&(o="mouse");var r={origin:o,originalEvent:n};return e.getInput()===t?(e.clearFocus(r),e.clearSelection(r)):(n.preventDefault(),n.stopPropagation(),e.DOMFocus(),e.setSelection([t],r),e.setFocus(t,r),e.isExpanded(t)?e.collapse(t).done(null,i.onUnexpectedError):e.expand(t).done(null,i.onUnexpectedError)),!0},e.prototype.onContextMenu=function(){return!1},e.prototype.onTap=function(e,t,n){var i=n.initialTarget;return i&&i.tagName&&"input"===i.tagName.toLowerCase()?!1:this.onLeftClick(e,t,n,"touch")},e.prototype.onKeyDown=function(e,t){return this.onKey(this.downKeyBindings,e,t)},e.prototype.onKeyUp=function(e,t){return this.onKey(this.upKeyBindings,e,t)},e.prototype.onKey=function(e,t,n){var i=e[n.asString()];return i&&i(t,n)?(n.preventDefault(),n.stopPropagation(),!0):!1},e.prototype.onUp=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusPrevious(1,n),e.reveal(e.getFocus())),!0},e.prototype.onPageUp=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusPreviousPage(n),e.reveal(e.getFocus())),!0},e.prototype.onDown=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusNext(1,n),e.reveal(e.getFocus())),!0},e.prototype.onPageDown=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusNextPage(n),e.reveal(e.getFocus())),!0},e.prototype.onLeft=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(n);else{var i=e.getFocus();e.collapse(i).done(function(t){i&&!t&&e.focusParent(n)})}return!0},e.prototype.onRight=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(n);else{var o=e.getFocus();e.expand(o).done(null,i.onUnexpectedError)}return!0},e.prototype.onEnter=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())return!1;var i=e.getFocus();return i&&e.setSelection([i],n),!0},e.prototype.onSpace=function(e){if(e.getHighlight())return!1;var t=e.getFocus();return t&&e.toggleExpansion(t),!0},e.prototype.onEscape=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?(e.clearHighlight(n),!0):e.getFocus()||e.getSelection().length?(e.clearFocus(n),e.clearSelection(n),!0):!1},e}();t.DefaultController=r;var s=function(){function e(){}return e.prototype.getDragURI=function(){return null},e.prototype.onDragStart=function(){},e.prototype.onDragOver=function(){return null},e.prototype.drop=function(){},e}();t.DefaultDragAndDrop=s;var a=function(){function e(){}return e.prototype.isVisible=function(){return!0},e}();t.DefaultFilter=a;var u=function(){function e(){}return e.prototype.compare=function(){return 0},e}();t.DefaultSorter=u});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/tree/treeModel",["require","exports","vs/base/assert","vs/base/eventEmitter","vs/base/lib/winjs.base"],function(e,t,n,i,o){var r=function(e){function t(t){e.call(this),this._item=t}return __extends(t,e),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.emit("unlock"),e.prototype.dispose.call(this)},t}(i.EventEmitter);t.LockData=r;var s=function(){function e(){this.locks=Object.create({})}return e.prototype.isLocked=function(e){return!!this.locks[e.id]},e.prototype.run=function(e,t){var n=this,i=this.getLock(e);if(i){var s;return new o.Promise(function(o,r){s=i.addOneTimeListener("unlock",function(){return n.run(e,t).then(o,r)})},function(){return s()})}var a;return new o.Promise(function(i,o){if(e.isDisposed())return o(new Error("Item is disposed."));var s=n.locks[e.id]=new r(e);return a=t().then(function(t){return delete n.locks[e.id],s.dispose(),t}).then(i,o)},function(){return a.cancel()})},e.prototype.getLock=function(e){var t;for(t in this.locks){var n=this.locks[t];if(e.intersects(n.item))return n}return null},e}();t.Lock=s;var a=function(e){function t(){e.call(this),this.items={}}return __extends(t,e),t.prototype.register=function(e){n.ok(!this.isRegistered(e.id)),this.items[e.id]=e,this.emit("register",e)},t.prototype.deregister=function(e){n.ok(this.isRegistered(e.id)),delete this.items[e.id],this.emit("deregister",e)},t.prototype.isRegistered=function(e){return this.items.hasOwnProperty(e)},t.prototype.getItem=function(e){return this.items[e]||null},t.prototype.dispose=function(){e.prototype.dispose.call(this),delete this.items},t}(i.EventEmitter);t.ItemRegistry=a;var u=function(e){function t(t,n,i,o,r){e.call(this),this.registry=n,this.context=i,this.lock=o,this.element=r,this.id=t,this.registry.register(this),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.needsChildrenRefresh=!0,this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this.userContent=null,this.traits={},this.depth=0,this.maxDepth=0,this.expanded=!1,this.emit("item:create",{item:this}),this.visible=this._isVisible(),this.height=this._getHeight(),this._isDisposed=!1}return __extends(t,e),t.prototype.getElement=function(){return this.element},t.prototype.hasChildren=function(){return this.doesHaveChildren},t.prototype.getDepth=function(){return this.depth},t.prototype.getMaxDepth=function(){return this.maxDepth},t.prototype.isVisible=function(){return this.visible},t.prototype.setVisible=function(e){this.visible=e},t.prototype.isExpanded=function(){return this.expanded},t.prototype._setExpanded=function(e){this.expanded=e},t.prototype.reveal=function(e){"undefined"==typeof e&&(e=null);var t={item:this,relativeTop:e};this.emit("item:reveal",t)},t.prototype.expand=function(){var e=this;if(this.isExpanded()||!this.doesHaveChildren||this.lock.isLocked(this))return o.Promise.as(!1);var t=this.lock.run(this,function(){var t,n={item:e};return e.emit("item:expanding",n),t=e.needsChildrenRefresh?e.refreshChildren(!1,!0,!0):o.Promise.as(null),t.then(function(){return e._setExpanded(!0),e.emit("item:expanded",n),!0})});return t.then(function(t){return e.isDisposed()?!1:t&&null!==e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.isVisible()?e.firstChild.expand().then(function(){return!0}):t})},t.prototype.collapse=function(e){var t=this;if("undefined"==typeof e&&(e=!1),e){var n=o.Promise.as(null);return this.forEachChild(function(e){n=n.then(function(){return e.collapse(!0)})}),n.then(function(){return t.collapse(!1)})}return!this.isExpanded()||this.lock.isLocked(this)?o.Promise.as(!1):this.lock.run(this,function(){var e={item:t};return t.emit("item:collapsing",e),t._setExpanded(!1),t.emit("item:collapsed",e),o.Promise.as(!0)})},t.prototype.addTrait=function(e){var t={item:this,trait:e};this.traits[e]=!0,this.emit("item:addTrait",t)},t.prototype.removeTrait=function(e){var t={item:this,trait:e};delete this.traits[e],this.emit("item:removeTrait",t)},t.prototype.hasTrait=function(e){return this.traits[e]||!1},t.prototype.getAllTraits=function(){var e,t=[];for(e in this.traits)this.traits.hasOwnProperty(e)&&this.traits[e]&&t.push(e);return t},t.prototype.getHeight=function(){return this.height},t.prototype.refreshChildren=function(e,n,i){var r=this;if("undefined"==typeof n&&(n=!1),"undefined"==typeof i&&(i=!1),!i&&!this.isExpanded())return this.needsChildrenRefresh=!0,o.Promise.as(this);this.needsChildrenRefresh=!1;var s=function(){var i={item:r,isNested:n};r.emit("item:childrenRefreshing",i);var s;return s=r.doesHaveChildren?r.context.dataSource.getChildren(r.context.tree,r.element):o.Promise.as([]),s.then(function(n){n=n?n.slice(0):[],n=r.sort(n);for(var i={};null!==r.firstChild;)i[r.firstChild.id]=r.firstChild,r.removeChild(r.firstChild);for(var s=0,a=n.length;a>s;s++){var u=n[s],l=r.context.dataSource.getId(r.context.tree,u),c=i[l]||new t(l,r.registry,r.context,r.lock,u);e&&(c.needsChildrenRefresh=e),delete i[l],r.addChild(c)}for(var d in i)i.hasOwnProperty(d)&&i[d].dispose();return e?o.Promise.join(r.mapEachChild(function(t){return t.doRefresh(e,!0)})):o.Promise.as(null)}).then(function(){r.emit("item:childrenRefreshed",i)})};return n?s():this.lock.run(this,s)},t.prototype.doRefresh=function(e,t){"undefined"==typeof t&&(t=!1);var n={item:this};return this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.height=this._getHeight(),this.setVisible(this._isVisible()),this.emit("item:refresh",n),this.refreshChildren(e,t)},t.prototype.refresh=function(e){return this.doRefresh(e)},t.prototype.getNavigator=function(){return new c(this)},t.prototype.intersects=function(e){return this.isAncestorOf(e)||e.isAncestorOf(this)},t.prototype.isAncestorOf=function(e){for(;e;){if(e.id===this.id)return!0;e=e.parent}return!1},t.prototype.addChild=function(e,t){"undefined"==typeof t&&(t=this.lastChild);var n=null===this.firstChild,i=null===t,o=t===this.lastChild;n?(this.firstChild=this.lastChild=e,e.next=e.previous=null):i?(this.firstChild.previous=e,e.next=this.firstChild,e.previous=null,this.firstChild=e):o?(this.lastChild.next=e,e.next=null,e.previous=this.lastChild,this.lastChild=e):(e.previous=t,e.next=t.next,t.next.previous=e,t.next=e),e.parent=this,e.depth=this.depth+1;for(var r=this,s=e.maxDepth+1;r&&r.maxDepth<s;)r.maxDepth=s++,r=r.parent},t.prototype.removeChild=function(e){var t=this.firstChild===e,n=this.lastChild===e;t&&n?this.firstChild=this.lastChild=null:t?(e.next.previous=null,this.firstChild=e.next):n?(e.previous.next=null,this.lastChild=e.previous):(e.next.previous=e.previous,e.previous.next=e.next),e.parent=null,e.depth=null;for(var i=this,o=e.maxDepth+1;i&&i.maxDepth===o;)o=i.maxDepth+1,i.maxDepth=Math.max.apply(null,this.mapEachChild(function(e){return e.maxDepth}))+1,i=i.parent},t.prototype.forEachChild=function(e){for(var t,n=this.firstChild;n;)t=n.next,e(n),n=t},t.prototype.mapEachChild=function(e){var t=[];return this.forEachChild(function(n){t.push(e(n))}),t},t.prototype.sort=function(e){var t=this;return this.context.sorter?e.sort(function(e,n){return t.context.sorter.compare(t.context.tree,e,n)}):e},t.prototype._getHeight=function(){return this.context.renderer.getHeight(this.context.tree,this.element)},t.prototype._isVisible=function(){return this.context.filter.isVisible(this.context.tree,this.element)},t.prototype.isDisposed=function(){return this._isDisposed},t.prototype.dispose=function(){this.forEachChild(function(e){return e.dispose()}),delete this.parent,delete this.previous,delete this.next,delete this.firstChild,delete this.lastChild;var t={item:this};this.emit("item:dispose",t),this.registry.deregister(this),e.prototype.dispose.call(this),this._isDisposed=!0},t}(i.EventEmitter);t.Item=u;var l=function(e){function t(t,n,i,o,r){e.call(this,t,n,i,o,r)}return __extends(t,e),t.prototype.isVisible=function(){return!1},t.prototype.setVisible=function(){},t.prototype.isExpanded=function(){return!0},t.prototype._setExpanded=function(){},t.prototype.render=function(){},t.prototype._getHeight=function(){return 0},t.prototype._isVisible=function(){return!1},t}(u),c=function(){function e(e,t){"undefined"==typeof t&&(t=!0),this.item=e,this.start=t?e:null}return e.lastDescendantOf=function(t){return t?t.isVisible()&&t.isExpanded()&&null!==t.lastChild?e.lastDescendantOf(t.lastChild):t:null},e.prototype.current=function(){return this.item||null},e.prototype.next=function(){if(this.item)do if((this.item instanceof l||this.item.isVisible()&&this.item.isExpanded())&&this.item.firstChild)this.item=this.item.firstChild;else if(this.item===this.start)this.item=null;else{for(;this.item&&this.item!==this.start&&!this.item.next;)this.item=this.item.parent;this.item===this.start&&(this.item=null),this.item=this.item?this.item.next:null}while(this.item&&!this.item.isVisible());return this.item||null},e.prototype.previous=function(){if(this.item)do{var t=e.lastDescendantOf(this.item.previous);this.item=t?t:this.item.parent&&this.item.parent!==this.start&&this.item.parent.isVisible()?this.item.parent:null}while(this.item&&!this.item.isVisible());return this.item||null},e.prototype.parent=function(){if(this.item){var e=this.item.parent;this.item=e&&e!==this.start&&e.isVisible()?e:null}return this.item||null},e.prototype.first=function(){return this.item=this.start,this.next(),this.item||null},e.prototype.last=function(){return this.start&&this.start.isExpanded()&&(this.item=this.start.lastChild,this.item&&!this.item.isVisible()&&this.previous()),this.item||null},e}();t.TreeNavigator=c;var d=function(e){function t(t){e.call(this),this.context=t,this.input=null,this.traitsToItems={}}return __extends(t,e),t.prototype.setInput=function(e){var t=this,n={item:this.input};this.emit("clearingInput",n),this.setSelection([]),this.setFocus(),this.setHighlight(),this.lock=new s,this.input&&this.input.dispose(),this.registry&&(this.registry.dispose(),this.unbindRegistryListener()),this.registry=new a,this.unbindRegistryListener=this.registry.addListener("register",function(e){var n=t.addEmitter(e),i=t.registry.addListener("deregister",function(o){if(o.id===e.id){for(var r=o.getAllTraits(),s=0,a=r.length;a>s;s++){var u=r[s];delete t.traitsToItems[u][o.id]}n(),i()}})});var i=this.context.dataSource.getId(this.context.tree,e);return this.input=new l(i,this.registry,this.context,this.lock,e),n={item:this.input},this.emit("setInput",n),this.refresh(this.input)},t.prototype.getInput=function(){return this.input?this.input.getElement():null},t.prototype.refresh=function(e,t){var n=this;"undefined"==typeof e&&(e=null),"undefined"==typeof t&&(t=!0);var i=this.getItem(e);if(!i)return o.Promise.as(null);var r={item:i,recursive:t};return this.emit("refreshing",r),i.refresh(t).then(function(){n.emit("refreshed",r)})},t.prototype.refreshAll=function(e,t){var n=this;"undefined"==typeof t&&(t=!0);var i=[];return this.deferredEmit(function(){for(var o=0,r=e.length;r>o;o++)i.push(n.refresh(e[o],t))}),o.Promise.join(i)},t.prototype.expand=function(e){var t=this.getItem(e);return t?t.expand():o.Promise.as(!1)},t.prototype.expandAll=function(e){for(var t=[],n=0,i=e.length;i>n;n++)t.push(this.expand(e[n]));return o.Promise.join(t)},t.prototype.collapse=function(e,t){"undefined"==typeof t&&(t=!1);
var n=this.getItem(e);return n?n.collapse(t):o.Promise.as(!1)},t.prototype.collapseAll=function(e,t){"undefined"==typeof e&&(e=null),"undefined"==typeof t&&(t=!1),e||(e=[this.input],t=!0);for(var n=[],i=0,r=e.length;r>i;i++)n.push(this.collapse(e[i],t));return o.Promise.join(n)},t.prototype.toggleExpansion=function(e){return this.isExpanded(e)?this.collapse(e):this.expand(e)},t.prototype.toggleExpansionAll=function(e){for(var t=[],n=0,i=e.length;i>n;n++)t.push(this.toggleExpansion(e[n]));return o.Promise.join(t)},t.prototype.isExpanded=function(e){var t=this.getItem(e);return t?t.isExpanded():!1},t.prototype.reveal=function(e,t){var n=this;return"undefined"==typeof t&&(t=null),this.resolveUnknownParentChain(e).then(function(e){var t=o.Promise.as(null);return e.forEach(function(e){t=t.then(function(){return n.expand(e)})}),t}).then(function(){var i=n.getItem(e);i&&i.reveal(t)})},t.prototype.resolveUnknownParentChain=function(e){var t=this;return this.context.dataSource.getParent(this.context.tree,e).then(function(e){return e?t.resolveUnknownParentChain(e).then(function(t){return t.push(e),t}):o.Promise.as([])})},t.prototype.setHighlight=function(e,t){this.getHighlight();this.setTraits("highlighted",e?[e]:[]);var n={highlight:this.getHighlight(),payload:t};this.emit("highlight",n)},t.prototype.getHighlight=function(){var e=this.getElementsWithTrait("highlighted");return 0===e.length?null:e[0]},t.prototype.isHighlighted=function(e){var t=this.getItem(e);return t?t.hasTrait("highlighted"):!1},t.prototype.select=function(e,t){this.selectAll([e],t)},t.prototype.selectAll=function(e,t){this.addTraits("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.deselect=function(e,t){this.deselectAll([e],t)},t.prototype.deselectAll=function(e,t){this.removeTraits("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.setSelection=function(e,t){this.setTraits("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.isSelected=function(e){var t=this.getItem(e);return t?t.hasTrait("selected"):!1},t.prototype.getSelection=function(){return this.getElementsWithTrait("selected")},t.prototype.selectNext=function(e,t){"undefined"==typeof e&&(e=1);for(var n,i=this.getSelection(),o=i.length>0?i[0]:this.input,r=this.getNavigator(o,!1),s=0;e>s&&(n=r.next(),n);s++)o=n;this.setSelection([o],t)},t.prototype.selectPrevious=function(e,t){"undefined"==typeof e&&(e=1);var n=this.getSelection(),i=null,o=null;if(0===n.length){for(var r=this.getNavigator(this.input);i=r.next();)o=i;return this.setSelection([o],t),void 0}i=n[0];for(var r=this.getNavigator(i,!1),s=0;e>s&&(o=r.previous(),o);s++)i=o;this.setSelection([i],t)},t.prototype.selectParent=function(e){var t=this.getSelection(),n=t.length>0?t[0]:this.input,i=this.getNavigator(n,!1),o=i.parent();o&&this.setSelection([o],e)},t.prototype.setFocus=function(e,t){this.setTraits("focused",e?[e]:[]);var n={focus:this.getFocus(),payload:t};this.emit("focus",n)},t.prototype.isFocused=function(e){var t=this.getItem(e);return t?t.hasTrait("focused"):!1},t.prototype.getFocus=function(){var e=this.getElementsWithTrait("focused");return 0===e.length?null:e[0]},t.prototype.focusNext=function(e,t){"undefined"==typeof e&&(e=1);for(var n,i=this.getFocus()||this.input,o=this.getNavigator(i,!1),r=0;e>r&&(n=o.next(),n);r++)i=n;this.setFocus(i,t)},t.prototype.focusPrevious=function(e,t){"undefined"==typeof e&&(e=1);for(var n,i=this.getFocus()||this.input,o=this.getNavigator(i,!1),r=0;e>r&&(n=o.previous(),n);r++)i=n;this.setFocus(i,t)},t.prototype.focusParent=function(e){var t=this.getFocus()||this.input,n=this.getNavigator(t,!1),i=n.parent();i&&this.setFocus(i,e)},t.prototype.focusFirst=function(e){var t=this.getNavigator(this.input),n=t.first();n&&this.setFocus(n,e)},t.prototype.focusLast=function(e){var t=this.getNavigator(this.input),n=t.last();n&&this.setFocus(n,e)},t.prototype.getNavigator=function(e,t){return"undefined"==typeof e&&(e=null),"undefined"==typeof t&&(t=!0),new c(this.getItem(e),t)},t.prototype.isElementInTree=function(e){return this.registry.isRegistered(this.context.dataSource.getId(this.context.tree,e))},t.prototype.getItem=function(e){return"undefined"==typeof e&&(e=null),null===e?this.input:e instanceof u?e:"string"==typeof e?this.registry.getItem(e):this.registry.getItem(this.context.dataSource.getId(this.context.tree,e))},t.prototype.addTraits=function(e,t){for(var n,i=this.traitsToItems[e]||{},o=0,r=t.length;r>o;o++)n=this.getItem(t[o]),n&&(n.addTrait(e),i[n.id]=n);this.traitsToItems[e]=i},t.prototype.removeTraits=function(e,t){var n,i,o=this.traitsToItems[e]||{};if(0===t.length){for(i in o)o.hasOwnProperty(i)&&(n=o[i],n.removeTrait(e));delete this.traitsToItems[e]}else for(var r=0,s=t.length;s>r;r++)n=this.getItem(t[r]),n&&(n.removeTrait(e),delete o[n.id])},t.prototype.setTraits=function(e,t){if(0===t.length)this.removeTraits(e,t);else{for(var n,i={},o=0,r=t.length;r>o;o++)n=this.getItem(t[o]),n&&(i[n.id]=n);var s,a=this.traitsToItems[e]||{},u=[];for(s in a)a.hasOwnProperty(s)&&(i.hasOwnProperty(s)?delete i[s]:u.push(a[s]));for(var o=0,r=u.length;r>o;o++)n=u[o],n.removeTrait(e),delete a[n.id];for(s in i)i.hasOwnProperty(s)&&(n=i[s],n.addTrait(e),a[s]=n);this.traitsToItems[e]=a}},t.prototype.getElementsWithTrait=function(e){var t,n=[],i=this.traitsToItems[e]||{};for(t in i)i.hasOwnProperty(t)&&n.push(i[t].getElement());return n},t.prototype.dispose=function(){this.registry&&(this.registry.dispose(),this.registry=null),e.prototype.dispose.call(this)},t}(i.EventEmitter);t.TreeModel=d});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/tree/tree",["require","exports"],function(e,t){var n=function(){function e(e,t,n){this._posx=e,this._posy=t,this._target=n}return e.prototype.preventDefault=function(){},e.prototype.stopPropagation=function(){},Object.defineProperty(e.prototype,"posx",{get:function(){return this._posx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"posy",{get:function(){return this._posy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),e}();t.ContextMenuEvent=n;var i=function(e){function t(t){e.call(this,t.posx,t.posy,t.target),this.originalEvent=t}return __extends(t,e),t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},t}(n);t.MouseContextMenuEvent=i;var o=function(e){function t(t,n,i){e.call(this,t,n,i.target),this.originalEvent=i}return __extends(t,e),t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},t}(n);t.KeyboardContextMenuEvent=o,function(e){e[e.COPY=0]="COPY",e[e.MOVE=1]="MOVE"}(t.DragOverEffect||(t.DragOverEffect={}));t.DragOverEffect;!function(e){e[e.BUBBLE_DOWN=0]="BUBBLE_DOWN",e[e.BUBBLE_UP=1]="BUBBLE_UP"}(t.DragOverBubble||(t.DragOverBubble={}));t.DragOverBubble;t.DRAG_OVER_REJECT={accept:!1},t.DRAG_OVER_ACCEPT={accept:!0},t.DRAG_OVER_ACCEPT_BUBBLE_UP={accept:!0,bubble:1},t.DRAG_OVER_ACCEPT_BUBBLE_DOWN={accept:!0,bubble:0},t.DRAG_OVER_ACCEPT_BUBBLE_UP_COPY={accept:!0,bubble:1,effect:0},t.DRAG_OVER_ACCEPT_BUBBLE_DOWN_COPY={accept:!0,bubble:0,effect:0}}),define("vs/base/diff/diffChange",["require","exports"],function(e,t){t.DifferenceType={Add:0,Remove:1,Change:2};var n=function(){function e(e,t,n,i){this.originalStart=e,this.originalLength=t,this.modifiedStart=n,this.modifiedLength=i}return e.prototype.getChangeType=function(){return 0===this.originalLength?t.DifferenceType.Add:0===this.modifiedLength?t.DifferenceType.Remove:t.DifferenceType.Change},e.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},e.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},e}();t.DiffChange=n}),define("vs/base/diff/diff",["require","exports","vs/base/diff/diffChange"],function(e,t,n){var i=function(){function e(){}return e.Assert=function(e,t){if(!e)throw new Error(t)},e}();t.Debug=i;var o=function(){function e(){}return e.Copy=function(e,t,n,i,o){for(var r=0;o>r;r++)n[i+r]=e[t+r]},e}();t.MyArray=o;// Copyright (C) 2008 Microsoft Corporation
var r=1447,s=function(){function e(){this.m_changes=[],this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE,this.m_originalCount=0,this.m_modifiedCount=0}return e.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new n.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE},e.prototype.AddOriginalElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++},e.prototype.AddModifiedElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++},e.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},e.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},e}(),a=function(){function e(e,t,n){"undefined"==typeof n&&(n=null),this.OriginalSequence=e,this.ModifiedSequence=t,this.ContinueProcessingPredicate=n,this.m_originalIds=[],this.m_modifiedIds=[],this.m_forwardHistory=[],this.m_reverseHistory=[],this.ComputeUniqueIdentifiers()}return e.prototype.ComputeUniqueIdentifiers=function(){var e=this.OriginalSequence.getLength(),t=this.ModifiedSequence.getLength();this.m_originalIds=new Array(e),this.m_modifiedIds=new Array(t);var n,i={},o=1;for(n=0;e>n;n++){var r=this.OriginalSequence.getElementHash(n);i.hasOwnProperty(r)?this.m_originalIds[n]=i[r]:(this.m_originalIds[n]=o++,i[r]=this.m_originalIds[n])}for(n=0;t>n;n++){var s=this.ModifiedSequence.getElementHash(n);i.hasOwnProperty(s)?this.m_modifiedIds[n]=i[s]:(this.m_modifiedIds[n]=o++,i[s]=this.m_modifiedIds[n])}},e.prototype.ElementsAreEqual=function(e,t){return this.m_originalIds[e]===this.m_modifiedIds[t]},e.prototype.ComputeDiff=function(){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1)},e.prototype._ComputeDiff=function(e,t,n,i){var o=[!1];return this.ComputeDiffRecursive(e,t,n,i,o)},e.prototype.ComputeDiffRecursive=function(e,t,o,r,s){for(s[0]=!1;t>=e&&r>=o&&this.ElementsAreEqual(e,o);)e++,o++;for(;t>=e&&r>=o&&this.ElementsAreEqual(t,r);)t--,r--;if(e>t||o>r){var a;return r>=o?(i.Assert(e===t+1,"originalStart should only be one more than originalEnd"),a=[new n.DiffChange(e,0,o,r-o+1)]):t>=e?(i.Assert(o===r+1,"modifiedStart should only be one more than modifiedEnd"),a=[new n.DiffChange(e,t-e+1,o,0)]):(i.Assert(e===t+1,"originalStart should only be one more than originalEnd"),i.Assert(o===r+1,"modifiedStart should only be one more than modifiedEnd"),a=[]),a}var u=[0],l=[0],c=this.ComputeRecursionPoint(e,t,o,r,u,l,s),d=u[0],h=l[0];if(null!==c)return c;if(!s[0]){var p=this.ComputeDiffRecursive(e,d,o,h,s),f=[];return f=s[0]?[new n.DiffChange(d+1,t-(d+1)+1,h+1,r-(h+1)+1)]:this.ComputeDiffRecursive(d+1,t,h+1,r,s),this.ConcatenateChanges(p,f)}return[new n.DiffChange(e,t-e+1,o,r-o+1)]},e.prototype.WALKTRACE=function(e,t,i,o,r,a,u,l,c,d,h,p,f,g,m,v,y,_){var b,C=null,w=null,E=new s,S=t,L=i,x=f[0]-v[0]-o,T=Number.MIN_VALUE,M=this.m_forwardHistory.length-1;do b=x+e,b===S||L>b&&c[b-1]<c[b+1]?(h=c[b+1],g=h-x-o,T>h&&E.MarkNextChange(),T=h,E.AddModifiedElement(h+1,g),x=b+1-e):(h=c[b-1]+1,g=h-x-o,T>h&&E.MarkNextChange(),T=h-1,E.AddOriginalElement(h,g+1),x=b-1-e),M>=0&&(c=this.m_forwardHistory[M],e=c[0],S=1,L=c.length-1);while(--M>=-1);if(C=E.getReverseChanges(),_[0]){var N=f[0]+1,I=v[0]+1;if(null!==C&&C.length>0){var D=C[C.length-1];N=Math.max(N,D.getOriginalEnd()),I=Math.max(I,D.getModifiedEnd())}w=[new n.DiffChange(N,p-N+1,I,m-I+1)]}else{E=new s,S=a,L=u,x=f[0]-v[0]-l,T=Number.MAX_VALUE,M=y?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do b=x+r,b===S||L>b&&d[b-1]>=d[b+1]?(h=d[b+1]-1,g=h-x-l,h>T&&E.MarkNextChange(),T=h+1,E.AddOriginalElement(h+1,g+1),x=b+1-r):(h=d[b-1],g=h-x-l,h>T&&E.MarkNextChange(),T=h,E.AddModifiedElement(h+1,g+1),x=b-1-r),M>=0&&(d=this.m_reverseHistory[M],r=d[0],S=1,L=d.length-1);while(--M>=-1);w=E.getChanges()}return this.ConcatenateChanges(C,w)},e.prototype.ComputeRecursionPoint=function(e,t,i,s,a,u,l){var c,d,h,p=0,f=0,g=0,m=0;e--,i--,a[0]=0,u[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var v=t-e+(s-i),y=v+1,_=new Array(y),b=new Array(y),C=s-i,w=t-e,E=e-i,S=t-s,L=w-C,x=L%2===0;_[C]=e,b[w]=t,l[0]=!1;var T,M;for(h=1;v/2+1>=h;h++){var N=0,I=0;for(p=this.ClipDiagonalBound(C-h,h,C,y),f=this.ClipDiagonalBound(C+h,h,C,y),T=p;f>=T;T+=2){for(c=T===p||f>T&&_[T-1]<_[T+1]?_[T+1]:_[T-1]+1,d=c-(T-C)-E,M=c;t>c&&s>d&&this.ElementsAreEqual(c+1,d+1);)c++,d++;if(_[T]=c,c+d>N+I&&(N=c,I=d),!x&&Math.abs(T-w)<=h-1&&c>=b[T])return a[0]=c,u[0]=d,M<=b[T]&&r>0&&r+1>=h?this.WALKTRACE(C,p,f,E,w,g,m,S,_,b,c,t,a,d,s,u,x,l):null}var D=(N-e+(I-i)-h)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(N,this.OriginalSequence,D))return l[0]=!0,a[0]=N,u[0]=I,D>0&&r>0&&r+1>=h?this.WALKTRACE(C,p,f,E,w,g,m,S,_,b,c,t,a,d,s,u,x,l):(e++,i++,[new n.DiffChange(e,t-e+1,i,s-i+1)]);for(g=this.ClipDiagonalBound(w-h,h,w,y),m=this.ClipDiagonalBound(w+h,h,w,y),T=g;m>=T;T+=2){for(c=T===g||m>T&&b[T-1]>=b[T+1]?b[T+1]-1:b[T-1],d=c-(T-w)-S,M=c;c>e&&d>i&&this.ElementsAreEqual(c,d);)c--,d--;if(b[T]=c,x&&Math.abs(T-C)<=h&&c<=_[T])return a[0]=c,u[0]=d,M>=_[T]&&r>0&&r+1>=h?this.WALKTRACE(C,p,f,E,w,g,m,S,_,b,c,t,a,d,s,u,x,l):null}if(r>=h){var k=new Array(f-p+2);k[0]=C-p+1,o.Copy(_,p,k,1,f-p+1),this.m_forwardHistory.push(k),k=new Array(m-g+2),k[0]=w-g+1,o.Copy(b,g,k,1,m-g+1),this.m_reverseHistory.push(k)}}return this.WALKTRACE(C,p,f,E,w,g,m,S,_,b,c,t,a,d,s,u,x,l)},e.prototype.ConcatenateChanges=function(e,t){var n=[],i=null;return 0===e.length||0===t.length?t.length>0?t:e:this.ChangesOverlap(e[e.length-1],t[0],n)?(i=new Array(e.length+t.length-1),o.Copy(e,0,i,0,e.length-1),i[e.length-1]=n[0],o.Copy(t,1,i,e.length,t.length-1),i):(i=new Array(e.length+t.length),o.Copy(e,0,i,0,e.length),o.Copy(t,0,i,e.length,t.length),i)},e.prototype.ChangesOverlap=function(e,t,o){if(i.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),i.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var r=e.originalStart,s=e.originalLength,a=e.modifiedStart,u=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(s=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(u=t.modifiedStart+t.modifiedLength-e.modifiedStart),o[0]=new n.DiffChange(r,s,a,u),!0}return o[0]=null,!1},e.prototype.ClipDiagonalBound=function(e,t,n,i){if(e>=0&&i>e)return e;var o=n,r=i-n-1,s=t%2===0;if(0>e){var a=o%2===0;return s===a?0:1}var u=r%2===0;return s===u?i-1:i-2},e}();t.LcsDiff=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/tree/treeView",["require","exports","./tree","vs/base/env","vs/base/lib/winjs.base","vs/base/dom/dom","vs/base/types","vs/base/eventEmitter","vs/base/diff/diff","vs/base/dom/touch","vs/base/dom/mouseEvent","vs/base/dom/keyboardEvent","vs/base/ui/scrollbar/impl/scrollableElement"],function(e,t,n,i,o,r,s,a,u,l,c,d,h){function p(e,t){return e||t?e&&t?e.accept!==t.accept?!1:e.bubble!==t.bubble?!1:e.effect!==t.effect?!1:!0:!1:!0}var f=function(){function e(e,t,n){"undefined"==typeof t&&(t=0),"undefined"==typeof n&&(n=e.length),this.items=e,this.start=t,this.end=n,this.index=t-1}return e.prototype.next=function(){return this.index=Math.min(this.index+1,this.end),this.index===this.end?null:this.items[this.index]},e}();t.ArrayIterator=f;var g=function(){function e(e){this.elements=e}return e.prototype.update=function(){},e.prototype.getData=function(){return this.elements},e}();t.ElementsDragAndDropData=g;var m=function(){function e(){this.types=[],this.files=[]}return e.prototype.update=function(e){e.dataTransfer.types&&(this.types=[],Array.prototype.push.apply(this.types,e.dataTransfer.types)),e.dataTransfer.files&&(this.files=[],Array.prototype.push.apply(this.files,e.dataTransfer.files),this.files=this.files.filter(function(e){return e.size||e.type}))},e.prototype.getData=function(){return{types:this.types,files:this.files}},e}();t.DesktopDragAndDropData=m;var v=function(){function e(e,t,n){this.context=e,this.model=t,this.id=this.model.id,this.top=n,this.height=t.getHeight(),this._styles={},t.isExpanded()&&this.addClass("expanded")}return Object.defineProperty(e.prototype,"expanded",{set:function(e){e?this.addClass("expanded"):this.removeClass("expanded")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loading",{set:function(e){e?this.addClass("loading"):this.removeClass("loading")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable=e,this.render(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropTarget",{set:function(e){e?this.addClass("drop-target"):this.removeClass("drop-target")},enumerable:!0,configurable:!0}),e.prototype.addClass=function(e){this._styles[e]=!0,this.render(!0)},e.prototype.removeClass=function(e){delete this._styles[e],this.render(!0)},e.prototype.render=function(e){var t=this;if("undefined"==typeof e&&(e=!1),this.row){var n=["row"];n.push.apply(n,Object.keys(this._styles)),this.model.hasChildren()&&n.push("has-children"),this.row.className=n.join(" "),this.row.draggable=this.draggable,this.row.style.height=this.height+"px",this.row.style.paddingLeft=this.context.options.twistiePixels+(this.model.getDepth()-1)*this.context.options.indentPixels+"px";var i=this.context.dnd.getDragURI(this.context.tree,this.model.getElement());i!==this.uri&&(this.unbindDragStart&&(this.unbindDragStart(),delete this.unbindDragStart),i?(this.uri=i,this.draggable=!0,this.unbindDragStart=r.addListener(this.row,"dragstart",function(e){t.onDragStart(e)})):this.uri=null),e||(this.renderCleanupFn=this.context.renderer.render(this.context.tree,this.model.getElement(),this.row.firstChild,this.renderCleanupFn))}},e.prototype.insertInDOM=function(e,t){if(!this.row){var n=document.createElement("div");n.className="content",this.row=document.createElement("div"),this.row[b.BINDING]=this,this.row.appendChild(n)}this.row.parentElement||(null===t?e.appendChild(this.row):e.insertBefore(this.row,t),this.render())},e.prototype.removeFromDOM=function(){this.row&&(this.unbindDragStart&&(this.unbindDragStart(),this.unbindDragStart=null),this.renderCleanupFn&&this.renderCleanupFn(this.context.tree,this.model.getElement()),this.uri=null,this.row.parentElement.removeChild(this.row),this.row=null)},e.prototype.dispose=function(){this.renderCleanupFn=null,this.row=null,this.model=null},e}();t.ViewItem=v;var y=function(e){function t(t,n,i){e.call(this,t,n,0),this.row=i}return __extends(t,e),t.prototype.render=function(){if(this.row){var e=["monaco-vtree-wrapper"];e.push.apply(e,Object.keys(this._styles)),this.model.hasChildren()&&e.push("has-children"),this.row.className=e.join(" ")}},t.prototype.insertInDOM=function(){},t.prototype.removeFromDOM=function(){},t}(v),_=function(e){function t(t){e.call(this),this.context=t,this.heightMap=[],this.indexes={}}return __extends(t,e),t.prototype.getTotalHeight=function(){var e=this.heightMap[this.heightMap.length-1];return e?e.top+e.height:0},t.prototype.onInsertItems=function(e,t){"undefined"==typeof t&&(t=null);var n,i,o,r,a,u=s.isArray(e)?new f(e):e,l=0;null===t?(o=0,a=0):(o=this.indexes[t]+1,a=this.heightMap[o-1].top+this.heightMap[o-1].height);for(var c=this.heightMap.splice.bind(this.heightMap,o,0),d=[];n=u.next();)i=new v(this.context,n,a+l),this.emit("viewItem:create",{item:i.model}),this.indexes[n.id]=o++,d.push(i),l+=i.height;for(c.apply(this.heightMap,d),r=o;r<this.heightMap.length;r++)i=this.heightMap[r],i.top+=l,this.indexes[i.id]=r;for(r=d.length-1;r>=0;r--)this.onInsertItem(d[r]);for(r=o;r<this.heightMap.length;r++)this.onRefreshItem(this.heightMap[r])},t.prototype.onInsertItem=function(){},t.prototype.onRemoveItems=function(e){for(var t,n,i,o=s.isArray(e)?new f(e):e,r=null,a=0;t=o.next();)t=t.id||t,i=this.indexes[t],n=this.heightMap[i],a-=n.height,delete this.indexes[t],this.onRemoveItem(n),null===r&&(r=i);if(0!==a)for(this.heightMap.splice(r,i-r+1),i=r;i<this.heightMap.length;i++)n=this.heightMap[i],n.top+=a,this.indexes[n.id]=i,this.onRefreshItem(n)},t.prototype.onRemoveItem=function(){},t.prototype.onRefreshItemSet=function(e){var t=this;this.onRefreshItems(e.sort(function(e,n){return t.indexes[e.id]-t.indexes[n.id]}))},t.prototype.onRefreshItems=function(e){for(var t,n,i,o,r=s.isArray(e)?new f(e):e,a=null,u=0;t=r.next();){for(o=this.indexes[t.id];0!==u&&null!==a&&o>a;a++)n=this.heightMap[a],n.top+=u,this.onRefreshItem(n);n=this.heightMap[o],i=t.getHeight(),n.top+=u,u+=i-n.height,n.height=i,this.onRefreshItem(n,!0),a=o+1}if(0!==u&&null!==a)for(;a<this.heightMap.length;a++)n=this.heightMap[a],n.top+=u,this.onRefreshItem(n)},t.prototype.onRefreshItem=function(e,t){"undefined"==typeof t&&(t=!1)},t.prototype.itemsCount=function(){return this.heightMap.length},t.prototype.itemAt=function(e){return this.heightMap[this.indexAt(e)].id},t.prototype.withItemsInRange=function(e,t,n){e=this.indexAt(e),t=this.indexAt(t);for(var i=e;t>=i;i++)n(this.heightMap[i].id)},t.prototype.indexAt=function(e){for(var t,n,i=0,o=this.heightMap.length;o>i;)if(t=Math.floor((i+o)/2),n=this.heightMap[t],e<n.top)o=t;else{if(!(e>=n.top+n.height))return t;if(i===t)break;i=t}return this.heightMap.length},t.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.heightMap.length)},t.prototype.itemAtIndex=function(e){return this.heightMap[e]},t.prototype.itemAfter=function(e){return this.heightMap[this.indexes[e.id]+1]||null},t.prototype.dispose=function(){this.heightMap=null,this.indexes=null},t}(a.EventEmitter);t.HeightMap=_;var b=function(e){function t(t,n){var o=this;e.call(this,t),this.isRefreshing=!1,this.refreshingPreviousChildrenIds={},this.treeContext=t,this.modelListeners=[],this.viewListeners=[],this.dragAndDropListeners=[],this.model=null,this.items={},this.domNode=document.createElement("div"),this.domNode.className="monaco-vtree",this.domNode.tabIndex=0,this.treeContext.options.alwaysFocused&&r.addClass(this.domNode,"focused"),this.treeContext.options.bare&&r.addClass(this.domNode,"bare"),this.wrapper=document.createElement("div"),this.wrapper.className="monaco-vtree-wrapper",this.scrollableElement=new h.ScrollableElement(this.wrapper,{scrollable:this,horizontal:t.options.horizontalScrollMode||"hidden",vertical:t.options.verticalScrollMode||"auto"}),i.browser.isIE11orEarlier?(this.wrapper.style.msTouchAction="none",this.wrapper.style.msContentZooming="none"):this.wrapperGesture=new l.Gesture(this.wrapper),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="rows",this.fakeRow=document.createElement("div"),this.fakeRow.className="row fake",this.fakeContent=document.createElement("div"),this.fakeContent.className="content",this.fakeRow.appendChild(this.fakeContent),this.rowsContainer.appendChild(this.fakeRow);var s=r.trackFocus(this.domNode);s.addFocusListener(function(e){return o.onFocus(e)}),s.addBlurListener(function(e){return o.onBlur(e)}),this.viewListeners.push(function(){s.dispose()}),this.viewListeners.push(r.addListener(this.domNode,"keydown",function(e){return o.onKeyDown(e)})),this.viewListeners.push(r.addListener(this.domNode,"keyup",function(e){return o.onKeyUp(e)})),this.viewListeners.push(r.addListener(this.domNode,"mousedown",function(e){return o.onMouseDown(e)})),this.viewListeners.push(r.addListener(this.wrapper,"click",function(e){return o.onClick(e)})),this.viewListeners.push(r.addListener(this.domNode,"contextmenu",function(e){return o.onContextMenu(e)})),this.viewListeners.push(r.addListener(this.wrapper,l.EventType.Tap,function(e){return o.onTap(e)})),this.viewListeners.push(r.addListener(this.wrapper,l.EventType.Change,function(e){return o.onTouchChange(e)})),i.browser.isIE11orEarlier&&(this.viewListeners.push(r.addListener(this.wrapper,"MSPointerDown",function(e){return o.onMsPointerDown(e)})),this.viewListeners.push(r.addListener(this.wrapper,"MSGestureTap",function(e){return o.onMsGestureTap(e)})),this.viewListeners.push(r.addThrottledListener(this.wrapper,"MSGestureChange",function(e){return o.onThrottledMsGestureChange(e)},function(e,t){t.stopPropagation(),t.preventDefault();var n={translationY:t.translationY,translationX:t.translationX};return e&&(n.translationY+=e.translationY,n.translationX+=e.translationX),n}))),this.viewListeners.push(r.addListener(window,"dragover",function(e){return o.onDragOver(e)})),this.viewListeners.push(r.addListener(window,"drop",function(e){return o.onDrop(e)})),this.viewListeners.push(r.addListener(window,"dragend",function(e){return o.onDragEnd(e)})),this.viewListeners.push(r.addListener(window,"dragleave",function(e){return o.onDragOver(e)})),this.wrapper.appendChild(this.rowsContainer),this.domNode.appendChild(this.scrollableElement.getDomNode()),n.appendChild(this.domNode),this._scrollTop=0,this._viewHeight=0,this.renderTop=0,this.renderHeight=0,this.didJustPressContextMenuKey=!1,this.currentDropTarget=null,this.currentDropTargets=[],this.shouldInvalidateDropReaction=!1,this.dragAndDropScrollInterval=null,this.dragAndDropScrollTimeout=null,this.onHiddenScrollTop=null,this.onRowsChanged(),this.layout(),this.setupMSGesture()}return __extends(t,e),t.prototype.getHTMLElement=function(){return this.domNode},t.prototype.focus=function(){this.domNode.focus()},t.prototype.isFocused=function(){return document.activeElement===this.domNode},t.prototype.blur=function(){this.domNode.blur()},t.prototype.onVisible=function(){this.scrollTop=this.onHiddenScrollTop,this.onHiddenScrollTop=null,this.scrollableElement.onElementDimensions(),this.scrollableElement.onElementInternalDimensions(),this.setupMSGesture()},t.prototype.setupMSGesture=function(){var e=this;window.MSGesture&&(this.msGesture=new MSGesture,setTimeout(function(){return e.msGesture.target=e.wrapper},100))},t.prototype.onHidden=function(){this.onHiddenScrollTop=this.scrollTop},t.prototype.isTreeVisible=function(){return null===this.onHiddenScrollTop},t.prototype.layout=function(e){this.isTreeVisible()&&(this.viewHeight=e||r.getContentHeight(this.wrapper),this.scrollTop=this.scrollTop,this.scrollableElement.onElementDimensions(),this.scrollableElement.onElementInternalDimensions())},t.prototype.render=function(e,t){var n,i,o=e+t,r=this.scrollTop+this.viewHeight,s=e;s=Math.max(s,0);var a=o,u=0===r?0:r;for(n=this.indexAfter(a)-1,i=this.indexAt(Math.max(u,s));n>=i;n--)this.insertItemInDOM(this.itemAtIndex(n));for(n=Math.min(this.indexAt(this.renderTop),this.indexAfter(a))-1,i=this.indexAt(s);n>=i;n--)this.insertItemInDOM(this.itemAtIndex(n));for(n=this.indexAt(this.renderTop),i=Math.min(this.indexAt(s),this.indexAfter(u));i>n;n++)this.removeItemFromDOM(this.itemAtIndex(n));for(n=Math.max(this.indexAfter(a),this.indexAt(this.renderTop)),i=this.indexAfter(u);i>n;n++)this.removeItemFromDOM(this.itemAtIndex(n));var l=this.itemAtIndex(this.indexAt(s));l&&(this.rowsContainer.style.top=l.top-s+"px"),this.renderTop=s,this.renderHeight=a-s},t.prototype.setModel=function(e){var t=this;this.releaseModel(),this.model=e,this.modelListeners.push(this.model.addBulkListener(function(e){return t.onModelEvents(e)}))},t.prototype.onModelEvents=function(e){for(var t=[],n=0,i=e.length;i>n;n++){var o=e[n],r=o.getData();switch(o.getType()){case"refreshing":this.onRefreshing();break;case"refreshed":this.onRefreshed();break;case"clearingInput":this.onClearingInput(r);break;case"setInput":this.onSetInput(r);break;case"item:childrenRefreshing":this.onItemChildrenRefreshing(r);break;case"item:childrenRefreshed":this.onItemChildrenRefreshed(r);break;case"item:refresh":t.push(r.item);break;case"item:expanding":this.onItemExpanding(r);break;case"item:expanded":this.onItemExpanded(r);break;case"item:collapsing":this.onItemCollapsing(r);break;case"item:reveal":this.onItemReveal(r);break;case"item:addTrait":this.onItemAddTrait(r);break;case"item:removeTrait":this.onItemRemoveTrait(r)}}t.length>0&&this.onItemsRefresh(t)},t.prototype.onRefreshing=function(){this.isRefreshing=!0},t.prototype.onRefreshed=function(){this.isRefreshing=!1,this.onRowsChanged()},t.prototype.onRowsChanged=function(){this.isRefreshing||(this.scrollTop=this.scrollTop,this.scrollableElement.onElementInternalDimensions())},t.prototype.withFakeRow=function(e){return e(this.fakeContent)},t.prototype.focusNextPage=function(e){var t=this,n=this.indexAt(this.scrollTop+this.viewHeight);n=0===n?0:n-1;var i=this.itemAtIndex(n).model.getElement(),o=this.model.getFocus();if(o!==i)this.model.setFocus(i,e);else{var r=this.scrollTop;this.scrollTop+=this.viewHeight,this.scrollTop!==r&&setTimeout(function(){t.focusNextPage(e)},0)}},t.prototype.focusPreviousPage=function(e){var t,n=this;t=0===this.scrollTop?this.indexAt(this.scrollTop):this.indexAfter(this.scrollTop-1);var i=this.itemAtIndex(t).model.getElement(),o=this.model.getFocus();if(o!==i)this.model.setFocus(i,e);else{var r=this.scrollTop;this.scrollTop-=this.viewHeight,this.scrollTop!==r&&setTimeout(function(){n.focusPreviousPage(e)},0)}},Object.defineProperty(t.prototype,"viewHeight",{get:function(){return this._viewHeight},set:function(e){this.render(this.scrollTop,e),this._viewHeight=e},enumerable:!0,configurable:!0}),t.prototype.getScrollHeight=function(){return this.getTotalHeight()},t.prototype.getScrollWidth=function(){return 0},t.prototype.getScrollLeft=function(){return 0},t.prototype.setScrollLeft=function(){},Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this._scrollTop},set:function(e){this.setScrollTop(e)},enumerable:!0,configurable:!0}),t.prototype.getScrollTop=function(){return this._scrollTop},t.prototype.setScrollTop=function(e){e=Math.min(e,this.getTotalHeight()-this.viewHeight),e=Math.max(e,0),this.render(e,this.viewHeight),this._scrollTop=e,this.emit("scroll",{vertical:!0,horizontal:!1})},t.prototype.addScrollListener=function(e){return this.addListener2("scroll",e)},t.prototype.onClearingInput=function(e){var t=e.item;t&&(this.onRemoveItems(t.getNavigator()),this.onRowsChanged())},t.prototype.onSetInput=function(e){this.inputItem=new y(this.treeContext,e.item,this.wrapper),this.emit("viewItem:create",{item:this.inputItem.model})},t.prototype.onItemChildrenRefreshing=function(e){var n=e.item,i=this.items[n.id];if(i&&(i.loadingPromise=o.Promise.timeout(t.LOADING_DECORATION_DELAY).then(function(){i.loadingPromise=null,i.loading=!0})),!e.isNested){for(var r,s=[],a=n.getNavigator();r=a.next();)s.push(r.id);this.refreshingPreviousChildrenIds[n.id]=s}},t.prototype.onItemChildrenRefreshed=function(e){var t=e.item,n=this.items[t.id];if(n&&(n.loadingPromise&&(n.loadingPromise.cancel(),n.loadingPromise=null),n.loading=!1),!e.isNested){for(var i,o=this.refreshingPreviousChildrenIds[t.id],r=[],s=t.getNavigator();i=s.next();)r.push(i);for(var a=new u.LcsDiff({getLength:function(){return o.length},getElementHash:function(e){return o[e]}},{getLength:function(){return r.length},getElementHash:function(e){return r[e].id}},null),l=a.ComputeDiff(),c=0,d=l.length;d>c;c++){var h=l[c];if(h.originalLength>0&&this.onRemoveItems(new f(o,h.originalStart,h.originalStart+h.originalLength)),h.modifiedLength>0){var p=r[h.modifiedStart-1]||t;p=p.getDepth()>0?p:null,this.onInsertItems(new f(r,h.modifiedStart,h.modifiedStart+h.modifiedLength),p?p.id:null)}}l.length&&this.onRowsChanged()}},t.prototype.onItemsRefresh=function(e){var t=this;e=e.filter(function(e){return t.items.hasOwnProperty(e.id)}),this.onRefreshItemSet(e),this.onRowsChanged()},t.prototype.onItemExpanding=function(e){var t=this.items[e.item.id];t&&(t.expanded=!0)},t.prototype.onItemExpanded=function(e){var t=e.item,n=this.items[t.id];n&&(n.expanded=!0,this.onInsertItems(t.getNavigator(),t.id),this.onRowsChanged())},t.prototype.onItemCollapsing=function(e){var t=e.item,n=this.items[t.id];n&&(n.expanded=!1,this.onRemoveItems(t.getNavigator()),this.onRowsChanged())},t.prototype.onItemReveal=function(e){var t=e.item,n=e.relativeTop,i=this.items[t.id];if(i)if(null!==n){n=0>n?0:n,n=n>1?1:n;var o=i.height-this.viewHeight;this.scrollTop=o*n+i.top}else{var r=i.top+i.height,s=this.scrollTop+this.viewHeight;i.top<this.scrollTop?this.scrollTop=i.top:r>=s&&(this.scrollTop=r-this.viewHeight)}},t.prototype.onItemAddTrait=function(e){var t=e.item,n=e.trait,i=this.items[t.id];i&&i.addClass(n),"highlighted"===n&&(r.addClass(this.domNode,n),i&&(this.highlightedItemWasDraggable=!!i.draggable,i.draggable&&(i.draggable=!1)))},t.prototype.onItemRemoveTrait=function(e){var t=e.item,n=e.trait,i=this.items[t.id];i&&i.removeClass(n),"highlighted"===n&&(r.removeClass(this.domNode,n),this.highlightedItemWasDraggable&&(i.draggable=!0),delete this.highlightedItemWasDraggable)},t.prototype.onInsertItem=function(e){var t=this;e.onDragStart=function(n){t.onDragStart(e,n)},e.needsRender=!0,this.refreshViewItem(e),this.items[e.id]=e},t.prototype.onRefreshItem=function(e,t){"undefined"==typeof t&&(t=!1),e.needsRender=e.needsRender||t,this.refreshViewItem(e)},t.prototype.onRemoveItem=function(e){this.removeItemFromDOM(e),e.dispose(),this.emit("viewItem:dispose",{item:this.inputItem.model}),delete this.items[e.id]},t.prototype.refreshViewItem=function(e){e.render(),this.shouldBeRendered(e)?this.insertItemInDOM(e):this.removeItemFromDOM(e)},t.prototype.onClick=function(e){if(!this.lastPointerType||"mouse"===this.lastPointerType){var t=new c.StandardMouseEvent(e),n=this.getItemAround(t.target);n&&this.treeContext.controller.onClick(this.treeContext.tree,n.model.getElement(),t)}},t.prototype.onTap=function(e){var t=this.getItemAround(e.initialTarget);t&&this.treeContext.controller.onTap(this.treeContext.tree,t.model.getElement(),e)},t.prototype.onTouchChange=function(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY},t.prototype.onContextMenu=function(e){var t,i;if(e instanceof KeyboardEvent||this.didJustPressContextMenuKey){this.didJustPressContextMenuKey=!1;var o=new d.KeyboardEvent(e);if(i=this.model.getFocus(),!i)return;var s=this.context.dataSource.getId(this.context.tree,i),a=this.items[s],u=r.getDomNodePosition(a.row);t=new n.KeyboardContextMenuEvent(u.left+u.width,u.top,o)}else{var l=new c.StandardMouseEvent(e),h=this.getItemAround(l.target);if(!h)return;i=h.model.getElement(),t=new n.MouseContextMenuEvent(l)}this.treeContext.controller.onContextMenu(this.treeContext.tree,i,t)},t.prototype.onKeyDown=function(e){var t=new d.KeyboardEvent(e);this.didJustPressContextMenuKey="ContextMenu"===t.key||t.shiftKey&&"F10"===t.key,this.didJustPressContextMenuKey&&(t.preventDefault(),t.stopPropagation()),t.target&&t.target.tagName&&"input"===t.target.tagName.toLowerCase()||this.treeContext.controller.onKeyDown(this.treeContext.tree,t)},t.prototype.onKeyUp=function(e){this.didJustPressContextMenuKey&&this.onContextMenu(e),this.didJustPressContextMenuKey=!1,this.treeContext.controller.onKeyUp(this.treeContext.tree,new d.KeyboardEvent(e))},t.prototype.onMouseDown=function(){this.didJustPressContextMenuKey=!1},t.prototype.onDragStart=function(e,t){this.model.setHighlight(),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setData("URL",e.uri),t.dataTransfer.setDragImage&&e.row&&t.dataTransfer.setDragImage(e.row,t.offsetX||6,t.offsetY||6),this.currentDragAndDropData=new g([e.model.getElement()]),this.treeContext.dnd.onDragStart(this.treeContext.tree,this.currentDragAndDropData,new c.DragMouseEvent(t))},t.prototype.setupDragAndDropScrollInterval=function(){var e=this,t=r.getTopLeftOffset(this.wrapper).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(void 0!==e.dragAndDropMouseY){var n=e.dragAndDropMouseY-t,i=0,o=e.viewHeight-35;35>n?i=Math.max(-14,.2*(n-35)):n>o&&(i=Math.min(14,.2*(n-o))),e.scrollTop+=i}},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){e.cancelDragAndDropScrollInterval(),e.dragAndDropScrollTimeout=null},1e3))},t.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},t.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},t.prototype.onDragOver=function(e){var t=this,n=new c.DragMouseEvent(e),i=this.getItemAround(n.target);if(!i)return this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[],this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)),this.cancelDragAndDropScrollInterval(),delete this.currentDropTarget,delete this.currentDropElement,delete this.dragAndDropMouseY,!1;if(this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=n.posy,!this.currentDragAndDropData){if(!n.dataTransfer.types)return!1;this.currentDragAndDropData=new m}this.currentDragAndDropData.update(n);var r,s,a=i.model;do{if(r=a?a.getElement():this.model.getInput(),s=this.treeContext.dnd.onDragOver(this.treeContext.tree,this.currentDragAndDropData,r,n),!s||1!==s.bubble)break;a=a&&a.parent}while(a);if(!a)return delete this.currentDropElement,!1;var u=s&&s.accept;u?(this.currentDropElement=a.getElement(),n.preventDefault(),n.dataTransfer.dropEffect=0===s.effect?"copy":"move"):delete this.currentDropElement;var l=a.id===this.inputItem.id?this.inputItem:this.items[a.id];if((this.shouldInvalidateDropReaction||this.currentDropTarget!==l||!p(this.currentDropElementReaction,s))&&(this.shouldInvalidateDropReaction=!1,this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[],this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)),this.currentDropTarget=l,this.currentDropElementReaction=s,u)){if(this.currentDropTarget&&(this.currentDropTarget.dropTarget=!0,this.currentDropTargets.push(this.currentDropTarget)),0===s.bubble)for(var d,h=a.getNavigator();d=h.next();)i=this.items[d.id],i&&(i.dropTarget=!0,this.currentDropTargets.push(i));this.currentDropPromise=o.Promise.timeout(500).then(function(){return t.treeContext.tree.expand(t.currentDropElement).then(function(){t.shouldInvalidateDropReaction=!0})})}return!0},t.prototype.onDrop=function(e){if(this.currentDropElement){var t=new c.DragMouseEvent(e);t.preventDefault(),this.currentDragAndDropData.update(t),this.treeContext.dnd.drop(this.treeContext.tree,this.currentDragAndDropData,this.currentDropElement,t),this.onDragEnd(e)}this.cancelDragAndDropScrollInterval()},t.prototype.onDragEnd=function(){this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[]),this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null),this.cancelDragAndDropScrollInterval(),delete this.currentDragAndDropData,delete this.currentDropElement,delete this.currentDropTarget,delete this.dragAndDropMouseY},t.prototype.onFocus=function(){this.treeContext.options.alwaysFocused||r.addClass(this.domNode,"focused")},t.prototype.onBlur=function(){this.treeContext.options.alwaysFocused||r.removeClass(this.domNode,"focused")},t.prototype.onMsPointerDown=function(e){if(this.msGesture){var t=e.pointerType;this.lastPointerType=t===(e.MSPOINTER_TYPE_MOUSE||"mouse")?"mouse":t===(e.MSPOINTER_TYPE_TOUCH||"touch")?"touch":"pen","mouse"!==this.lastPointerType&&(e.stopPropagation(),e.preventDefault(),this.msGesture.addPointer(e.pointerId))
}},t.prototype.onThrottledMsGestureChange=function(e){this.scrollTop-=e.translationY},t.prototype.onMsGestureTap=function(e){e.initialTarget=document.elementFromPoint(e.clientX,e.clientY),this.onTap(e)},t.prototype.insertItemInDOM=function(e){var t=null,n=this.itemAfter(e);n&&n.row&&(t=n.row),e.insertInDOM(this.rowsContainer,t)},t.prototype.removeItemFromDOM=function(e){e.removeFromDOM()},t.prototype.shouldBeRendered=function(e){return e.top<this.renderTop+this.renderHeight&&e.top+e.height>this.renderTop},t.prototype.getItemAround=function(e){var n=this.inputItem;do{if(e[t.BINDING]&&(n=e[t.BINDING]),e===this.wrapper||e===this.domNode)return n;if(e===document.body)return null}while(e=e.parentElement)},t.prototype.releaseModel=function(){if(this.model){for(;this.modelListeners.length;)this.modelListeners.pop()();this.model=null}},t.prototype.dispose=function(){for(this.scrollableElement.destroy(),this.releaseModel(),this.modelListeners=null;this.viewListeners.length;)this.viewListeners.pop()();this.viewListeners=null,this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.domNode=null,this.wrapperGesture&&(this.wrapperGesture.dispose(),this.wrapperGesture=null),e.prototype.dispose.call(this)},t.BINDING="monaco-vtree-row",t.LOADING_DECORATION_DELAY=800,t}(_);t.TreeView=b}),define("vs/css!vs/base/ui/widgets/tree/tree",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/tree/treeImpl",["require","exports","vs/base/types","vs/base/ui/widgets/tree/treeDefaults","vs/base/eventEmitter","./treeModel","./treeView","vs/css!./tree"],function(e,t,n,i,o,r,s){var a=function(){function e(e,t,o){if("undefined"==typeof o&&(o={}),this.tree=e,this.configuration=t,this.options=o,!t.dataSource)throw new Error("You must provide a Data Source to the tree.");this.dataSource=t.dataSource,this.renderer=t.renderer||new i.DefaultRenderer,this.controller=t.controller||new i.DefaultController,this.dnd=t.dnd||new i.DefaultDragAndDrop,this.filter=t.filter||new i.DefaultFilter,this.sorter=t.sorter||null;var r=[this.dataSource,this.renderer,this.controller,this.dnd,this.filter,this.sorter];r.forEach(function(t){t&&n.isFunction(t.setTree)&&t.setTree(e)})}return e}();t.TreeContext=a;var u=function(e){function t(t,n,i){"undefined"==typeof i&&(i={}),e.call(this),this.container=t,this.configuration=n,this.options=i,this.options.twistiePixels="number"==typeof this.options.twistiePixels?this.options.twistiePixels:32,this.options.indentPixels="number"==typeof this.options.indentPixels?this.options.indentPixels:12,this.options.alwaysFocused=this.options.alwaysFocused===!0?!0:!1,this.options.bare=this.options.bare===!0?!0:!1,this.context=new a(this,n,i),this.model=new r.TreeModel(this.context),this.view=new s.TreeView(this.context,this.container),this.view.setModel(this.model),this.addEmitter(this.model),this.addEmitter(this.view)}return __extends(t,e),t.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},t.prototype.layout=function(e){this.view.layout(e)},t.prototype.DOMFocus=function(){this.view.focus()},t.prototype.isDOMFocused=function(){return this.view.isFocused()},t.prototype.DOMBlur=function(){this.view.blur()},t.prototype.onVisible=function(){this.view.onVisible()},t.prototype.onHidden=function(){this.view.onHidden()},t.prototype.setInput=function(e){return this.model.setInput(e)},t.prototype.getInput=function(){return this.model.getInput()},t.prototype.refresh=function(e,t){return"undefined"==typeof e&&(e=null),"undefined"==typeof t&&(t=!0),this.model.refresh(e,t)},t.prototype.refreshAll=function(e,t){return"undefined"==typeof t&&(t=!0),this.model.refreshAll(e,t)},t.prototype.expand=function(e){return this.model.expand(e)},t.prototype.expandAll=function(e){return this.model.expandAll(e)},t.prototype.collapse=function(e,t){return"undefined"==typeof t&&(t=!1),this.model.collapse(e)},t.prototype.collapseAll=function(e,t){return"undefined"==typeof e&&(e=null),"undefined"==typeof t&&(t=!1),this.model.collapseAll(e,t)},t.prototype.toggleExpansion=function(e){return this.model.toggleExpansion(e)},t.prototype.toggleExpansionAll=function(e){return this.model.toggleExpansionAll(e)},t.prototype.isExpanded=function(e){return this.model.isExpanded(e)},t.prototype.reveal=function(e,t){return"undefined"==typeof t&&(t=null),this.model.reveal(e,t)},t.prototype.setHighlight=function(e,t){this.model.setHighlight(e,t)},t.prototype.getHighlight=function(){return this.model.getHighlight()},t.prototype.isHighlighted=function(e){return this.model.isFocused(e)},t.prototype.clearHighlight=function(e){this.model.setHighlight(null,e)},t.prototype.select=function(e,t){this.model.select(e,t)},t.prototype.selectAll=function(e,t){this.model.selectAll(e,t)},t.prototype.deselect=function(e,t){this.model.deselect(e,t)},t.prototype.deselectAll=function(e,t){this.model.deselectAll(e,t)},t.prototype.setSelection=function(e,t){this.model.setSelection(e,t)},t.prototype.isSelected=function(e){return this.model.isSelected(e)},t.prototype.getSelection=function(){return this.model.getSelection()},t.prototype.clearSelection=function(e){this.model.setSelection([],e)},t.prototype.selectNext=function(e,t){this.model.selectNext(e,t)},t.prototype.selectPrevious=function(e,t){this.model.selectPrevious(e,t)},t.prototype.selectParent=function(e){this.model.selectParent(e)},t.prototype.setFocus=function(e,t){this.model.setFocus(e,t)},t.prototype.isFocused=function(e){return this.model.isFocused(e)},t.prototype.getFocus=function(){return this.model.getFocus()},t.prototype.focusNext=function(e,t){this.model.focusNext(e,t)},t.prototype.focusPrevious=function(e,t){this.model.focusPrevious(e,t)},t.prototype.focusParent=function(e){this.model.focusParent(e)},t.prototype.focusFirst=function(e){this.model.focusFirst(e)},t.prototype.focusLast=function(e){this.model.focusLast(e)},t.prototype.focusNextPage=function(e){this.view.focusNextPage(e)},t.prototype.focusPreviousPage=function(e){this.view.focusPreviousPage(e)},t.prototype.clearFocus=function(e){this.model.setFocus(null,e)},t.prototype.withFakeRow=function(e){return this.view.withFakeRow(e)},t.prototype.dispose=function(){null!==this.model&&(this.model.dispose(),this.model=null),null!==this.view&&(this.view.dispose(),this.view=null),e.prototype.dispose.call(this)},t}(o.EventEmitter);t.Tree=u}),define("vs/css!vs/base/ui/widgets/highlightedlabel",["vs/css!vs/editor/editor.main"],{}),define("vs/base/ui/widgets/highlightedLabel",["require","exports","vs/base/strings","vs/base/dom/dom","vs/base/objects","vs/css!./highlightedlabel"],function(e,t,n,i,o){var r=function(){function e(e,t,n){"undefined"==typeof t&&(t=""),"undefined"==typeof n&&(n=[]),this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",e.getHTMLElement().appendChild(this.domNode),this.text=t,this.highlights=n,this.renderedOnce=!1}return e.prototype.destroy=function(){this.text=null,this.highlights=null},e.prototype.getHTMLElement=function(){return this.domNode},e.prototype.setValue=function(e,t){"undefined"==typeof e&&(e=""),"undefined"==typeof t&&(t=[]),this.renderedOnce&&this.text===e&&o.equals(this.highlights,t)||(this.text=e,this.highlights=t,this.render(),this.renderedOnce=!0)},e.prototype.render=function(){i.clearNode(this.domNode);for(var e,t=[],o=0,r=0;r<this.highlights.length;r++)e=this.highlights[r],o<e.start&&(t.push("<span>"),t.push(n.escape(this.text.substring(o,e.start))),t.push("</span>"),o=e.end),t.push('<span class="highlight">'),t.push(n.escape(this.text.substring(e.start,e.end))),t.push("</span>"),o=e.end;o<this.text.length&&(t.push("<span>"),t.push(n.escape(this.text.substring(o))),t.push("</span>")),this.domNode.innerHTML=t.join("")},e}();t.HighlightedLabel=r}),define("vs/css!vs/editor/contrib/suggest/suggest",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/suggest/suggestWidget",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","vs/base/errors","vs/editor/modes/modes","vs/base/dom/builder","vs/base/ui/widgets/tree/preRenderer","vs/base/ui/widgets/tree/treeImpl","vs/base/ui/widgets/tree/treeDefaults","vs/base/ui/widgets/highlightedLabel","vs/editor/core/constants","vs/editor/editor","vs/css!./suggest"],function(e,t,n,i,o,r,s,a,u,l,c,d){function h(e,t,n){for(var i=e.toLowerCase(),o=0,r=0;r<t.length&&r<e.length;r++)if(t[r]===e[r])o+=2;else{if(n[r]!==i[r])break;o+=1}return o}var p=s.$,f=function(){function e(e,t){this.parent=e,this.message=t}return e}();t.Message=f;var g=function(){function e(e){this.child=new f(this,e)}return e}();t.MessageRoot=g;var m=function(){function e(){this.root=null}return e.prototype.isRoot=function(e){return e instanceof g?!0:e instanceof f?!1:e.suggestions?(this.root=e,!0):!1},e.prototype.getId=function(t,n){if(n instanceof g)return"messageroot";if(n instanceof f)return"message"+n.message;if(n.suggestions)return"root";if(r.isISuggestion(n))return"string"!=typeof n.id&&(n.id=String(e._IdPool++)),n.id;throw o.illegalArgument("element")},e.prototype.getParent=function(e,t){return t instanceof g?i.Promise.as(null):t instanceof f?i.Promise.as(t.parent):i.Promise.as(this.isRoot(t)?null:this.root)},e.prototype.getChildren=function(e,t){return t instanceof g?i.Promise.as([t.child]):t instanceof f?i.Promise.as([]):i.Promise.as(this.isRoot(t)?this.root.suggestions:[])},e.prototype.hasChildren=function(e,t){return this.isRoot(t)},e._IdPool=0,e}(),v=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.onLeftClick=function(e,t,n){return n.preventDefault(),n.stopPropagation(),t instanceof f||e.setSelection([t],{origin:"mouse"}),!0},t}(l.DefaultController),y=function(e){function t(t,n){e.call(this,t),this.editor=n}return __extends(t,e),t.prototype.getHeight=function(t,n){var i=n;return n instanceof f||!i.documentationLabel||!t.isFocused(i)?19:e.prototype.getHeight.call(this,t,n)},t.prototype.render=function(e,t,n){return this.renderContents(e,t,n)},t.prototype.renderContents=function(e,t,n){var i=p(n);if(t instanceof f)return i.empty().span({style:{opacity:.7,"padding-left":"12px"},text:t.message}),null;var o=t,r=i.getBinding(),s=i.clone();if(!r){s.attr("aria-label",o.type),p(".icon").addClass(o.type).appendTo(s),r={};var a=p(".text").appendTo(s);r.main=p(".main").appendTo(a),r.highlightedLabel=new c.HighlightedLabel(r.main),r.typeLabel=p("span.type-label").appendTo(r.main),r.documentation=p(".docs").appendTo(a),r.documentationLabel=p("span.docs-label").appendTo(r.documentation),i.bind(r)}return r.highlightedLabel.setValue(o.label,o.highlights),r.typeLabel.text(o.typeLabel||""),r.documentationLabel.text(o.documentationLabel||""),function(){r.highlightedLabel.destroy()}},t}(a.PreRenderer),_=function(){function e(t,n){var s=this;this.editor=t,this.isActive=!1,this.isLoading=!1,this.modelListenersToRemove=[],this.model=null,this.telemetryData=null,this.telemetryService=n;var a=function(){var e=s.editor.getModel();s.shouldShowEmptySuggestionList=e&&e.getMode().suggestSupport?e.getMode().suggestSupport.shouldShowEmptySuggestionList():!1};a(),this.listenersToRemove=[],this.listenersToRemove.push(t.addListener(d.EventType.ModelChanged,a)),this.listenersToRemove.push(t.addListener(d.EventType.ModelModeChanged,a)),this.builder=p(".editor-widget.suggest-widget.monaco-editor-background").style({width:e.WIDTH+"px",height:e.HEIGHT+"px"}),this.editor.getConfiguration().iconsInSuggestions||this.builder.addClass("no-icons");var l=new m;this.renderer=new y(l,this.editor),this.tree=new u.Tree(this.builder.getHTMLElement(),{dataSource:l,renderer:this.renderer,controller:new v},{twistiePixels:0,alwaysFocused:!0,verticalScrollMode:"visible"}),this.listenersToRemove.push(t.addListener("blur",function(){i.Promise.timeout(150).done(function(){s.tree&&!s.tree.isDOMFocused()&&s.hide()})})),this.listenersToRemove.push(this.tree.addListener("selection",function(e){if(e.selection&&e.selection.length>0){var t=e.selection[0];t.hasOwnProperty("suggestions")||t instanceof g||t instanceof f||(s.telemetryData.selectedIndex=s.tree.getInput().suggestions.indexOf(t),s.telemetryData.wasCancelled=!1,s.submitTelemetryData(),s.model.accept(t),s.editor.focus())}}));var c=null;this.listenersToRemove.push(this.tree.addListener("focus",function(e){var t=e.focus,n=e.payload;if(r.isISuggestion(t)&&s.resolveDetails(t),t!==c){var i=[];c&&i.push(c),t&&i.push(t),c=t,s.tree.refreshAll(i).done(function(){t&&s.tree.reveal(t,n&&n.firstSuggestion?0:null)},o.onUnexpectedError)}})),this.editor.addContentWidget(this),this.listenersToRemove.push(this.editor.addListener(d.EventType.CursorSelectionChanged,function(){s.isActive&&s.editor.layoutContentWidget(s)})),this.hide()}return e.prototype.setModel=function(t){var n=this;this.releaseModel(),this.model=t;var i,r=null;this.modelListenersToRemove.push(this.model.addListener("loading",function(t){t.auto||n.isActive||(r=n.telemetryService.start("suggestWidgetLoadingTime"),n.isLoading=!0,i=setTimeout(function(){n.builder.removeClass("empty"),n.tree.setInput(e.LOADING_MESSAGE).done(null,o.onUnexpectedError),n.show()},50),t.retrigger||(n.telemetryData={wasAutomaticallyTriggered:t.characterTriggered}))})),this.modelListenersToRemove.push(this.model.addListener("suggest",function(e){if(n.isLoading=!1,"undefined"!=typeof i&&clearTimeout(i),!e.auto){n.builder.removeClass("empty"),n.tree.setInput(e.suggestions).done(null,o.onUnexpectedError),n.show();for(var t,s=e.suggestions.currentWord,a=s.toLowerCase(),u=e.suggestions.suggestions,l=-1,c=e.suggestions.suggestions[0],d=-1,p=0,f=u.length;f>p;p++){t=u[p];var g=h(t.label,s,a);g>d&&(d=g,c=t,l=p)}n.resolveDetails(c),n.tree.setFocus(c,{firstSuggestion:!0}),n.telemetryData.suggestionCount=u.length,n.telemetryData.suggestedIndex=l,n.telemetryData.hintLength=s.length,r&&(r.data={reason:"results"},r.stop(),r=null)}})),this.modelListenersToRemove.push(this.model.addListener("empty",function(t){var s=n.isLoading;n.isLoading=!1,"undefined"!=typeof i&&clearTimeout(i),t.auto||(s?n.shouldShowEmptySuggestionList?(n.builder.removeClass("empty"),n.tree.setInput(e.NO_SUGGESTIONS_MESSAGE).done(null,o.onUnexpectedError),n.show()):n.hide():n.builder.addClass("empty"),r&&(r.data={reason:"empty"},r.stop(),r=null))})),this.modelListenersToRemove.push(this.model.addListener("cancel",function(e){n.isLoading=!1,n.hide(),e.auto||(!e.retrigger&&n.telemetryData&&(n.telemetryData.selectedIndex=-1,n.telemetryData.wasCancelled=!0,n.submitTelemetryData()),r&&(r.data={reason:"cancel"},r.stop(),r=null))}))},e.prototype.resolveDetails=function(e){var t=this;if(e.detailsResolved!==!0){var n=this.editor.getModel().getMode().suggestSupport;"function"==typeof n.getSuggestionDetails&&(this.currentSuggestionDetails&&this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=n.getSuggestionDetails(this.editor.getModel().getAssociatedResource(),this.editor.getPosition(),e),this.currentSuggestionDetails.then(function(n){return e.detailsResolved=!0,e.codeSnippet=n.codeSnippet,e.documentationLabel=n.documentationLabel,e.highlights=n.highlights,e.label=n.label,e.type=n.type,e.typeLabel=n.typeLabel,t.tree.refresh(e)},function(e){return o.isPromiseCanceledError(e)?null:e}).done(void 0,o.onUnexpectedError))}},e.prototype.selectNextPage=function(){return this.isLoading?!0:this.isActive?(this.tree.focusNextPage(),!0):!1},e.prototype.selectNext=function(){if(this.isLoading)return!0;if(this.isActive){var e=this.tree.getFocus();return this.tree.focusNext(1),e===this.tree.getFocus()&&this.tree.focusFirst(),!0}return!1},e.prototype.selectPreviousPage=function(){return this.isLoading?!0:this.isActive?(this.tree.focusPreviousPage(),!0):!1},e.prototype.selectPrevious=function(){if(this.isLoading)return!0;if(this.isActive){var e=this.tree.getFocus();return this.tree.focusPrevious(1),e===this.tree.getFocus()&&this.tree.focusLast(),!0}return!1},e.prototype.acceptSelectedSuggestion=function(){if(this.isLoading)return!0;if(this.isActive){var e=this.tree.getFocus();return e?this.tree.setSelection([e]):this.model.cancel(),!0}return!1},e.prototype.releaseModel=function(){for(var e;e=this.modelListenersToRemove.pop();)e();this.model=null},e.prototype.show=function(){this.isActive=!0,this.builder.style("visibility","visible"),this.tree.layout(),this.editor.layoutContentWidget(this)},e.prototype.hide=function(){this.isActive=!1,this.builder.style("visibility","hidden"),this.editor.layoutContentWidget(this)},e.prototype.getPosition=function(){return this.isActive?{position:this.editor.getPosition(),preference:[2,1]}:null},e.prototype.getDomNode=function(){return this.builder.getHTMLElement()},e.prototype.getId=function(){return e.ID},e.prototype.submitTelemetryData=function(){this.telemetryService.publicLog("suggestWidget",this.telemetryData),this.telemetryData=null},e.prototype.destroy=function(){this.releaseModel(),this.builder.destroy(),this.tree.dispose(),this.tree=null,this.renderer&&(this.renderer.dispose(),this.renderer=null),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=null},e.ID="editor.widget.suggestWidget",e.WIDTH=440,e.HEIGHT=247,e.LOADING_MESSAGE=new g(n.localize("vs_editor_contrib_suggest_suggestWidget",0)),e.NO_SUGGESTIONS_MESSAGE=new g(n.localize("vs_editor_contrib_suggest_suggestWidget",1)),e}();t.SuggestWidget=_});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/parameterHints/parameterHintsModel",["require","exports","vs/base/lib/winjs.base","vs/base/lifecycle","vs/base/async","vs/editor/core/constants","vs/base/eventEmitter"],function(e,t,n,i,o,r,s){var a=function(e){function t(n){var i=this;e.call(this,["cancel","hint","destroy"]),this.editor=n,this.listenersToRemove=[],this.triggerCharactersListeners=[],this.throttledDelayer=new o.ThrottledDelayer(t.DELAY),this.active=!1,this.listenersToRemove.push(this.editor.addListener(r.EventType.ModelChanged,function(){return i.onModelChanged()})),this.listenersToRemove.push(this.editor.addListener(r.EventType.ModelModeChanged,function(){return i.onModelChanged()})),this.listenersToRemove.push(this.editor.addListener(r.EventType.CursorSelectionChanged,function(){i.isTriggered()&&i.trigger()})),this.onModelChanged()}return __extends(t,e),t.prototype.cancel=function(e){"undefined"==typeof e&&(e=!1),this.active=!1,this.throttledDelayer.cancel(),e||this.emit("cancel")},t.prototype.trigger=function(e){var n=this;return"undefined"==typeof e&&(e=t.DELAY),this.editor.getModel().getMode().parameterHintsSupport?(this.cancel(!0),this.throttledDelayer.trigger(function(){return n.doTrigger()},e)):void 0},t.prototype.doTrigger=function(){var e=this,t=this.editor.getModel();if(!t||!t.getMode().parameterHintsSupport)return n.Promise.as(!1);var i=t.getMode().parameterHintsSupport;return i.getParameterHints(t.getAssociatedResource(),this.editor.getPosition()).then(function(t){if(!t||0===t.signatures.length)return e.cancel(),e.emit("cancel"),!1;e.active=!0;var n={hints:t};return e.emit("hint",n),!0})},t.prototype.isTriggered=function(){return this.active||this.throttledDelayer.isTriggered()},t.prototype.onModelChanged=function(){var e=this;if(this.triggerCharactersListeners=i.disposeAll(this.triggerCharactersListeners),this.editor.getModel()){var t=this.editor.getModel().getMode();t.parameterHintsSupport&&(this.triggerCharactersListeners=t.parameterHintsSupport.getParameterHintsTriggerCharacters().map(function(n){var i=e.editor.addTypingListener(n,function(){var n=e.editor.getPosition(),i=e.editor.getModel().getLineContent(n.lineNumber),o=e.editor.getModel().getRawLineTokens(n.lineNumber);t.parameterHintsSupport.shouldTriggerParameterHints(i,o,n.column-1)&&e.trigger()});return{dispose:i}}))}},t.prototype.dispose=function(){this.cancel(!0),this.triggerCharactersListeners=i.disposeAll(this.triggerCharactersListeners),this.listenersToRemove&&(this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=null),this.emit("destroy",null),e.prototype.dispose.call(this)},t.DELAY=120,t}(s.EventEmitter);t.ParameterHintsModel=a}),define("vs/css!vs/editor/contrib/parameterHints/parameterHints",["vs/css!vs/editor/editor.main"],{}),define("vs/editor/contrib/parameterHints/parameterHintsWidget",["require","exports","vs/base/dom/builder","vs/editor/editor","vs/css!./parameterHints"],function(e,t,n){var i=n.$,o=function(){function e(t,n,o){var r=this;this.editor=o,this.modelListenersToRemove=[],this.model=null,this.isVisible=!1,this.setModel(n),this.$el=i(".editor-widget.parameter-hints-widget").on("click",function(){r.selectNext(),r.editor.focus()}),this.$wrapper=i(".wrapper.monaco-editor-background").appendTo(this.$el);var s=i(".buttons").appendTo(this.$wrapper);i(".button.previous").on("click",function(e){e.preventDefault(),e.stopPropagation(),r.selectPrevious()}).appendTo(s),i(".button.next").on("click",function(e){e.preventDefault(),e.stopPropagation(),r.selectNext()}).appendTo(s),this.$overloads=i(".overloads").appendTo(this.$wrapper),this.$signatures=i(".signatures").appendTo(this.$wrapper),this.bindings=t.handlerService.bindGroup(function(e){e({key:"Escape"},r.cancel.bind(r)),e({key:"UpArrow"},r.selectPrevious.bind(r)),e({key:"DownArrow"},r.selectNext.bind(r))},{id:e.ID}),this.signatureViews=[],this.currentSignature=0,this.editor.addContentWidget(this),this.hide()}return e.prototype.setModel=function(e){var t=this;this.releaseModel(),this.model=e,this.modelListenersToRemove.push(this.model.addListener("hint",function(e){t.show(),t.render(e.hints),t.currentSignature=e.hints.currentSignature,t.select(t.currentSignature)})),this.modelListenersToRemove.push(this.model.addListener("cancel",function(){t.hide()}))},e.prototype.show=function(){this.bindings&&(this.isVisible=!0,this.$el.removeClass("hidden"),this.bindings.activate(),this.editor.layoutContentWidget(this))},e.prototype.hide=function(){this.bindings&&(this.isVisible=!1,this.bindings.deactivate(),this.$el.addClass("hidden"),this.editor.layoutContentWidget(this))},e.prototype.getPosition=function(){return this.isVisible?{position:this.editor.getPosition(),preference:[1,2]}:null},e.prototype.render=function(e){e.signatures.length>1?this.$el.addClass("multiple"):this.$el.removeClass("multiple"),this.$signatures.empty(),this.signatureViews=[];for(var t=0,n=0,i=e.signatures.length;i>n;n++){var o=e.signatures[n],r=this.renderSignature(this.$signatures,o,e.currentParameter);this.renderDocumentation(r,o,e.currentParameter);var s=r.getClientArea().height;this.signatureViews.push({top:t,height:s}),t+=s}},e.prototype.renderSignature=function(e,t,n){var o=i(".signature").appendTo(e),r=(t.label,t.parameters.length>0);if(r){for(var s=i("span.parameters"),a=0,u=0,l=t.parameters.length;l>u;u++){var c=t.parameters[u];(0===u?o:s).append(i("span").text(t.label.substring(a,c.signatureLabelOffset))),s.append(i("span.parameter").addClass(u===n?"active":"").text(t.label.substring(c.signatureLabelOffset,c.signatureLabelEnd))),a=c.signatureLabelEnd}o.append(s),o.append(i("span").text(t.label.substring(a)))}else o.append(i("span").text(t.label));return o},e.prototype.renderDocumentation=function(e,t,n){t.documentation&&e.append(i(".documentation").text(t.documentation));var o=t.parameters[n];if(o&&o.documentation){var r=i(".documentation");r.append(i("span.parameter").text(o.label)),r.append(i("span").text(o.documentation)),e.append(r)}},e.prototype.select=function(e){var t=this.signatureViews[e];this.$signatures.style({height:t.height+"px"}),this.$signatures.getHTMLElement().scrollTop=t.top,this.$overloads.text(e+1+"/"+this.signatureViews.length)},e.prototype.selectNext=function(){return this.signatureViews.length<2?(this.cancel(),!1):(this.currentSignature=(this.currentSignature+1)%this.signatureViews.length,this.select(this.currentSignature),!0)},e.prototype.selectPrevious=function(){return this.signatureViews.length<2?(this.cancel(),!1):(this.currentSignature--,this.currentSignature<0&&(this.currentSignature=this.signatureViews.length-1),this.select(this.currentSignature),!0)},e.prototype.cancel=function(){this.model.cancel()},e.prototype.getDomNode=function(){return this.$el.getHTMLElement()},e.prototype.getId=function(){return e.ID},e.prototype.releaseModel=function(){for(var e;e=this.modelListenersToRemove.pop();)e();this.model&&(this.model.dispose(),this.model=null)},e.prototype.destroy=function(){this.releaseModel(),this.$overloads&&(this.$overloads.destroy(),delete this.$overloads),this.$signatures&&(this.$signatures.destroy(),delete this.$signatures),this.$wrapper&&(this.$wrapper.destroy(),delete this.$wrapper),this.$el&&(this.$el.destroy(),delete this.$el),this.bindings&&(this.bindings.dispose(),delete this.bindings)},e.ID="editor.widget.parameterHintsWidget",e}();t.ParameterHintsWidget=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/parameterHints/parameterHints",["require","exports","vs/nls!vs/editor/editor.main","./parameterHintsModel","./parameterHintsWidget","vs/base/lib/winjs.base","vs/editor/editorExtensions"],function(e,t,n,i,o,r,s){var a=function(e){function t(t,n,r){e.call(this,t,n,r,s.defaultPrecondition),this.model=new i.ParameterHintsModel(this.editor),this.widget=t.instantiationService.createInstance(o.ParameterHintsWidget,this.model,this.editor)}return __extends(t,e),t.prototype.getModel=function(){return this.model},t.prototype.isSupported=function(){return!!this.editor.getModel().getMode().parameterHintsSupport},t.prototype.run=function(){return r.TPromise.as(!1)},t.prototype.dispose=function(){this.model&&(this.model.dispose(),this.model=null),this.widget&&(this.widget.destroy(),this.widget=null),e.prototype.dispose.call(this)},t.ID="editor.contrib.parameterHints.trigger",t}(s.EditorAction);t.TriggerParameterHintsAction=a,s.registerEditorActionContribution(a,a.ID,n.localize("vs_editor_contrib_parameterHints_parameterHints",0))});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/suggest/suggestModel",["require","exports","vs/editor/contrib/snippet/snippet","vs/base/lib/winjs.base","vs/editor/core/constants","vs/base/eventEmitter","vs/base/strings","vs/base/performance/timer","vs/editor/contrib/parameterHints/parameterHints"],function(e,t,n,i,o,r,s,a,u){var l;!function(e){e[e.NOT_ACTIVE=0]="NOT_ACTIVE",e[e.MANUAL_TRIGGER=1]="MANUAL_TRIGGER",e[e.AUTO_TRIGGER=2]="AUTO_TRIGGER"}(l||(l={}));var c=function(){function e(e){this._suggestions=e,this._suggestions||(this._suggestions=[])}return e.prototype.suggestions=function(){return this._suggestions.reduce(function(e,t){return e.concat(t.suggestions)},[])},e.prototype.parent=function(e){var t;return this._suggestions.every(function(n){return-1!==n.suggestions.indexOf(e)?(t=n,!1):!0}),t},e.prototype.isEmpty=function(){return 0===this._suggestions.length||this._suggestions.every(function(e){return 0===e.suggestions.length})},e}(),d=function(){function e(e,t){"undefined"==typeof t&&(t=e.getPosition());var n=e.getModel(),i=n.getLineContent(t.lineNumber);this.wordBefore="";var o=n.getWordAtPosition(t,!1,!0);o&&(this.wordBefore=i.substring(o.startColumn-1,t.column-1)),this.lineNumber=t.lineNumber,this.column=t.column,this.lineContentBefore=i.substr(0,t.column-1),this.lineContentAfter=i.substr(t.column-1)}return e.prototype.isValidForAutoSuggest=function(){return/^\s*$/.test(this.lineContentAfter)?0===this.wordBefore.length?!1:!0:!1},e.prototype.isValidForNewContext=function(e){return this.lineNumber!==e.lineNumber?!1:e.column<this.column-this.wordBefore.length?!1:0!==e.lineContentBefore.indexOf(this.lineContentBefore)||this.lineContentAfter!==e.lineContentAfter?!1:""===e.wordBefore&&e.lineContentBefore!==this.lineContentBefore?!1:!0},e.prototype.isValidForRetrigger=function(e){return 0!==this.lineContentBefore.indexOf(e.lineContentBefore)||this.lineContentAfter!==e.lineContentAfter?!1:this.lineContentBefore.length>e.lineContentBefore.length&&0===this.wordBefore.length?!1:!0},e}(),h=function(e){function t(t,n){var i=this;e.call(this),this.editor=t,this.onAccept=n,this.listenersToRemove=[],this.autoSuggestDelay=this.editor.getConfiguration().quickSuggestionsDelay,(isNaN(this.autoSuggestDelay)||!this.autoSuggestDelay&&0!==this.autoSuggestDelay||this.autoSuggestDelay>2e3||this.autoSuggestDelay<0)&&(this.autoSuggestDelay=500),this.triggerAutoSuggestPromise=null,this.state=0,this.requestPromise=null,this.raw=null,this.requestContext=null,this.listenersToRemove.push(this.editor.addListener(o.EventType.CursorSelectionChanged,function(e){return e.selection.isEmpty()?"mouse"===e.source?(i.cancel(),void 0):(i.onCursorChange(),void 0):(i.cancel(),void 0)})),this.listenersToRemove.push(this.editor.addListener(o.EventType.ModelChanged,function(){i.cancel()}))}return __extends(t,e),t.prototype.cancel=function(e,t){"undefined"==typeof e&&(e=!1),"undefined"==typeof t&&(t=!1);var n=0!==this.state;return this.triggerAutoSuggestPromise&&(this.triggerAutoSuggestPromise.cancel(),this.triggerAutoSuggestPromise=null),this.requestPromise&&(this.requestPromise.cancel(),this.requestPromise=null),this.state=0,this.raw=null,this.requestContext=null,e||this.emit("cancel",{retrigger:t}),n},t.prototype.isAutoSuggest=function(){return 2===this.state},t.prototype.onCursorChange=function(){var e=this;if(this.editor.getModel().getMode().suggestSupport){var t=new d(this.editor);0===this.state?(this.cancel(),t.isValidForAutoSuggest()&&(this.triggerAutoSuggestPromise=i.Promise.timeout(this.autoSuggestDelay),this.triggerAutoSuggestPromise.then(function(){e.triggerAutoSuggestPromise=null,e.trigger(!0,!1)}))):this.onNewContext(t)}},t.prototype.trigger=function(e,t,n){var i=this;"undefined"==typeof n&&(n=!1);var o=this.editor.getModel(),r=o.getMode().suggestSupport;if(r){var s=a.start(0,"suggest/TRIGGER");this.cancel(!1,n),this.state=e?2:1,this.emit("loading",{auto:this.isAutoSuggest(),characterTriggered:t,retrigger:n}),this.requestContext=new d(this.editor);var u=a.start(0,"suggest/REQUEST");this.requestPromise=r.suggest(o.getAssociatedResource(),this.editor.getPosition()),this.requestPromise.then(function(e){u.stop(),i.requestPromise=null;var t=new c(e);t.isEmpty()?i.emit("empty"):(i.raw=t,i.onNewContext(new d(i.editor))),s.stop()},function(){u.stop(),s.stop()})}},t.prototype.onNewContext=function(e){if(!this.requestContext.isValidForNewContext(e))return this.requestContext.isValidForRetrigger(e)?this.trigger(2===this.state,!1,!0):this.cancel(),void 0;if(this.raw){var t=this.editor.getModel().getMode().suggestSupport,n=this.raw.suggestions(),i=t.getFilter();i&&(n=n.filter(i.bind(null,e.wordBefore)));var o;t.getSorter&&(o=t.getSorter()),o||(o=function(e,t){return s.localeCompare(e.label.toLowerCase(),t.label.toLowerCase())}),n=n.sort(o),n.length>0?this.emit("suggest",{suggestions:{suggestions:n,currentWord:e.wordBefore},auto:this.isAutoSuggest()}):this.emit("empty")}},t.prototype.accept=function(e){if(!e&&null===this.raw)return!1;var t=e||this.raw.suggestions()[0],i=this.raw.parent(t).currentWord.length+(this.editor.getPosition().column-this.requestContext.column);this.cancel(),this.onAccept(new n.CodeSnippet(t.codeSnippet),i);var o=this.editor.getAction(u.TriggerParameterHintsAction.ID),r=o?o.getModel():null;return r&&r.doTrigger(),!0},t.prototype.destroy=function(){this.cancel(!0),this.listenersToRemove&&(this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=null),this.emit("destroy",null)},t}(r.EventEmitter);
t.SuggestModel=h}),define("vs/css!vs/editor/contrib/suggest/quickSuggest",["vs/css!vs/editor/editor.main"],{}),define("vs/editor/contrib/suggest/quickSuggestWidget",["require","exports","vs/base/dom/builder","vs/base/dom/dom","vs/base/dom/mouseEvent","vs/editor/editor","vs/css!./quickSuggest"],function(e,t,n,i,o){function r(e,t){if("snippet"===t.type||"text"===t.type)return!1;var n=t.highlights;if(1!==n.length||n[0].start>0)return!1;var i=t.label;return i.length===e.length?!1:!0}var s=n.$;t.QUICK_SUGGEST_WIDGET_ID="editor.widget.quickSuggestWidget";var a=function(){function e(e,n){var r=this;this.editor=e,this.handlerService=n,this.modelListenersToRemove=[],this.model=null,this.isVisible=!1,this.currentSuggestion=null,this.currentSuggestionIndex=-1,this.suggestions=null,this.currentWord=null,this.builder=s().div({class:"editor-widget quick-suggest-widget"}),this.bindings=this.handlerService.bindGroup(function(e){var t=function(){return r.currentSuggestion?r.model.accept(r.currentSuggestion):void 0},n=function(){return 1===r.suggestions.length?t():r.currentSuggestion?(r.next(),!0):!1},i=function(){return r.currentSuggestion?(r.previous(),!0):!1},o=function(){return r.model.cancel()};e({key:"Tab"},n),e({shift:!0,key:"Tab"},i),e({key:"RightArrow"},t),e({key:"Escape"},o)},{id:t.QUICK_SUGGEST_WIDGET_ID}),this.bindings.deactivate(),this.listenersToRemove=[],this.listenersToRemove.push(i.addListener(this.getDomNode(),"mousedown",function(e){new o.StandardMouseEvent(e).preventDefault()})),this.listenersToRemove.push(e.addListener("blur",function(){r.cancel()})),this.editor.addContentWidget(this)}return e.prototype.setModel=function(e){var t=this;this.releaseModel(),this.model=e,this.modelListenersToRemove.push(this.model.addListener("suggest",function(e){t.editor.getConfiguration().quickSuggestions&&(e.auto?(t.currentWord=e.suggestions.currentWord,t.suggestions=e.suggestions.suggestions.filter(r.bind(null,t.currentWord)),t.currentSuggestionIndex=0,t.currentSuggestion=t.suggestions[t.currentSuggestionIndex],t.onSuggestions()):t.cancel())})),this.modelListenersToRemove.push(this.model.addListener("refilter",function(e){if(t.editor.getConfiguration().quickSuggestions)if(e.auto){var n=t.suggestions[t.currentSuggestionIndex];t.suggestions=t.suggestions.filter(e.filter),t.currentSuggestionIndex=0;for(var i=0;i<t.suggestions.length;i++)if(t.suggestions[i]===n){t.currentSuggestionIndex=i;break}t.currentSuggestion=t.suggestions[t.currentSuggestionIndex],t.currentWord=e.currentWord,t.onSuggestions()}else t.cancel()})),this.modelListenersToRemove.push(this.model.addListener("empty",function(){return t.cancel()})),this.modelListenersToRemove.push(this.model.addListener("cancel",function(){return t.cancel()}))},e.prototype.onSuggestions=function(){return this.suggestions.length?(this.render(),void 0):(this.hide(),void 0)},e.prototype.next=function(){this.currentSuggestionIndex=(this.currentSuggestionIndex+1)%this.suggestions.length,this.currentSuggestion=this.suggestions[this.currentSuggestionIndex],this.render()},e.prototype.previous=function(){this.currentSuggestionIndex=--this.currentSuggestionIndex<0?this.suggestions.length-1:this.currentSuggestionIndex,this.currentSuggestion=this.suggestions[this.currentSuggestionIndex],this.render()},e.prototype.render=function(){this.builder.text(this.currentSuggestion.label.substring(this.currentWord.length)),this.show()},e.prototype.cancel=function(){this.currentSuggestion=null,this.hide()},e.prototype.releaseModel=function(){for(var e;e=this.modelListenersToRemove.pop();)e();this.model=null},e.prototype.show=function(){this.isVisible=!0,this.builder.display("block"),this.bindings.activate(),this.editor.layoutContentWidget(this)},e.prototype.hide=function(){this.isVisible=!1,this.bindings.deactivate(),this.builder.display("none"),this.editor.layoutContentWidget(this)},e.prototype.getPosition=function(){return this.isVisible?{position:this.editor.getPosition(),preference:[0]}:null},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this.builder.getHTMLElement()},e.prototype.destroy=function(){for(;this.listenersToRemove.length>0;)this.listenersToRemove.pop()();this.bindings.dispose(),this.releaseModel(),this.builder.destroy()},e.ID="editor.contrib.quickSuggestWidget",e}();t.QuickSuggestWidget=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/suggest/suggest",["require","exports","vs/nls!vs/editor/editor.main","vs/editor/contrib/snippet/snippet","vs/editor/core/constants","./suggestWidget","./suggestModel","./quickSuggestWidget","vs/base/env","vs/base/errors","vs/base/lib/winjs.base","vs/editor/editorExtensions"],function(e,t,n,i,o,r,s,a,u,l,c,d){var h=function(e){function t(t,n,u){var l=this;e.call(this,t,n,u,d.defaultPrecondition),this.model=new s.SuggestModel(this.editor,function(e,t){i.InsertSnippetHelper.run(l.editor,l.handlerService,e,t)}),this.quickSuggestWidget=new a.QuickSuggestWidget(this.editor,t.handlerService),this.quickSuggestWidget.setModel(this.model),this.suggestWidget=new r.SuggestWidget(this.editor,t.telemetryService),this.suggestWidget.setModel(this.model),this.binding=null,this.triggerCharacterListeners=[],this.toUnhook.push(u.addListener(o.EventType.ConfigurationChanged,function(){return l.update()})),this.toUnhook.push(u.addListener(o.EventType.ModelChanged,function(){return l.update()})),this.toUnhook.push(u.addListener(o.EventType.ModelModeChanged,function(){return l.update()})),this.update()}return __extends(t,e),t.prototype.isSupported=function(){return!!this.editor.getModel().getMode().suggestSupport},t.prototype.update=function(){var e=this;if(this.triggerCharacterListeners.forEach(function(e){e()}),this.triggerCharacterListeners=[],!this.editor.getConfiguration().readOnly&&this.editor.getModel()&&this.editor.getConfiguration().suggestOnTriggerCharacters){var t=this.editor.getModel().getMode();if(t.suggestSupport)for(var n=t.suggestSupport.getTriggerCharacters(),i=function(){var n=e.editor.getPosition(),i=e.editor.getModel().getLineContent(n.lineNumber),o=e.editor.getModel().getRawLineTokens(n.lineNumber);t.suggestSupport.shouldAutotriggerSuggest(i,o,n.column-1)&&e.triggerSuggest(!0).done(null,l.onUnexpectedError)},o=0;o<n.length;o++)this.triggerCharacterListeners.push(this.editor.addTypingListener(n[o],function(){return i()}))}},t.prototype.run=function(){return this.triggerSuggest(!1)},t.prototype.triggerSuggest=function(e){var t=this;return null!==this.binding&&(this.binding.dispose(),this.binding=null),this.suggestWidget.setModel(this.model),this.binding=this.handlerService.bindGroup(function(e){e({key:"Enter"},function(){return t.accept()},{once:!0}),e({key:"Tab"},function(){return t.accept()},{once:!0}),e({key:"Escape"},function(){return t.cancel()},{once:!0}),e({key:"DownArrow"},function(){return t.next()}),e({key:"PageDown"},function(){return t.nextPage()}),e({key:"UpArrow"},function(){return t.prev()}),e({key:"PageUp"},function(){return t.prevPage()})}),this.model.trigger(!1,e),this.editor.focus(),c.TPromise.as(!1)},t.prototype.dispose=function(){for(e.prototype.dispose.call(this);this.triggerCharacterListeners.length>0;)this.triggerCharacterListeners.pop()();this.quickSuggestWidget&&(this.quickSuggestWidget.destroy(),this.quickSuggestWidget=null),this.suggestWidget&&(this.suggestWidget.destroy(),this.suggestWidget=null),this.model&&(this.model.destroy(),this.model=null),null!==this.binding&&(this.binding.dispose(),this.binding=null)},t.prototype.accept=function(){return this.suggestWidget.acceptSelectedSuggestion()},t.prototype.cancel=function(){return this.model.cancel()},t.prototype.prevPage=function(){return this.suggestWidget.selectPreviousPage()},t.prototype.prev=function(){return this.suggestWidget.selectPrevious()},t.prototype.nextPage=function(){return this.suggestWidget.selectNextPage()},t.prototype.next=function(){return this.suggestWidget.selectNext()},t.ID="editor.actions.triggerSuggest",t}(d.EditorAction);t.TriggerSuggestAction=h,d.registerEditorActionContribution(h,h.ID,n.localize("vs_editor_contrib_suggest_suggest",0),{ctrlCmd:!u.browser.isMacintosh,winCtrl:u.browser.isMacintosh,key:"Space"})});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/diffNavigator/diffNavigator",["require","exports","vs/base/eventEmitter","vs/base/assert","vs/editor/core/constants","vs/editor/core/range","vs/base/objects"],function(e,t,n,i,o,r,s){var a={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},u=function(e){function t(n,i){"undefined"==typeof i&&(i={});var r=this;e.call(this,[t.Events.UPDATED]),this.editor=n,this.options=s.mixin(i,a,!1),this.disposed=!1,this.toUnbind=[],this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=this.options.alwaysRevealFirst,this.toUnbind.push(this.editor.addListener(o.EventType.Disposed,function(){return r.dispose()})),this.toUnbind.push(this.editor.addListener(o.EventType.DiffUpdated,function(){return r.onDiffUpdated()})),this.options.followsCaret&&this.toUnbind.push(this.editor.getModifiedEditor().addListener(o.EventType.CursorPositionChanged,function(){r.ignoreSelectionChange||(r.nextIdx=-1)})),this.options.alwaysRevealFirst&&this.toUnbind.push(this.editor.getModifiedEditor().addListener(o.EventType.ModelChanged,function(){r.revealFirst=!0})),this.init()}return __extends(t,e),t.prototype.init=function(){var e=this.editor.getLineChanges()},t.prototype.onDiffUpdated=function(){this.init(),this.compute(this.editor.getLineChanges()),this.revealFirst&&null!==this.editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next())},t.prototype.compute=function(e){var n=this;this.ranges=[],e&&e.forEach(function(e){!n.options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach(function(e){n.ranges.push({rhs:!0,range:new r.Range(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})}):n.ranges.push({rhs:!0,range:new r.Range(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})}),this.ranges.sort(function(e,t){return e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?-1:t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?1:0}),this.emit(t.Events.UPDATED,{})},t.prototype.initIdx=function(e){for(var t=!1,n=this.editor.getPosition(),i=0,o=this.ranges.length;o>i&&!t;i++){var r=this.ranges[i].range;n.isBeforeOrEqual(r.getStartPosition())&&(this.nextIdx=i+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)},t.prototype.move=function(e){if(i.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),this.canNavigate()){-1===this.nextIdx?this.initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var t=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{this.editor.setPosition(t.range.getStartPosition(),!0,!0,!0)}finally{this.ignoreSelectionChange=!1}}},t.prototype.canNavigate=function(){return this.ranges.length>0},t.prototype.next=function(){this.move(!0)},t.prototype.previous=function(){this.move(!1)},t.prototype.dispose=function(){for(;this.toUnbind.length>0;)this.toUnbind.pop()();this.ranges=null,this.disposed=!0,e.prototype.dispose.call(this)},t.Events={UPDATED:"navigation.updated"},t}(n.EventEmitter);t.DiffNavigator=u});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/smartSelect/smartSelect",["require","exports","vs/nls!vs/editor/editor.main","vs/base/env","vs/base/lib/winjs.base","vs/editor/core/constants","vs/editor/core/range","vs/editor/editorExtensions"],function(e,t,n,i,o,r,s,a){var u=function(){function e(e){this.editor=e,this.next=null,this.previous=null,this.selection=e.getSelection()}return e}(),l=null,c=!1,d=function(e){function t(t,n,i,o){e.call(this,t,n,i,a.Behaviour.TextFocus),this.forward=o}return __extends(t,e),t.prototype.isSupported=function(){return!!this.editor.getModel().getMode().logicalSelectionSupport},t.prototype.run=function(){var e=this,t=this.editor.getSelection(),n=this.editor.getModel(),i=n.getMode().logicalSelectionSupport;l&&l.editor!==this.editor&&(l=null);var a=o.Promise.as(l);return l||(a=i.getRangesToPosition(n.getAssociatedResource(),t.getStartPosition()).then(function(t){var n;t.filter(function(t){var n=e.editor.getSelection(),i=new s.Range(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn);return i.containsPosition(n.getStartPosition())&&i.containsPosition(n.getEndPosition())}).forEach(function(t){var i=t.range,o=new u(e.editor);o.selection=new s.Range(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn),n&&(o.next=n,n.previous=o),n=o});var i=new u(e.editor);i.next=n,n&&(n.previous=i),l=i}).then(function(){var t=e.editor.addListener(r.EventType.CursorPositionChanged,function(){c||(l=null,t())})})),a.then(function(){if(l=e.forward?l.next:l.previous){c=!0;try{e.editor.setSelection(l.selection)}finally{c=!1}}})},t}(a.EditorAction),h=function(e){function t(t,n,i){e.call(this,t,n,i,!0)}return __extends(t,e),t.ID="editor.action.smartSelect.grow",t}(d),p=function(e){function t(t,n,i){e.call(this,t,n,i,!1)}return __extends(t,e),t.ID="editor.action.smartSelect.shrink",t}(d);a.registerEditorActionContribution(h,h.ID,n.localize("vs_editor_contrib_smartSelect_smartSelect",0),i.browser.isMacintosh?{shift:!0,cmdCtrl:!0,winCtrl:!0,alt:!1,key:"RightArrow"}:{shift:!0,alt:!0,key:"RightArrow"}),a.registerEditorActionContribution(p,p.ID,n.localize("vs_editor_contrib_smartSelect_smartSelect",1),i.browser.isMacintosh?{shift:!0,cmdCtrl:!0,winCtrl:!0,alt:!1,key:"LeftArrow"}:{shift:!0,alt:!0,key:"LeftArrow"})});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/smartSelect/jumpToBracket",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","vs/editor/core/internalConstants","vs/editor/editorExtensions"],function(e,t,n,i,o,r){var s=function(e){function t(t,n,i){e.call(this,t,n,i,r.Behaviour.TextFocus)}return __extends(t,e),t.prototype.run=function(){return this.editor.trigger(this.id,o.Handler.JumpToBracket,{}),i.TPromise.as(!0)},t.ID="editor.action.jumpToBracket",t}(r.EditorAction);r.registerEditorActionContribution(s,s.ID,n.localize("vs_editor_contrib_smartSelect_jumpToBracket",0),{ctrlCmd:!0,alt:!0,key:"]"})}),define("vs/css!vs/editor/contrib/color/color",["vs/css!vs/editor/editor.main"],{}),define("vs/editor/contrib/color/color",["require","exports","vs/base/lifecycle","vs/base/time/schedulers","vs/base/dom/dom","vs/base/errors","vs/base/strings","vs/editor/core/constants","vs/editor/editorExtensions","vs/css!./color"],function(e,t,n,i,o,r,s,a,u){var l=function(){function e(e,t,n){this.renderingDecorationId=e.addDecoration({startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.startLineNumber,endColumn:t.startColumn+1},{inlineClassName:"inline-color-decoration "+n}),this.trackingDecorationId=e.addDecoration(t,{})}return e.prototype.dispose=function(e){e.removeDecoration(this.trackingDecorationId),e.removeDecoration(this.renderingDecorationId)},e.prototype.getColorValue=function(e){var t=e.getDecorationRange(this.trackingDecorationId);return t?e.getValueInRange(t):""},e}(),c=function(){function e(t,n){var o=this;this._instanceCount=++e.INSTANCE_COUNT,this._editor=n,this._callOnDispose=[],this._callOnModelChange=[],this._currentDecorations=[],this._currentDynamicColors=[],this._scheduler=new i.RunOnceScheduler(null,250),this._currentFindColorDeclarationsPromise=null,this._callOnDispose.push(this._scheduler),this._callOnDispose.push(this._editor.addListener2(a.EventType.ModelChanged,function(){return o.onModelChange()})),this._callOnDispose.push(this._editor.addListener2(a.EventType.ModelModeChanged,function(){return o.onModelChange()})),this.onModelChange()}return e.prototype.dispose=function(){var e=this;this._editor.changeDecorations(function(t){for(var n=0;n<e._currentDecorations.length;n++)e._currentDecorations[n].dispose(t)}),o.removeCSSRulesWithPrefix(this.getCSSRuleName(-1)),this._callOnDispose=n.disposeAll(this._callOnDispose)},e.prototype.getId=function(){return e.ID},e.prototype.onModelChange=function(){var e=this;n.cAll(this._callOnModelChange);var t=this._editor.getModel();if(t){var i=t.getMode();"function"==typeof i.findColorDeclarations&&(this._scheduler.setRunner(function(){e._currentFindColorDeclarationsPromise&&e._currentFindColorDeclarationsPromise.cancel(),e._currentFindColorDeclarationsPromise=i.findColorDeclarations(t.getAssociatedResource()),e._currentFindColorDeclarationsPromise.then(function(t){e.renderAndTrackColors(t)},function(e){r.onUnexpectedError(e)})}),this._scheduler.schedule(),this._callOnModelChange.push(function(){e._scheduler.cancel()}),this._callOnModelChange.push(function(){e._currentFindColorDeclarationsPromise&&e._currentFindColorDeclarationsPromise.cancel(),e._currentFindColorDeclarationsPromise=null}),this._callOnModelChange.push(t.addListener(a.EventType.ModelContentChanged,function(){return e._scheduler.schedule()})),this._callOnModelChange.push(t.addListener(a.EventType.ModelDecorationsChanged,function(){return e.onDecorationsChanged()})))}},e.prototype.renderAndTrackColors=function(e){var t,n,i=this;this._editor.changeDecorations(function(o){for(t=0,n=i._currentDecorations.length;n>t;t++)i._currentDecorations[t].dispose(o);for(i._currentDecorations=[],t=0,n=e.length;n>t;t++)i._currentDecorations.push(new l(o,e[t].range,i.getCSSRuleName(t)))}),this.onDecorationsChanged()},e.prototype.onDecorationsChanged=function(){var e,t,n,i,o,r,s=this,a=this._editor.getModel(),u=[];this._editor.changeDecorations(function(l){for(e=0,t=s._currentDecorations.length;t>e;e++)r=s._currentDecorations[e],n=a.getDecorationRange(r.trackingDecorationId),n&&!n.isEmpty()?(u[e]=a.getValueInRange(n).replace(/[^%#a-z0-9.,()]/gi,""),i=a.getDecorationRange(r.renderingDecorationId),o=a.validateRange({startLineNumber:n.startLineNumber,startColumn:n.startColumn,endLineNumber:n.startLineNumber,endColumn:n.startColumn+1}),i&&i.equalsRange(o)||l.changeDecoration(r.renderingDecorationId,o)):u[e]="";s.ensureColors(u)})},e.prototype.getCSSRuleName=function(e){return 0>e?".monaco-css-dynamic-"+this._instanceCount+"-":".monaco-css-dynamic-"+this._instanceCount+"-"+e+":before"},e.prototype.ensureColors=function(e){for(var t;this._currentDynamicColors.length>e.length;)o.removeCSSRulesWithPrefix(this.getCSSRuleName(this._currentDynamicColors.length-1)),this._currentDynamicColors.pop();for(t=this._currentDynamicColors.length;t<e.length;t++)o.createCSSRule(this.getCSSRuleName(t),this.getCSSText(e[t])),this._currentDynamicColors.push(e[t]);for(t=Math.min(e.length,this._currentDynamicColors.length)-1;t>=0;t--){if(this._currentDynamicColors[t]!==e[t]){var n=o.getCSSRule(this.getCSSRuleName(t));n&&(n.style.backgroundColor=e[t])}this._currentDynamicColors[t]=e[t]}},e.prototype.getCSSText=function(e){return s.format("background-color:{0};",e)},e.ID="css.editor.colorContribution",e.INSTANCE_COUNT=0,e}();t.ColorContribution=c,u.registerEditorContribution(c)}),define("vs/css!vs/base/ui/widgets/leftRightWidget/leftRightWidget",["vs/css!vs/editor/editor.main"],{}),define("vs/base/ui/widgets/leftRightWidget/leftRightWidget",["require","exports","vs/base/dom/builder","vs/css!./leftRightWidget"],function(e,t,n){var i=n.$,o=function(){function e(e,t,n){this.$el=i(".monaco-left-right-widget").appendTo(e),this.toDispose=[n(i(".right").appendTo(this.$el).getHTMLElement()),t(i("span.left").appendTo(this.$el).getHTMLElement())].filter(function(e){return!!e})}return e.prototype.dispose=function(){this.$el&&(this.$el.destroy(),this.$el=null)},e}();t.LeftRightWidget=o}),define("vs/css!vs/base/ui/widgets/countBadge/countBadge",["vs/css!vs/editor/editor.main"],{}),define("vs/base/ui/widgets/countBadge/countBadge",["require","exports","vs/base/dom/builder","vs/base/strings","vs/css!./countBadge"],function(e,t,n,i){var o=n.$,r=function(){function e(e,t,n){this.$el=o(".monaco-count-badge").appendTo(e),this.titleFormat=n||"",this.setCount(t||0)}return e.prototype.setCount=function(e){this.count=e,this.render()},e.prototype.setTitleFormat=function(e){this.titleFormat=e,this.render()},e.prototype.render=function(){this.$el.text(""+this.count),this.$el.title(i.format(this.titleFormat,this.count))},e.prototype.dispose=function(){this.$el&&(this.$el.destroy(),this.$el=null)},e}();t.CountBadge=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/markers/markers",["require","exports","vs/base/assert","vs/base/network"],function(e,t,n,i){function o(e){var t=e;return"string"==typeof t.type&&"number"==typeof t.severity&&"number"==typeof t.code&&"undefined"!=typeof t.text}function r(e){var n=e;return t.isITextMarker(e)&&"undefined"!=typeof n.range}function s(e){var n=e;return t.isITextMarker(e)&&"number"==typeof n.offset&&"number"==typeof n.length}function a(e){var n=e;return t.isITextMarker(e)&&"number"==typeof n.lineNumber&&"number"==typeof n.column&&"number"==typeof n.length}function u(e){var n=e;return t.isITextMarker(e)&&"number"==typeof n.startLineNumber&&"number"==typeof n.startColumn&&"number"==typeof n.endLineNumber&&"number"==typeof n.endColumn}function l(e,t,n,i,o){return{type:"text",severity:e,code:t,text:n,offset:i,length:o}}function c(e,t,n,i){return{type:"text",severity:e,code:t,text:n,range:i}}function d(e){return new y(e)}function h(e,t){return t+"|"+e.toExternal()}function p(e,t){return new b(e,t)}function f(e){return b.fromJson(e)}function g(e,t){var i=null;if(t){if(n.ok(e.getAssociatedResource().toExternal()===t.getAssociatedResource().toExternal()),e.getId()===y.DEFAULT_GROUP)return i=new y(t.getAssociatedResource(),e.getMarkers()),t.getGroups().forEach(function(e){i.addGroup(e)}),i;var o=new v(t,e.getId(),e.getMarkers()),r=t.getGroup(e.getId());return r?(i=new y(t.getAssociatedResource(),t.getGroup(y.DEFAULT_GROUP).getMarkers()),t.getGroups().forEach(function(e){e.getId()!==o.getId()&&i.addGroup(e)}),i.addGroup(o),i):(t.addGroup(o),t)}if(e.getId()===y.DEFAULT_GROUP)return new y(e.getAssociatedResource(),e.getMarkers());i=new y(e.getAssociatedResource());var s=new v(i,e.getId(),e.getMarkers());return i.addGroup(s),i}t.isITextMarker=o,t.isIRangeTextMarker=r,t.isIOffsetLengthTextMarker=s,t.isILineLengthTextMarker=a,t.isILineColumnTextMarker=u,t.createTextMarker=l,t.createRangeTextMarker=c;var m=function(){function e(e){"undefined"==typeof e&&(e=[]),this.markers=e}return e.prototype.length=function(){return this.markers.length},e.prototype.markerAt=function(e){return this.markers[e]},e.prototype.getMarkers=function(){return this.markers.slice(0)},e.prototype.forEach=function(e){this.markers.forEach(e)},e}(),v=function(e){function t(t,n,i){"undefined"==typeof i&&(i=[]),e.call(this,i),this.owner=t,this.id=n}return __extends(t,e),t.prototype.getAssociatedResource=function(){return this.owner.getAssociatedResource()},t.prototype.getId=function(){return this.id},t}(m),y=function(e){function t(t,n){"undefined"==typeof n&&(n=[]),e.call(this,n),this.resource=t,this.groups=[]}return __extends(t,e),t.prototype.getAssociatedResource=function(){return this.resource},t.prototype.getId=function(){return t.DEFAULT_GROUP},t.prototype.getMarkers=function(){var t=e.prototype.getMarkers.call(this);return this.groups.forEach(function(e){t=t.concat(e.getMarkers())}),t},t.prototype.getGroups=function(){return this.groups.slice(0)},t.prototype.getGroup=function(n){if(t.DEFAULT_GROUP===n)return new v(this,this.getId(),e.prototype.getMarkers.call(this));for(var i=0;i<this.groups.length;i++)if(this.groups[i].getId()===n)return this.groups[i];return null},t.prototype.addGroup=function(e){n.ok(e.getId()!==t.DEFAULT_GROUP);var i=this.getGroup(e.getId());n.ok(null===i),this.groups.push(e)},t.DEFAULT_GROUP="defaultGroup",t}(m);t.createMarkerSet=d;var _=["type","id"],b=function(){function e(e,t){this.resource=e,this.id=t,this.markers=[]}return e.prototype.getAssociatedResource=function(){return this.resource},e.prototype.getId=function(){return this.id},e.prototype.computeKey=function(){return this.id+"|"+this.resource.toExternal()},e.prototype.length=function(){return this.markers.length},e.prototype.markerAt=function(e){return this.markers[e]},e.prototype.forEach=function(e){this.markers.forEach(e)},e.prototype.getMarkers=function(){return this.markers.slice(0)},e.prototype.addMarker=function(e){this.markers.push(e)},e.prototype.toJson=function(){return{resource:this.resource.toExternal(),id:this.id,markers:this.markers.slice(0)}},e.fromJson=function(t){var n=new e(new i.URL(t.resource),t.id);n.markers=t.markers.slice(0);for(var o={},r=0;r<n.markers.length;r++){var s=n.markers[r];_.forEach(function(e){var t=s[e],n=o[t];n?s[e]=n:o[t]=t})}return n},e}();t.computeKey=h,t.createMarkerUpdate=p,t.createMarkerUpdateFromJson=f,t.processMarkerUpdate=g}),define("vs/editor/core/model/tokenIterator",["require","exports"],function(e,t){var n=function(){function e(e,t){this._model=e,this._currentLineNumber=t.lineNumber,this._currentTokenIndex=0,this._currentLineTokens=this._model._getInternalTokens(this._currentLineNumber),this._next=null,this._prev=null;for(var n=t.column-1,i=Number.MAX_VALUE,o=this._currentLineTokens.length-1;o>=0;o--){if(this._currentLineTokens[o].startIndex<=n&&i>=n){this._currentTokenIndex=o,this._next=this._current(),this._prev=this._current();break}i=this._currentLineTokens[o].startIndex}}return e.prototype._advanceNext=function(){if(this._prev=this._next,this._next=null,this._currentTokenIndex+1<this._currentLineTokens.length)this._currentTokenIndex++,this._next=this._current();else{for(;this._currentLineNumber+1<=this._model.getLineCount();)if(this._currentLineNumber++,this._currentLineTokens=this._model._getInternalTokens(this._currentLineNumber),this._currentLineTokens.length>0){this._currentTokenIndex=0,this._next=this._current();break}null===this._next&&(this._currentLineTokens=this._model._getInternalTokens(this._currentLineNumber),this._currentTokenIndex=this._currentLineTokens.length,this._advancePrev(),this._next=null)}},e.prototype._advancePrev=function(){if(this._next=this._prev,this._prev=null,this._currentTokenIndex>0)this._currentTokenIndex--,this._prev=this._current();else for(;this._currentLineNumber>1;)if(this._currentLineNumber--,this._currentLineTokens=this._model._getInternalTokens(this._currentLineNumber),this._currentLineTokens.length>0){this._currentTokenIndex=this._currentLineTokens.length-1,this._prev=this._current();break}},e.prototype._current=function(){return{token:this._currentLineTokens[this._currentTokenIndex],lineNumber:this._currentLineNumber,startColumn:this._currentLineTokens[this._currentTokenIndex].startIndex+1,endColumn:this._currentTokenIndex+1<this._currentLineTokens.length?this._currentLineTokens[this._currentTokenIndex+1].startIndex+1:this._model.getLineContent(this._currentLineNumber).length+1}},e.prototype.hasNext=function(){return null!==this._next},e.prototype.next=function(){var e=this._next;return this._advanceNext(),e},e.prototype.hasPrev=function(){return null!==this._prev},e.prototype.prev=function(){var e=this._prev;return this._advancePrev(),e},e.prototype._invalidate=function(){var e=function(){throw new Error("iteration isn't valid anymore")};this.hasNext=e,this.next=e,this.hasPrev=e,this.prev=e},e}();t.TokenIterator=n}),define("vs/editor/core/model/textModelWithTokensHelpers",["require","exports","vs/base/arrays","vs/editor/modes/nullMode","vs/base/errors","vs/editor/core/range"],function(e,t,n,i,o,r){var s=function(){function e(){}return e.massageWordDefinitionOf=function(e){var t=i.NullMode.DEFAULT_WORD_REGEXP;if(e.tokenTypeClassificationSupport){try{t=e.tokenTypeClassificationSupport.getWordDefinition()}catch(n){o.onUnexpectedError(n)}if(t instanceof RegExp){if(!t.global){var r="g";t.ignoreCase&&(r+="i"),t.multiline&&(r+="m"),t=new RegExp(t.source,r)}}else t=i.NullMode.DEFAULT_WORD_REGEXP}return t.lastIndex=0,t},e.getWords=function(t,n,i,o){if("undefined"==typeof o&&(o=!1),o&&!t._lineIsTokenized(n))return e._getWordsInText(t.getLineContent(n),e.massageWordDefinitionOf(t.getMode()));var r,s,a,u,l,c=[],d=t.getLineContent(n),h=t._getInternalTokens(n),p=t._getLineModeTransitions(n),f={};if(i&&(f=e._getNonWordTokenhMap(t)),0!==d.length){var g=0,m=g+1<p.length?p[g+1].startIndex:Number.MAX_VALUE,v=e.massageWordDefinitionOf(p[g].mode);for(r=0,s=0,a=h.length;a>r;r++){if(l=r===a-1?d.length:h[r+1].startIndex,s>=m&&(g++,m=g+1<p.length?p[g+1].startIndex:Number.MAX_VALUE,v=e.massageWordDefinitionOf(p[g].mode)),!i||!f.hasOwnProperty(h[r].type)){var y,_=d.substring(s,l),b=_.match(v)||[],C=0;for(u=0;u<b.length;u++){var w=b[u].trim();w.length>0&&(y=_.indexOf(w,C),C=y+w.length,c.push({start:s+y,end:s+C}))}}s=l}}return c},e._getWordsInText=function(e,t){var n,i,o,r,s,a,u=e.match(t)||[],l=[];for(n=0;n<u.length;n++)a=u[n].trim(),a.length>0&&(i=e.indexOf(a,o),o=i+a.length,r=i,s=o,l.push({start:r,end:s}));return l},e.getWordAtPosition=function(t,i,o,r){if("undefined"==typeof r&&(r=!1),r&&!t._lineIsTokenized(i.lineNumber))return e._getWordAtText(i.column,e.massageWordDefinitionOf(t.getMode()),t.getLineContent(i.lineNumber),0);var s=t._getInternalTokens(i.lineNumber),a=-1,u=-1;if(s.length>0&&(a=n.findIndexInSegmentsArray(s,i.column-1),a>0&&s[a].startIndex===i.column-1&&(u=a-1)),o&&(-1!==a||-1!==u)){var l=e._getNonWordTokenhMap(t);-1!==a&&l.hasOwnProperty(s[a].type)&&(a=-1),-1!==u&&l.hasOwnProperty(s[u].type)&&(u=-1)}var c,d=e.massageWordDefinitionOf(t.getModeAtPosition(i.lineNumber,i.column)),h=t.getLineContent(i.lineNumber),p=null;return p||-1===a||(c=h.substring(s[a].startIndex,a+1<s.length?s[a+1].startIndex:Number.MAX_VALUE),p=e._getWordAtText(i.column,d,c,s[a].startIndex)),p||-1===u||(c=h.substring(s[u].startIndex,u+1<s.length?s[u+1].startIndex:Number.MAX_VALUE),p=e._getWordAtText(i.column,d,c,s[u].startIndex)),p},e._getWordAtText=function(e,t,n,i){var o,r,s,a,u,l,c=n.match(t)||[];for(o=0;o<c.length;o++)if(l=c[o].trim(),l.length>0&&(r=n.indexOf(l,s),s=r+l.length,a=i+r+1,u=i+s+1,e>=a&&u>=e))return{word:l,startColumn:a,endColumn:u};return null},e._getNonWordTokenhMap=function(e){var t,n,i=e._getNonWordTokenTypes(),o={};for(t=0,n=i.length;n>t;t++)o[i[t]]=!0;return o},e}();t.WordHelper=s;var a=function(){function e(){}return e._sign=function(e){return 0>e?-1:e>0?1:0},e._findMatchingBracketUp=function(t,n,i,o,s){var a,u,l,c=s;for(a=i;a>=1;a--){var d=t._getInternalTokens(a),h=t.getLineContent(a);for(l=(a===i?o:d.length)-1;l>=0;l--)if(d[l].type===n&&(c+=e._sign(d[l].bracket),0===c))return u=l===d.length-1?h.length:d[l+1].startIndex,new r.Range(a,d[l].startIndex+1,a,u+1)}return null},e._findMatchingBracketDown=function(t,n,i,o,s){var a,u,l,c,d,h=1;for(a=i,u=t.getLineCount();u>=a;a++){if(s&&!t._lineIsTokenized(a))return{range:null,isAccurate:!1};var p=t._getInternalTokens(a),f=t.getLineContent(a);for(c=a===i?o+1:0,d=p.length;d>c;c++)if(p[c].type===n&&(h+=e._sign(p[c].bracket),0===h))return l=c===p.length-1?f.length:p[c+1].startIndex,{range:new r.Range(a,p[c].startIndex+1,a,l+1),isAccurate:!0}}return{range:null,isAccurate:!0}},e.findMatchingBracketUp=function(t,n,i){var o,r,s,a,u=i.column-1,l=-1,c=t._getInternalTokens(i.lineNumber),d=t.getLineContent(i.lineNumber);for(o=0,r=c.length;-1===l&&r>o;o++)s=c[o],a=o===r-1?d.length:c[o+1].startIndex,s.startIndex<=u&&a>=u&&(l=o);return e._findMatchingBracketUp(t,n,i.lineNumber,l+1,0)
},e.matchBracket=function(t,n,i){if(i&&!t._lineIsTokenized(n.lineNumber))return{brackets:null,isAccurate:!1};var o,s,a=t.getLineContent(n.lineNumber),u={brackets:null,isAccurate:!0};if(a.length>0){var l,c,d=n.column-1,h=t._getInternalTokens(n.lineNumber);for(o=0,s=h.length;null===u.brackets&&s>o;o++)if(l=h[o],c=o===s-1?a.length:h[o+1].startIndex,l.startIndex<=d&&c>=d){if(l.bracket<0){var p=e._findMatchingBracketUp(t,l.type,n.lineNumber,o,-1);p&&(u.brackets=[new r.Range(n.lineNumber,l.startIndex+1,n.lineNumber,c+1),p])}if(null===u.brackets&&l.bracket>0){var f=e._findMatchingBracketDown(t,l.type,n.lineNumber,o,i);u.isAccurate=f.isAccurate,f.range&&(u.brackets=[new r.Range(n.lineNumber,l.startIndex+1,n.lineNumber,c+1),f.range])}}}return u},e}();t.BracketsHelper=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/textModelWithTokens",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","vs/editor/core/model/textModel","vs/editor/modes/nullMode","vs/base/errors","vs/editor/core/constants","vs/base/arrays","vs/editor/core/config/config","vs/editor/core/model/tokenIterator","vs/editor/core/model/textModelWithTokensHelpers"],function(e,t,n,i,o,r,s,a,u,l,c,d){var h=function(){function e(e,t){var n=this;this._modePromise=e,this._model=t,this._isDisposed=!1,i.TPromise.timeout(0).then(function(){return n._modePromise}).then(function(e){if(!n._isDisposed){var t=n._model;n.dispose(),t.setMode(e)}}).done(null,s.onUnexpectedError)}return e.prototype.dispose=function(){this._modePromise=null,this._model=null,this._isDisposed=!0},e}(),p=function(e){function t(t,n,o){t.push(a.EventType.ModelTokensChanged),t.push(a.EventType.ModelModeChanged),e.call(this,t,n),this._stopLineTokenizationAfter=l.Config.editor.stopLineTokenizationAfter,o?i.Promise.is(o)?(this._modeToModelBinder=new h(o,this),this._mode=new r.NullMode):this._mode=o:this._mode=new r.NullMode,this._revalidateTokensTimeout=-1,this._modeTokenizationFailedTimeout=-1,this._initializeTokenizationState()}return __extends(t,e),t.prototype.dispose=function(){this._modeToModelBinder&&(this._modeToModelBinder.dispose(),this._modeToModelBinder=null),this._clearTimers(),this._mode=null,this._lastState=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,n){e.prototype._resetValue.call(this,t,n),this._clearTimers(),this._initializeTokenizationState()},t.prototype._resetMode=function(e,t){this._clearTimers(),this._mode=t,this._initializeTokenizationState(),this.emitModelTokensChangedEvent(1,this.getLineCount())},t.prototype._clearTimers=function(){-1!==this._revalidateTokensTimeout&&(window.clearTimeout(this._revalidateTokensTimeout),this._revalidateTokensTimeout=-1),-1!==this._modeTokenizationFailedTimeout&&(window.clearTimeout(this._modeTokenizationFailedTimeout),this._modeTokenizationFailedTimeout=-1)},t.prototype._initializeTokenizationState=function(){var e=null;if(this._mode.tokenizationSupport)try{e=this._mode.tokenizationSupport.getInitialState()}catch(n){n.friendlyMessage=t.MODE_TOKENIZATION_FAILED_MSG,s.onUnexpectedError(n),this._mode=new r.NullMode}e||(e=new r.NullState(this._mode,null)),this._lines[0].state=e,this._lastState=null,this._invalidLineStartIndex=0,this._beginBackgroundTokenization()},t.prototype.setStopLineTokenizationAfter=function(e){this._stopLineTokenizationAfter=e},t.prototype.getLineTokens=function(e,t){if("undefined"==typeof t&&(t=!1),1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return t||this._updateTokensUntilLine(e,!0),this._lines[e-1].lineTokens},t.prototype.getRawLineTokens=function(e){return this._updateTokensUntilLine(e,!0),{tokens:this._lines[e-1].lineTokens.getTokens().slice(0),modeTransitions:this._lines[e-1].modeTransitions.slice(0),endState:e<this._lines.length?this._lines[e-1].state:this._lastState,actualStopOffset:0}},t.prototype._getInternalTokens=function(e){return this._updateTokensUntilLine(e,!0),this._lines[e-1].lineTokens.getTokens().slice(0)},t.prototype.setValue=function(e,t){if("undefined"==typeof t&&(t=null),null!==e||t){var n;if(null!==e&&(n=this._createContentChangedFlushEvent(),this._resetValue(n,e)),t)if(this._modeToModelBinder&&(this._modeToModelBinder.dispose(),this._modeToModelBinder=null),i.Promise.is(t))this._modeToModelBinder=new h(t,this);else{var o=t;if(this._mode!==o){var r={oldMode:this._mode,newMode:o};this._resetMode(r,o),this._emitModelModeChangedEvent(r)}}n&&this._emitModelContentChangedFlushEvent(n)}},t.prototype.getMode=function(){return this._mode},t.prototype.setMode=function(e){e&&this.setValue(null,e)},t.prototype.getModeAtPosition=function(e,t){if(1===t)return this.getStateBeforeLine(e).getMode();if(t===this.getLineMaxColumn(e))return this.getStateAfterLine(e).getMode();var n=this._getLineModeTransitions(e),i=u.findIndexInSegmentsArray(n,t-1);return n[i].mode},t.prototype._invalidateLine=function(e){this._lines[e].isInvalid=!0,e<this._invalidLineStartIndex&&(this._invalidLineStartIndex<this._lines.length&&(this._lines[this._invalidLineStartIndex].isInvalid=!0),this._invalidLineStartIndex=e,this._beginBackgroundTokenization())},t.prototype._updateLineTokens=function(e,t){this._lines[e].setTokens(t.tokens)},t.prototype._beginBackgroundTokenization=function(){var e=this;-1===this._revalidateTokensTimeout&&(this._revalidateTokensTimeout=window.setTimeout(function(){e._revalidateTokensNow()},50))},t.prototype._revalidateTokensNow=function(){this._revalidateTokensTimeout=-1;for(var e,t=50,n=this._invalidLineStartIndex+1,i=Math.min(this._lines.length,this._invalidLineStartIndex+1e6),o=0,r=0,s=0,a=this._stopLineTokenizationAfter,u=(new Date).getTime(),l=n;i>=l;l++){if(e=(new Date).getTime()-u,e>t){i=l-1;break}if(r=this._lines[l-1].text.length,-1!==a&&r>a&&(r=a),o>0&&(s=e/o*r,e+s>t)){i=l-1;break}this._updateTokensUntilLine(l,!1),o+=r}i>=n&&this.emitModelTokensChangedEvent(n,i),this._invalidLineStartIndex<this._lines.length&&this._beginBackgroundTokenization()},t.prototype.getStateBeforeLine=function(e){return this._updateTokensUntilLine(e-1,!0),this._lines[e-1].state},t.prototype.getStateAfterLine=function(e){return this._updateTokensUntilLine(e,!0),e<this._lines.length?this._lines[e-1].state:this._lastState},t.prototype._getLineModeTransitions=function(e){return this._updateTokensUntilLine(e,!0),this._lines[e-1].modeTransitions},t.prototype._updateTokensUntilLine=function(e,n){var i=this._lines.length,o=e-1,a=this._stopLineTokenizationAfter;-1===a&&(a=1e9);for(var u=this._invalidLineStartIndex+1,l=e,c=this._invalidLineStartIndex;o>=c;c++){var d=c+1,h=null,p=this._lines[c].text;if(this._mode.tokenizationSupport){try{h=this._mode.tokenizationSupport.tokenize(this._lines[c].text,this._lines[c].state,0,a)}catch(f){f.friendlyMessage=t.MODE_TOKENIZATION_FAILED_MSG,s.onUnexpectedError(f),this._onModeTokenizationFailed()}h&&h.actualStopOffset<p.length&&(h.tokens.push({startIndex:h.actualStopOffset,type:"",bracket:0}),h.endState=this._lines[c].state)}if(h||(h=r.nullTokenize(this._mode,p,this._lines[c].state)),this._updateLineTokens(c,h),this._lines[c].modeTransitions=h.modeTransitions,this._lines[c].isInvalid&&(this._lines[c].isInvalid=!1),i>d)if(null!==this._lines[d].state&&h.endState.equals(this._lines[d].state)){for(var g=c+1;i>g&&!this._lines[g].isInvalid;){if(i>g+1){if(null===this._lines[g+1].state)break}else if(null===this._lastState)break;g++}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,g),c=g-1}else this._lines[d].state=h.endState;else this._lastState=h.endState}n&&l>=u&&this.emitModelTokensChangedEvent(u,l),this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,o+1)},t.prototype._onModeTokenizationFailed=function(){var e=this;-1===this._modeTokenizationFailedTimeout&&(this._modeTokenizationFailedTimeout=window.setTimeout(function(){e._modeTokenizationFailedTimeout=-1,e.setMode(new r.NullMode)},200))},t.prototype.emitModelTokensChangedEvent=function(e,t){var n={fromLineNumber:e,toLineNumber:t};this.emit(a.EventType.ModelTokensChanged,n)},t.prototype._emitModelModeChangedEvent=function(e){this.emit(a.EventType.ModelModeChanged,e)},t.prototype._lineIsTokenized=function(e){return this._invalidLineStartIndex>e-1},t.prototype._getNonWordTokenTypes=function(){var e=[];try{e=this._mode.tokenTypeClassificationSupport.getNonWordTokenTypes()}catch(t){s.onUnexpectedError(t)}return e},t.prototype._getWordDefinition=function(){return d.WordHelper.massageWordDefinitionOf(this._mode)},t.prototype.getWordAtPosition=function(e,t,n){return"undefined"==typeof n&&(n=!1),d.WordHelper.getWordAtPosition(this,this.validatePosition(e),t,n)},t.prototype.getWords=function(e,t,n){return"undefined"==typeof n&&(n=!1),d.WordHelper.getWords(this,this.validateLineNumber(e),t,n)},t.prototype.tokenIterator=function(e,t){var n=new c.TokenIterator(this,this.validatePosition(e)),i=t(n);return n._invalidate(),i},t.prototype.findMatchingBracketUp=function(e,t){return d.BracketsHelper.findMatchingBracketUp(this,e,this.validatePosition(t))},t.prototype.matchBracket=function(e,t){return"undefined"==typeof t&&(t=!1),d.BracketsHelper.matchBracket(this,this.validatePosition(e),t)},t.MODE_TOKENIZATION_FAILED_MSG=n.localize("vs_editor_core_model_textModelWithTokens",0),t}(o.TextModel);t.TextModelWithTokens=p});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/textModelWithMarkers",["require","exports","vs/editor/core/model/textModelWithTokens","vs/editor/core/position"],function(e,t,n,i){var o=function(e){function t(t,n,i){e.call(this,t,n,i),this._lastMarkerId=0,this._markerIdToMarker={}}return __extends(t,e),t.prototype.dispose=function(){this._markerIdToMarker=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,n){e.prototype._resetValue.call(this,t,n),this._markerIdToMarker={}},t.prototype._addMarker=function(e,t,n){var o=this.validatePosition(new i.Position(e,t)),r={id:(++this._lastMarkerId).toString(),column:o.column,stickToPreviousCharacter:n,oldLineNumber:0,oldColumn:0,line:null};return this._markerIdToMarker[r.id]=r,this._lines[o.lineNumber-1].addMarker(r),r.id},t.prototype._changeMarker=function(e,t,n){if(this._markerIdToMarker.hasOwnProperty(e)){var o=this._markerIdToMarker[e],r=this.validatePosition(new i.Position(t,n));r.lineNumber!==o.line.lineNumber&&(o.line.removeMarker(o),this._lines[r.lineNumber-1].addMarker(o)),o.column=r.column}},t.prototype._changeMarkerStickiness=function(e,t){if(this._markerIdToMarker.hasOwnProperty(e)){var n=this._markerIdToMarker[e];n.stickToPreviousCharacter!==t&&(n.stickToPreviousCharacter=t)}},t.prototype._getMarker=function(e){if(this._markerIdToMarker.hasOwnProperty(e)){var t=this._markerIdToMarker[e];return new i.Position(t.line.lineNumber,t.column)}return null},t.prototype._getLineMarkers=function(e){return this._lines[e-1].markers.slice(0)},t.prototype._removeMarker=function(e){if(this._markerIdToMarker.hasOwnProperty(e)){var t=this._markerIdToMarker[e];t.line.removeMarker(t),delete this._markerIdToMarker[e]}},t.prototype._getMarkersInMap=function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&this._markerIdToMarker.hasOwnProperty(t)&&n.push(this._markerIdToMarker[t]);return n},t}(n.TextModelWithTokens);t.TextModelWithMarkers=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/textModelWithTrackedRanges",["require","exports","vs/editor/editor","vs/editor/core/model/textModelWithMarkers","vs/editor/core/range"],function(e,t,n,i,o){var r=function(e){function t(t,n,i){e.call(this,t,n,i),this._lastRangeId=0,this._ranges={},this._markerIdToRangeId={},this._multiLineTrackedRanges={}}return __extends(t,e),t.prototype.dispose=function(){this._ranges=null,this._markerIdToRangeId=null,this._multiLineTrackedRanges=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,n){e.prototype._resetValue.call(this,t,n),this._ranges={},this._markerIdToRangeId={},this._multiLineTrackedRanges={}},t.prototype._setRangeIsMultiLine=function(e,t){var n=this._multiLineTrackedRanges.hasOwnProperty(e);!n&&t?this._multiLineTrackedRanges[e]=!0:n&&!t&&delete this._multiLineTrackedRanges[e]},t.prototype._shouldStartMarkerSticksToPreviousCharacter=function(e){return 0===e||2===e?!0:!1},t.prototype._shouldEndMarkerSticksToPreviousCharacter=function(e){return 1===e||2===e?!0:!1},t.prototype.addTrackedRange=function(e,t){e=this.validateRange(e);var n=this._shouldStartMarkerSticksToPreviousCharacter(t),i=this._shouldEndMarkerSticksToPreviousCharacter(t),o=this._addMarker(e.startLineNumber,e.startColumn,n),r=this._addMarker(e.endLineNumber,e.endColumn,i),s={id:(++this._lastRangeId).toString(),startMarkerId:o,endMarkerId:r};return this._ranges[s.id]=s,this._markerIdToRangeId[o]=s.id,this._markerIdToRangeId[r]=s.id,this._setRangeIsMultiLine(s.id,e.startLineNumber!==e.endLineNumber),s.id},t.prototype.changeTrackedRange=function(e,t){if(this._ranges.hasOwnProperty(e)){t=this.validateRange(t);var n=this._ranges[e];this._changeMarker(n.startMarkerId,t.startLineNumber,t.startColumn),this._changeMarker(n.endMarkerId,t.endLineNumber,t.endColumn),this._setRangeIsMultiLine(n.id,t.startLineNumber!==t.endLineNumber)}},t.prototype.changeTrackedRangeStickiness=function(e,t){if(this._ranges.hasOwnProperty(e)){var n=this._ranges[e];this._changeMarkerStickiness(n.startMarkerId,this._shouldStartMarkerSticksToPreviousCharacter(t)),this._changeMarkerStickiness(n.endMarkerId,this._shouldEndMarkerSticksToPreviousCharacter(t))}},t.prototype.removeTrackedRange=function(e){if(this._ranges.hasOwnProperty(e)){var t=this._ranges[e];this._removeMarker(t.startMarkerId),this._removeMarker(t.endMarkerId),this._setRangeIsMultiLine(t.id,!1),delete this._ranges[t.id],delete this._markerIdToRangeId[t.startMarkerId],delete this._markerIdToRangeId[t.endMarkerId]}},t.prototype._newEditorRange=function(e,t){return t.isBefore(e)?new o.Range(e.lineNumber,e.column,e.lineNumber,e.column):new o.Range(e.lineNumber,e.column,t.lineNumber,t.column)},t.prototype.getTrackedRange=function(e){var t=this._ranges[e],n=this._getMarker(t.startMarkerId),i=this._getMarker(t.endMarkerId);return this._newEditorRange(n,i)},t.prototype._getMultiLineTrackedRanges=function(e,t){var n,i,o,r,s=[];for(n in this._multiLineTrackedRanges)if(this._multiLineTrackedRanges.hasOwnProperty(n)){if(i=this._ranges[n],o=this._getMarker(i.startMarkerId),o.lineNumber>t)continue;if(r=this._getMarker(i.endMarkerId),r.lineNumber<e)continue;s.push({id:i.id,range:this._newEditorRange(o,r)})}return s},t.prototype.getLinesTrackedRanges=function(e,t){var n,i,o,r,s,a,u,l,c=this._getMultiLineTrackedRanges(e,t),d={};for(r=0,s=c.length;s>r;r++)d[c[r].id]=!0;for(a=e;t>=a;a++)for(n=this._getLineMarkers(a),r=0,s=n.length;s>r;r++)i=n[r],this._markerIdToRangeId.hasOwnProperty(i.id)&&(o=this._markerIdToRangeId[i.id],d.hasOwnProperty(o)||(u=this._getMarker(this._ranges[o].startMarkerId),l=this._getMarker(this._ranges[o].endMarkerId),c.push({id:o,range:this._newEditorRange(u,l)}),d[o]=!0));return c},t.prototype._onChangedMarkers=function(e){var t,n,i,o,r,s,a={};for(r=0,s=e.length;s>r;r++)o=e[r],this._markerIdToRangeId.hasOwnProperty(o.id)&&(i=this._markerIdToRangeId[o.id],n=this._ranges[i],a.hasOwnProperty(n.id)?t=a[n.id]:(t={startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0},a[n.id]=t),o.id===n.startMarkerId?(t.startLineNumber=o.oldLineNumber,t.startColumn=o.oldColumn):(t.endLineNumber=o.oldLineNumber,t.endColumn=o.oldColumn),this._setRangeIsMultiLine(n.id,this._getMarker(n.startMarkerId).lineNumber!==this._getMarker(n.endMarkerId).lineNumber));return a},t}(i.TextModelWithMarkers);t.TextModelWithTrackedRanges=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/textModelWithDecorations",["require","exports","vs/editor/editor","vs/editor/core/model/textModelWithTrackedRanges","vs/editor/core/constants"],function(e,t,n,i,o){function r(e){return e.replace(/[^a-z0-9\-]/gi," ")}function s(e){return{stickiness:e.stickiness||0,className:r(e.className||""),hoverMessage:e.hoverMessage||"",htmlMessage:e.htmlMessage||[],isWholeLine:e.isWholeLine||!1,overviewRuler:a(e.overviewRuler,e.showInOverviewRuler),glyphMarginClassName:r(e.glyphMarginClassName||""),linesDecorationsClassName:r(e.linesDecorationsClassName||""),inlineClassName:r(e.inlineClassName||"")}}function a(e,t){"undefined"==typeof t&&(t=null);var n={color:"",position:2};return t&&(n.color=t),e&&e.color&&(n.color=e.color),e&&e.hasOwnProperty("position")&&(n.position=e.position),n}function u(e,t){var n=[t.stickiness,e.startLineNumber.toString(),e.startColumn.toString(),e.endLineNumber.toString(),e.endColumn.toString(),t.className,t.hoverMessage,t.htmlMessage.reduce(function(e,t){return e+l(t)},""),t.isWholeLine+"",t.overviewRuler.color,t.overviewRuler.position,t.glyphMarginClassName,t.linesDecorationsClassName,t.inlineClassName];return n.join("-")}function l(e){var t=[e.tagName,e.text,e.className];return e.children&&e.children.forEach(function(e,n){t.push("child"+n+"-"+l(e))}),t.join("-")}var c=function(){function e(){this.changedMarkers={},this.oldDecorationRange={},this.oldDecorationOptions={},this.newOrChangedDecorations={},this.removedDecorations={}}return e.prototype.addNewDecoration=function(e){this.newOrChangedDecorations[e]=!0},e.prototype.addRemovedDecoration=function(e,t,n,i){this.newOrChangedDecorations.hasOwnProperty(e)&&delete this.newOrChangedDecorations[e],this.oldDecorationRange.hasOwnProperty(e)||(this.oldDecorationRange[e]=n),this.oldDecorationOptions.hasOwnProperty(e)||(this.oldDecorationOptions[e]=i),this.removedDecorations[e]=!0},e.prototype.addMovedDecoration=function(e,t){this.oldDecorationRange.hasOwnProperty(e)||(this.oldDecorationRange[e]=t),this.newOrChangedDecorations[e]=!0},e.prototype.addUpdatedDecoration=function(e,t){this.oldDecorationOptions.hasOwnProperty(e)||(this.oldDecorationOptions[e]=t),this.newOrChangedDecorations[e]=!0},e}();t.DeferredEventsBuilder=c;var d=function(e){function t(t,n,i){t.push(o.EventType.ModelDecorationsChanged),e.call(this,t,n,i),this.lastDecorationId=0,this.decorations={},this.rangeIdToDecorationId={},this._currentDeferredEvents=null}return __extends(t,e),t.prototype.dispose=function(){this.decorations=null,this.rangeIdToDecorationId=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,n){e.prototype._resetValue.call(this,t,n),this.decorations={},this.rangeIdToDecorationId={}},t.prototype.changeDecorations=function(e,t){var n=this;return"undefined"==typeof t&&(t=0),this._withDeferredEvents(function(i){var o={addDecoration:function(e,o){return n._addDecorationImpl(i,t,e,o)},changeDecoration:function(e,t){n._changeDecorationImpl(i,e,t)},changeDecorationOptions:function(e,t){n._changeDecorationOptionsImpl(i,e,t)},removeDecoration:function(e){n._removeDecorationImpl(i,e)},deltaDecorations:function(e,o){return n._deltaDecorationsImpl(i,t,e,o)}},r=e(o);return o.addDecoration=null,o.changeDecoration=null,o.removeDecoration=null,o.deltaDecorations=null,r})},t.prototype.deltaDecorations=function(e,t,n){return"undefined"==typeof n&&(n=0),e||(e=[]),this.changeDecorations(function(n){return n.deltaDecorations(e,t)},n)},t.prototype.removeAllDecorationsWithOwnerId=function(e){var t,n,i=[];for(t in this.decorations)this.decorations.hasOwnProperty(t)&&(n=this.decorations[t],n.ownerId===e&&i.push(n.id));for(var o=0;o<i.length;o++)this._removeDecorationImpl(null,i[o])},t.prototype.getDecorationOptions=function(e){return this.decorations.hasOwnProperty(e)?this.decorations[e].options:null},t.prototype.getDecorationRange=function(e){if(this.decorations.hasOwnProperty(e)){var t=this.decorations[e];return this.getTrackedRange(t.rangeId)}return null},t.prototype.getLineDecorations=function(e,t,n){return"undefined"==typeof t&&(t=0),"undefined"==typeof n&&(n=!1),this.getLinesDecorations(e,e,t,n)},t.prototype._getDecorationsInRange=function(e,t,n,i,r,s){var a,u,l,c,d=[],h=this.getLinesTrackedRanges(e,n);for(u=0,c=h.length;c>u;u++)if(l=h[u],this.rangeIdToDecorationId.hasOwnProperty(l.id)){if(a=this.decorations[this.rangeIdToDecorationId[l.id]],r&&a.ownerId&&a.ownerId!==r)continue;if(s&&(a.options.className===o.ClassName.EditorErrorDecoration||a.options.className===o.ClassName.EditorWarningDecoration))continue;if(l.range.startLineNumber===e&&l.range.endColumn<t)continue;if(l.range.endLineNumber===n&&l.range.startColumn>i)continue;d.push({id:a.id,ownerId:a.ownerId,range:l.range,options:a.options})}return d},t.prototype.getLinesDecorations=function(e,t,n,i){return"undefined"==typeof n&&(n=0),"undefined"==typeof i&&(i=!1),this._getDecorationsInRange(e,1,t,Number.MAX_VALUE,n,i)},t.prototype.getDecorationsInRange=function(e,t,n){var i=this.validateRange(e);return this._getDecorationsInRange(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn,t,n)},t.prototype.getAllDecorations=function(e,t){"undefined"==typeof e&&(e=0),"undefined"==typeof t&&(t=!1);var n,i,r=[];for(n in this.decorations)if(this.decorations.hasOwnProperty(n)){if(i=this.decorations[n],e&&i.ownerId&&i.ownerId!==e)continue;if(t&&(i.options.className===o.ClassName.EditorErrorDecoration||i.options.className===o.ClassName.EditorWarningDecoration))continue;r.push({id:i.id,ownerId:i.ownerId,range:this.getTrackedRange(i.rangeId),options:i.options})}return r},t.prototype._withDeferredEvents=function(e){var t=this;return this.deferredEmit(function(){var n=t._currentDeferredEvents?!1:!0;n&&(t._currentDeferredEvents=new c);try{var i=e(t._currentDeferredEvents);n&&t._handleCollectedEvents(t._currentDeferredEvents)}finally{n&&(t._currentDeferredEvents=null)}return i})},t.prototype._handleCollectedEvents=function(e){var t=this._getMarkersInMap(e.changedMarkers),n=this._onChangedMarkers(t);this._onChangedRanges(e,n),this._handleCollectedDecorationsEvents(e);for(var i=0,o=t.length;o>i;i++)t[i].oldLineNumber=0,t[i].oldColumn=0},t.prototype._onChangedRanges=function(e,t){var n,i;for(n in t)t.hasOwnProperty(n)&&this.rangeIdToDecorationId.hasOwnProperty(n)&&(i=this.rangeIdToDecorationId[n],e.addMovedDecoration(i,t[n]))},t.prototype._handleCollectedDecorationsEvents=function(e){var t,n,i,r=[],s=[],a=[];for(t in e.newOrChangedDecorations)e.newOrChangedDecorations.hasOwnProperty(t)&&(a.push(t),n=this._getDecorationData(t),n.isForValidation=n.options.className===o.ClassName.EditorErrorDecoration||n.options.className===o.ClassName.EditorWarningDecoration,r.push(n),e.oldDecorationRange.hasOwnProperty(t)&&(i=e.oldDecorationRange[t],i.startLineNumber=i.startLineNumber||n.range.startLineNumber,i.startColumn=i.startColumn||n.range.startColumn,i.endLineNumber=i.endLineNumber||n.range.endLineNumber,i.endColumn=i.endColumn||n.range.endColumn));for(t in e.removedDecorations)e.removedDecorations.hasOwnProperty(t)&&(a.push(t),s.push(t));if(a.length>0){var u={ids:a,addedOrChangedDecorations:r,removedDecorations:s,oldOptions:e.oldDecorationOptions,oldRanges:e.oldDecorationRange};this.emitModelDecorationsChangedEvent(u)}},t.prototype._getDecorationData=function(e){var t=this.decorations[e];return{id:t.id,ownerId:t.ownerId,range:this.getTrackedRange(t.rangeId),isForValidation:!1,options:t.options}},t.prototype.emitModelDecorationsChangedEvent=function(e){this.emit(o.EventType.ModelDecorationsChanged,e)},t.prototype._addDecorationImpl=function(e,t,n,i){i=s(i);var o=this.addTrackedRange(n,i.stickiness),r={ownerId:t,id:(++this.lastDecorationId).toString(),rangeId:o,options:i};return this.decorations[r.id]=r,this.rangeIdToDecorationId[o]=r.id,e.addNewDecoration(r.id),r.id},t.prototype._changeDecorationImpl=function(e,t,n){if(this.decorations.hasOwnProperty(t)){var i=this.decorations[t],o=this.getTrackedRange(i.rangeId);this.changeTrackedRange(i.rangeId,n),e.addMovedDecoration(t,o)}},t.prototype._changeDecorationOptionsImpl=function(e,t,n){if(n=s(n),this.decorations.hasOwnProperty(t)){var i=this.decorations[t],o=i.options;o.stickiness!==n.stickiness&&this.changeTrackedRangeStickiness(i.rangeId,n.stickiness),i.options=n,e.addUpdatedDecoration(t,o)}},t.prototype._removeDecorationImpl=function(e,t){if(this.decorations.hasOwnProperty(t)){var n=this.decorations[t],i=null;e&&(i=this.getTrackedRange(n.rangeId)),this.removeTrackedRange(n.rangeId),delete this.rangeIdToDecorationId[n.rangeId],delete this.decorations[t],e&&e.addRemovedDecoration(t,n.ownerId,i,n.options)}},t.prototype._deltaDecorationsImpl=function(e,t,n,i){var o,r,a=[],u=[];for(o=0,r=i.length;r>o;o++)a[o]=s(i[o].options),u[o]=this.validateRange(i[o].range);return this._deltaImpl(e,t,n,r,u,a)},t.prototype._deltaImpl=function(e,t,n,i,o,r){var s,a,l,c,d={};for(s=0,a=n.length;a>s;s++)this.decorations.hasOwnProperty(n[s])&&(c=this.decorations[n[s]],l=u(this.getTrackedRange(c.rangeId),c.options),d[l]=d[l]||[],d[l].push(n[s]));var h,p,f,g,m=[],v={};for(s=0;i>s;s++){if(l=u(o[s],r[s]),g=!1,d.hasOwnProperty(l))for(f=d[l],h=0,p=f.length;p>h;h++)if(!v.hasOwnProperty(f[h])){g=!0,v[f[h]]=!0,m.push(f[h]);break}g||m.push(this._addDecorationImpl(e,t,o[s],r[s]))}for(s=0,a=n.length;a>s;s++)v.hasOwnProperty(n[s])||this._removeDecorationImpl(e,n[s]);return m},t}(i.TextModelWithTrackedRanges);t.TextModelWithDecorations=d}),define("vs/editor/core/model/modelEditOperation",["require","exports","vs/editor/core/range"],function(e,t,n){var i=function(){function e(){}return e.execute=function(t,n){var i=t.change(function(i){return e._apply(t,i,n.operations)});return{operations:i}},e._apply=function(t,n,i){i.sort(e._compareOperations);for(var o=1;o<i.length;o++)if(i[o-1].range.getStartPosition().isBeforeOrEqual(i[o].range.getEndPosition()))throw new Error("Overlapping ranges are not allowed!");var r=t.getEditableRange(),s=r.getStartPosition(),a=r.getEndPosition();for(o=0;o<i.length;o++){var u=i[o].range;if(!s.isBeforeOrEqual(u.getStartPosition())||!u.getEndPosition().isBeforeOrEqual(a))throw new Error("Editing outside of editable range not allowed!")}var l=e._applyWithMarkers(t,n,i),c=e._squashMarkers(t,l);for(c.sort(e._compareOperations),o=1;o<c.length;o++)if(c[o-1].range.getStartPosition().isBeforeOrEqual(c[o].range.getEndPosition()))throw new Error("Inverse edit operations: Overlapping ranges are not allowed!");return c},e._squashMarkers=function(e,t){var i,o,r,s,a,u,l,c,d=[];for(i=0,o=t.length;o>i;i++)c=t[i].identifier,a=t[i].text,r=t[i].selectionStartMarkerId,s=t[i].positionMarkerId,u=e._getMarker(r),l=e._getMarker(s),d.push({identifier:c,range:new n.Range(u.lineNumber,u.column,l.lineNumber,l.column),text:a}),e._removeMarker(r),e._removeMarker(s);return d},e._applyWithMarkers=function(e,t,n){var i,o,r,s,a,u,l,c,d,h,p=[];for(i=0,o=n.length;o>i;i++)h=n[i].identifier,s=n[i].range,r=n[i].text,s.isEmpty()&&!r?(d={startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},c=""):(s.isEmpty()?(c="",a={lineNumber:s.startLineNumber,column:s.startColumn}):(l=t.deleteText(s),c=l.deletedText,a=l.position),r?(u=t.insertText(a,r),d={startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:u.lineNumber,endColumn:u.column}):d={startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:a.lineNumber,endColumn:a.column}),p.push({identifier:h,text:c,selectionStartMarkerId:e._addMarker(d.startLineNumber,d.startColumn,!0),positionMarkerId:e._addMarker(d.endLineNumber,d.endColumn,!1)});return p},e._compareOperations=function(e,t){return-n.compareRangesUsingEnds(e.range,t.range)},e}();t.ModelEditOperation=i}),define("vs/editor/core/model/editStack",["require","exports","vs/editor/core/model/modelEditOperation"],function(e,t,n){var i=function(){function e(e){this.model=e,this.currentOpenStackElement=null,this.past=[],this.future=[]}return e.prototype.pushStackElement=function(){null!==this.currentOpenStackElement&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},e.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},e.prototype.pushEditOperation=function(e,t,i){this.future=[],this.currentOpenStackElement||(this.currentOpenStackElement={beforeCursorState:e,editOperations:[],afterCursorState:null});var o=n.ModelEditOperation.execute(this.model,{operations:t});return this.currentOpenStackElement.editOperations.push(o),this.currentOpenStackElement.afterCursorState=i?i(o.operations):null,this.currentOpenStackElement.afterCursorState},e.prototype.undo=function(){if(this.pushStackElement(),this.past.length>0){for(var e=this.past.pop(),t=e.editOperations.length-1;t>=0;t--)e.editOperations[t]=n.ModelEditOperation.execute(this.model,e.editOperations[t]);return this.future.push(e),e.beforeCursorState}return null},e.prototype.redo=function(){if(this.future.length>0){if(this.currentOpenStackElement)throw new Error("How is this possible?");for(var e=this.future.pop(),t=0;t<e.editOperations.length;t++)e.editOperations[t]=n.ModelEditOperation.execute(this.model,e.editOperations[t]);return this.past.push(e),e.afterCursorState}return null},e}();t.EditStack=i});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/editableTextModel",["require","exports","vs/editor/core/model/textModelWithDecorations","vs/editor/core/model/editStack","vs/editor/editor","vs/editor/core/model/modelLine","vs/editor/core/position","vs/editor/core/constants"],function(e,t,n,i,o,r,s,a){var u=function(e){function t(t,n,o){t.push(a.EventType.ModelContentChanged),e.call(this,t,n,o),this._commandManager=new i.EditStack(this),this._isUndoing=!1,this._isRedoing=!1,this._hasEditableRange=!1,this._editableRangeId=null}return __extends(t,e),t.prototype.dispose=function(){this._commandManager=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,n){e.prototype._resetValue.call(this,t,n),this._commandManager=new i.EditStack(this),this._hasEditableRange=!1,this._editableRangeId=null},t.prototype.change=function(e){var t=this;return this._withDeferredEvents(function(n){var i={insertText:function(e,i,o){return"undefined"==typeof o&&(o=!1),t._insertText(n.changedMarkers,e,i,o)},deleteText:function(e){return t._deleteText(n.changedMarkers,e)}},o=e(i);return i.insertText=null,i.deleteText=null,o})},t.prototype.pushStackElement=function(){this._commandManager.pushStackElement()},t.prototype.pushEditOperations=function(e,t,n){return this._commandManager.pushEditOperation(e,t,n)},t.prototype.undo=function(){this._isUndoing=!0;var e=this._commandManager.undo();return this._isUndoing=!1,e},t.prototype.redo=function(){this._isRedoing=!0;var e=this._commandManager.redo();return this._isRedoing=!1,e},t.prototype.setEditableRange=function(e){this._commandManager.clear(),this._hasEditableRange&&(this.removeTrackedRange(this._editableRangeId),this._editableRangeId=null,this._hasEditableRange=!1),e&&(this._hasEditableRange=!0,this._editableRangeId=this.addTrackedRange(e,0))},t.prototype.hasEditableRange=function(){return this._hasEditableRange},t.prototype.getEditableRange=function(){return this._hasEditableRange?this.getTrackedRange(this._editableRangeId):this.getFullModelRange()},t.prototype.callInsertTextOnLine=function(e,t,n,i,o,r){this._lines[t].insertText(e,n,i,o),r&&(this._invalidateLine(t),this._increaseVersionId(),this.emitModelContentChangedLineChangedEvent(t+1))},t.prototype.callDeleteTextOnLine=function(e,t,n,i,o,r,s){var a=this._lines[t].removeText(e,n,i,o,r);return s&&(this._invalidateLine(t),this._increaseVersionId(),this.emitModelContentChangedLineChangedEvent(t+1)),a},t.prototype._updateLineNumbers=function(e,t){var n,i,o,r,s,a,u,l=this._lines;for(i=t-1,o=l.length;o>i;i++){for(n=l[i],a=n.markers,r=0,s=a.length;s>r;r++)u=a[r],e[u.id]=!0,u.oldLineNumber=u.oldLineNumber||n.lineNumber;
n.lineNumber=i+1}},t.prototype._insertText=function(e,t,n,i){var o=this.validatePosition(t);if(0===n.length)return o;for(var r=n.split("\n"),s=0,a=r.length;a>s;s++)"\r"===r[s].charAt(r[s].length-1)&&(r[s]=r[s].substring(0,r[s].length-1));return 1===r.length?this._insertTextOneLine(e,o,r[0],i):this._insertTextMultiline(e,o,r,i)},t.prototype._insertTextOneLine=function(e,t,n,i){return this.callInsertTextOnLine(e,t.lineNumber-1,t.column,{text:n,markers:null},i,!0),new s.Position(t.lineNumber,t.column+n.length)},t.prototype._insertTextMultiline=function(e,t,n,i){var o,a,u=this.callDeleteTextOnLine(e,t.lineNumber-1,t.column,Number.MAX_VALUE,!0,i,!1);this.callInsertTextOnLine(e,t.lineNumber-1,t.column,{text:n[0],markers:null},i,!0);var l="";for(o=1,a=n.length-1;a>o;o++)l+=n[o]+"\n",this._lines.splice(t.lineNumber+o-1,0,new r.ModelLine(t.lineNumber+o,n[o]));var c=t.lineNumber-1+n.length-1;return this._lines.splice(c,0,new r.ModelLine(c+1,n[n.length-1])),this.callInsertTextOnLine(e,c,Number.MAX_VALUE,u,i,!1),this._updateLineNumbers(e,c+2),this._increaseVersionId(),this.emitModelContentChangedLinesInsertedEvent(t.lineNumber-1+2,c+1,l+this._lines[c].text),new s.Position(c+1,1+n[n.length-1].length)},t.prototype._deleteText=function(e,t){var n=this.validateRange(t);return n.isEmpty()?{position:new s.Position(n.startLineNumber,n.startColumn),deletedText:""}:n.startLineNumber===n.endLineNumber?this._deleteTextOneLine(e,n):this._deleteTextMultiline(e,n)},t.prototype._deleteTextOneLine=function(e,t){var n=this.callDeleteTextOnLine(e,t.startLineNumber-1,t.startColumn,t.endColumn,!1,!1,!0);return{position:new s.Position(t.startLineNumber,t.startColumn),deletedText:n.text}},t.prototype._deleteWholeLines=function(e,t,n,i){var o,r,s,a,u,l=[],c=[];for(o=n;i>=o;o++){for(l.push(this._lines[o].text),a=this._lines[o].markers,r=0,s=a.length;s>r;r++)u=a[r],e[u.id]=!0,u.oldColumn=u.oldColumn||u.column,u.oldLineNumber=u.oldLineNumber||o+1,u.column=t;c=c.concat(a)}return this._lines.splice(n,i-n+1),{deletedText:l.join("\n"),deletedMarkers:c}},t.prototype._deleteTextMultiline=function(e,t){if(1===t.startColumn){var n=this._lines[t.startLineNumber-1].state,i=this._deleteWholeLines(e,t.startColumn,t.startLineNumber-1,t.endLineNumber-2);this._increaseVersionId(),this.emitModelContentChangedLinesDeletedEvent(t.startLineNumber,t.endLineNumber-1);var o=this.callDeleteTextOnLine(e,t.startLineNumber-1,1,t.endColumn,!1,!1,!0).text;this._lines[t.startLineNumber-1].addMarkers(i.deletedMarkers),this._lines[t.startLineNumber-1].state=n,this._updateLineNumbers(e,t.startLineNumber);var r=i.deletedText+"\n"+o}else{var a=this.callDeleteTextOnLine(e,t.startLineNumber-1,t.startColumn,Number.MAX_VALUE,!1,!1,!1).text,u=this.callDeleteTextOnLine(e,t.endLineNumber-1,t.endColumn,Number.MAX_VALUE,!0,!1,!1),i=this._deleteWholeLines(e,t.startColumn,t.startLineNumber,t.endLineNumber-1);this._lines[t.startLineNumber-1].addMarkers(i.deletedMarkers),this.callInsertTextOnLine(e,t.startLineNumber-1,Number.MAX_VALUE,u,!1,!0),this._updateLineNumbers(e,t.startLineNumber+1),this._increaseVersionId(),this.emitModelContentChangedLinesDeletedEvent(t.startLineNumber+1,t.endLineNumber);var r=a+"\n"+i.deletedText}return{position:new s.Position(t.startLineNumber,t.startColumn),deletedText:r}},t.prototype.emitModelContentChangedLineChangedEvent=function(e){var t={changeType:a.EventType.ModelContentChangedLineChanged,lineNumber:e,detail:this._lines[e-1].text,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing};this.emit(a.EventType.ModelContentChanged,t)},t.prototype.emitModelContentChangedLinesDeletedEvent=function(e,t){var n={changeType:a.EventType.ModelContentChangedLinesDeleted,fromLineNumber:e,toLineNumber:t,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing};this.emit(a.EventType.ModelContentChanged,n)},t.prototype.emitModelContentChangedLinesInsertedEvent=function(e,t,n){var i={changeType:a.EventType.ModelContentChangedLinesInserted,fromLineNumber:e,toLineNumber:t,detail:n,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing};this.emit(a.EventType.ModelContentChanged,i)},t}(n.TextModelWithDecorations);t.EditableTextModel=u});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/model",["require","exports","vs/base/severity","vs/base/strings","vs/base/objects","vs/base/network","vs/editor/core/constants","vs/editor/core/range","vs/platform/markers/markers","vs/editor/editor","vs/editor/core/model/editableTextModel"],function(e,t,n,i,o,r,s,a,u,l,c){var d=0,h=1e3,p=function(e){function t(t,n,i,o){"undefined"==typeof i&&(i=null),"undefined"==typeof o&&(o=null),e.call(this,[s.EventType.ModelPropertiesChanged,s.EventType.ModelDispose],t,n),d++,this.id="$model"+d,("undefined"==typeof i||null===i)&&(i=new r.URL("inMemory://model/"+d)),this._markerService=o,this._associatedResource=i,this._markerDecorationIds={},this.getMode().bindModel(this),this._extraProperties={},this._addWordRegExpProperty()}return __extends(t,e),t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this.emit(s.EventType.ModelDispose),this.getMode()&&this.getMode().unbindModel(this),e.prototype.dispose.call(this)},t.prototype._resetMode=function(t,n){e.prototype._resetMode.call(this,t,n),t.oldMode.unbindModel(this),this._addWordRegExpProperty(),t.newMode.bindModel(this)},t.prototype.getAssociatedResource=function(){return this._associatedResource},t.prototype.setProperty=function(e,t){this._extraProperties[e]=t,this.emitModelPropertiesChangedEvent()},t.prototype.getProperty=function(e){return this._extraProperties.hasOwnProperty(e)?this._extraProperties[e]:null},t.prototype.getProperties=function(){return o.clone(this._extraProperties)},t.prototype.findMatches=function(e,t,n,o,r){if(""===e)return[];var s=null;try{s=i.createRegExp(e,n,o,r)}catch(u){return[]}if(i.regExpLeadsToEndlessLoop(s))return[];var l;return l=a.isIRange(t)?t:t?this.getEditableRange():this.getFullModelRange(),this.doFindMatches(l,s)},t.prototype._addWordRegExpProperty=function(){var e=this._getWordDefinition();this.setProperty("$WordDefinitionForMirrorModel",{source:e.source,flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")})},t.prototype.doFindMatches=function(e,t){var n,i=[],o=0;if(e.startLineNumber===e.endLineNumber)return n=this._lines[e.startLineNumber-1].text.substring(e.startColumn-1,e.endColumn-1),o=this.findMatchesInLine(t,n,e.startLineNumber,e.startColumn-1,o,i),i;n=this._lines[e.startLineNumber-1].text.substring(e.startColumn-1),o=this.findMatchesInLine(t,n,e.startLineNumber,e.startColumn-1,o,i);for(var r=e.startLineNumber+1;r<e.endLineNumber&&h>=o;r++)o=this.findMatchesInLine(t,this._lines[r-1].text,r,0,o,i);return h>=o&&(n=this._lines[e.endLineNumber-1].text.substring(0,e.endColumn-1),o=this.findMatchesInLine(t,n,e.endLineNumber,0,o,i)),i},t.prototype.findMatchesInLine=function(e,t,n,i,o,r){var s;do if(s=e.exec(t),s&&(r.push(new a.Range(n,s.index+1+i,n,s.index+1+s[0].length+i)),o++,o>h))return o;while(s);return o},t.prototype.emitModelPropertiesChangedEvent=function(){var e={properties:this._extraProperties};this.emit(s.EventType.ModelPropertiesChanged,e)},t.prototype._publishMarkerUpdate=function(e){var t=u.createMarkerUpdateFromJson(e);null!==this._markerService&&this._markerService.change(function(e){e.processMarkerUpdate(t)});for(var n=t.getId(),i=this._markerDecorationIds[n]||[],o=[],r=t.getMarkers(),s=0;s<r.length;s++){var a=r[s];"object"==typeof a.range&&o.push({range:a.range,options:this._createDecorationOption(a)})}this._markerDecorationIds[t.getId()]=this.deltaDecorations(i,o)},t.prototype._createDecorationOption=function(e){var t=null;"string"==typeof e.text?t=[{isText:!0,text:e.text}]:Array.isArray(e.text)?t=e.text:e.text&&(t=[e.text]);var i=e.severity===n.Severity.Error;return{stickiness:1,isOverlay:!0,className:i?s.ClassName.EditorErrorDecoration:s.ClassName.EditorWarningDecoration,htmlMessage:t,overviewRuler:{color:i?"rgba(255,18,18,0.7)":"rgba(18,136,18,0.7)",position:4},glyphMarginClassName:i?"glyph-error":"glyph-warning"}},t}(c.EditableTextModel);t.Model=p});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/uuid",["require","exports"],function(e,t){function n(e,t){return"function"==typeof e[t]&&0===e[t].length}function i(e){return e instanceof a||e instanceof u||n(e,"asHex",0)&&n(e,"equals",1)}function o(){return new u}function r(e){if(!l.test(e))throw new Error("invalid uuid");return new a(e)}function s(){return t.v4().asHex()}t.isUUID=i;var a=function(){function e(e){this._value=e}return e.prototype.asHex=function(){return this._value},e.prototype.equals=function(e){return this.asHex()===e.asHex()},e}(),u=function(e){function t(){e.call(this,[t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}return __extends(t,e),t._oneOf=function(e){var t=Math.floor(e.length*Math.random());return e[t]},t._randomHex=function(){return t._oneOf(t._chars)},t._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],t._timeHighBits=["8","9","a","b"],t}(a);t.empty=new a("00000000-0000-0000-0000-000000000000"),t.v4=o;var l=/^[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}$/;t.parse=r,t.generateUuid=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/referenceSearch/referenceSearchModel",["require","exports","vs/base/collections","vs/base/network","vs/base/strings","vs/base/uuid","vs/base/hash","vs/base/eventEmitter","vs/editor/core/range"],function(e,t,n,i,o,r,s,a,u){!function(e){e.OnReferenceRangeChanged="refrence.rangeChanged",e.CurrentReferenceChanged="reference.currentChanged"}(t.EventType||(t.EventType={}));var l=t.EventType,c=function(){function e(e,t){this._parent=e,this._id=r.generateUuid(),this._range=t.range,this._preview=t.preview}return e.prototype.equals=function(t){return t===this?!0:t instanceof e?t.resource.equals(this.resource)?u.equalsRange(t.range,this.range)?!0:!1:!1:!1},e.prototype.hashCode=function(){return this.resource.hashCode()+u.hashCode(this.range)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resource",{get:function(){return this._parent.resource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directory",{get:function(){return this._parent.directory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range=e,this.parent.parent.emit(l.OnReferenceRangeChanged,this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),e}();t.OneReference=c;var d=function(){function e(e,t,n){this._parent=e,this._resource=t,this._path=n,this._children=[]}return Object.defineProperty(e.prototype,"id",{get:function(){return this._resource.toExternal()},enumerable:!0,configurable:!0}),e.prototype.hashCode=function(){return s.computeMurmur2StringHashCode(this._resource.toExternal())},e.prototype.equals=function(t){return t===this?!0:t instanceof e?t.resource.equals(this.resource)?!0:!1:!1},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resource",{get:function(){return this._resource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._path.substring(this._path.lastIndexOf("/")+1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directory",{get:function(){var e=this._path.lastIndexOf("/");return e>0?this._path.substring(0,e):"/"},enumerable:!0,configurable:!0}),e}();t.FileReferences=d;var h=function(e){function t(t,r){var s=this;e.call(this,[l.CurrentReferenceChanged,l.OnReferenceRangeChanged]),this._requestService=r;var a=n.groupBy(n.fromArray(t),function(e){var t=new i.URL(e.resourceUrl);return new d(s,t,s._requestService.getPath("root",t)||t.getPath())});a.every(function(e){for(var t=0,n=e.value.length;n>t;t++)e.key.children.push(new c(e.key,e.value[t]));return!0}),this._references=a.keys.toArray(),this._references.sort(function(e,t){return o.localeCompare(e.directory,t.directory)||o.localeCompare(e.name,t.name)})}return __extends(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this._references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentReference",{get:function(){return this._currentReference},set:function(e){this._currentReference=e,this.emit(l.CurrentReferenceChanged,this)},enumerable:!0,configurable:!0}),t.prototype.nextReference=function(e){var t=e.parent.children.indexOf(e),n=e.parent.children.length,i=e.parent.parent.children.length;return n>t+1||1===i?e.parent.children[(t+1)%n]:(t=e.parent.parent.children.indexOf(e.parent),t=(t+1)%i,e.parent.parent.children[t].children[0])},t.prototype.findReference=function(e,t){for(var n=0,i=this._references.length;i>n;n++){var o=this._references[n];if(o.resource.equals(e)){var r;if(o.children.some(function(e){return u.containsPosition(e.range,t)?(r=e,!0):!1}),r)return r}}return null},t}(a.EventEmitter);t.Model=h}),define("vs/css!vs/editor/contrib/referenceSearch/referenceSearchWidget",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/referenceSearch/referenceSearchWidget",["require","exports","vs/nls!vs/editor/editor.main","vs/base/collections","vs/base/lifecycle","vs/base/dom/dom","vs/base/lib/winjs.base","vs/base/strings","vs/base/network","vs/base/errors","vs/base/dom/builder","vs/base/ui/widgets/tree/treeImpl","vs/base/ui/widgets/tree/treeDefaults","vs/base/ui/widgets/leftRightWidget/leftRightWidget","vs/base/ui/widgets/countBadge/countBadge","vs/editor/core/range","vs/editor/editor","vs/editor/core/config/config","vs/editor/core/constants","vs/editor/core/embeddedCodeEditorWidget","vs/editor/core/model/model","vs/editor/contrib/zoneWidget/peekViewWidget","./referenceSearchModel","vs/css!./referenceSearchWidget"],function(e,t,n,i,o,r,s,a,u,l,c,d,h,p,f,g,m,v,y,_,b,C,w){var E=function(){function e(e,t){var n=this;this.editor=e,this.model=t,this.decorationSet={},this.decorationIgnoreSet=new i.HashSet,this.callOnDispose=[],this.callOnModelChange=[],this.callOnDispose.push(this.editor.addListener(y.EventType.ModelChanged,function(){return n.onModelChanged()})),this.onModelChanged()}return e.prototype.dispose=function(){o.cAll(this.callOnDispose),this.removeDecorations()},e.prototype.onModelChanged=function(){this.removeDecorations(),o.cAll(this.callOnModelChange);var e=this.editor.getModel();if(e)for(var t=0,n=this.model.children.length;n>t;t++)if(this.model.children[t].resource.equals(e.getAssociatedResource()))return this.addDecorations(this.model.children[t]),void 0},e.prototype.addDecorations=function(t){var n=this;this.callOnModelChange.push(this.editor.getModel().addListener(y.EventType.ModelDecorationsChanged,function(e){return n.onDecorationChanged(e)})),this.editor.getModel().changeDecorations(function(i){for(var o=0,r=t.children.length;r>o;o++){var s=t.children[o];if(!n.decorationIgnoreSet.contains(s)){var a=i.addDecoration(s.range,e.DecorationOptions);n.decorationSet[a]=s}}})},e.prototype.onDecorationChanged=function(e){for(var t=this,n=e.addedOrChangedDecorations,o=[],r=0,s=n.length;s>r;r++){var a=i.lookup(this.decorationSet,n[r].id);if(a){var u=n[r].range,l=!1;if(!g.equalsRange(u,a.range)){if(g.spansMultipleLines(u))l=!0;else{var c=a.range.endColumn-a.range.startColumn,d=u.endColumn-u.startColumn;c!==d&&(l=!0)}l?(this.decorationIgnoreSet.add(a),o.push(n[r].id)):a.range=u}}}this.editor.changeDecorations(function(e){for(;o.length>0;){var n=o.pop();e.removeDecoration(n),delete t.decorationSet[n]}})},e.prototype.removeDecorations=function(){var e=this;this.editor.changeDecorations(function(t){for(var n=Object.keys(e.decorationSet);n.length>0;)t.removeDecoration(n.pop())}),this.decorationSet={}},e.DecorationOptions={stickiness:1,className:"reference-decoration"},e}(),S=function(){function e(){}return e.prototype.getId=function(e,t){return t instanceof w.Model?"root":t instanceof w.FileReferences?t.id:t instanceof w.OneReference?t.id:void 0},e.prototype.hasChildren=function(e,t){return t instanceof w.FileReferences||t instanceof w.Model},e.prototype.getChildren=function(e,t){var n=[];return t instanceof w.Model?n=t.children:t instanceof w.FileReferences&&(n=t.children),s.Promise.as(n)},e.prototype.getParent=function(e,t){var n=null;return t instanceof w.FileReferences?n=t.parent:t instanceof w.OneReference&&(n=t.parent),s.Promise.as(n)},e}(),L=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.onClick=function(n,i,o){if(i instanceof w.FileReferences)return o.preventDefault(),o.stopPropagation(),this.expandCollapse(n,i);var r=e.prototype.onClick.call(this,n,i,o);return o.ctrlKey||o.metaKey?n.emit(t.Events.OPEN_TO_SIDE,i):n.emit(2===o.detail?t.Events.SELECTED:t.Events.FOCUSED,i),r},t.prototype.expandCollapse=function(e,t){return e.isExpanded(t)?e.collapse(t).done(null,l.onUnexpectedError):e.expand(t).done(null,l.onUnexpectedError),!0},t.prototype.onEscape=function(){return!1},t.prototype.onEnter=function(n,i){var o=n.getFocus();if(o instanceof w.FileReferences)return this.expandCollapse(n,o);var r=e.prototype.onEnter.call(this,n,i);return i.ctrlKey||i.metaKey?n.emit(t.Events.OPEN_TO_SIDE,o):n.emit(t.Events.SELECTED,o),r},t.prototype.onUp=function(t,n){return e.prototype.onUp.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.onPageUp=function(t,n){return e.prototype.onPageUp.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.onLeft=function(t,n){return e.prototype.onLeft.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.onDown=function(t,n){return e.prototype.onDown.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.onPageDown=function(t,n){return e.prototype.onPageDown.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.onRight=function(t,n){return e.prototype.onRight.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.fakeFocus=function(e){var n=e.getFocus();e.setSelection([n]),e.emit(t.Events.FOCUSED,n)},t.Events={FOCUSED:"events/custom/focused",SELECTED:"events/custom/selected",OPEN_TO_SIDE:"events/custom/opentoside"},t}(h.DefaultController),x=function(){function e(e,t){this.editor=e,this.requestService=t}return e.prototype.getHeight=function(){return 1.2*this.editor.getConfiguration().lineHeight},e.prototype.render=function(e,t,i){if(r.clearNode(i),t instanceof w.FileReferences){var o=t,s=c.$(".reference-file");new p.LeftRightWidget(s,function(e){var t=o.resource.toExternal();return c.$("a.name.plain").href(t).title(t).text(o.name).appendTo(e),c.$("span.directory").text(o.directory).appendTo(e),null},function(e){var t=o.children.length;return new f.CountBadge(e,t,t>1?n.localize("vs_editor_contrib_referenceSearch_referenceSearchWidget",0,t):n.localize("vs_editor_contrib_referenceSearch_referenceSearchWidget",1,t))}),s.appendTo(i)}else if(t instanceof w.OneReference){var u=t,l=c.$(".reference"),d=u.preview.text.split(/\r\n|\r|\n/g),h=20,g=d[u.preview.range.startLineNumber-1],m=g.replace(/^\s*/g,""),v=g.length-m.length,y=u.preview.range.startColumn-1-v,_=u.preview.range.endColumn-1-v,b=new Array;b.push("<span>"),b.push(m.substring(y-h,y)),b.push("</span>"),b.push('<span class="referenceMatch">'),b.push(m.substring(y,_)),b.push("</span>"),b.push("<span>"),b.push(m.substring(_,_+h)),b.push("</span>"),l.innerHtml(b.join(a.empty)).appendTo(i)}return null},e}(),T=function(e){function t(t,n,i,o){e.call(this,o,{frameColor:"#007ACC",showFrame:!1,showArrow:!0}),this.editorService=t,this.requestService=n,this.instantiationService=i.createChild({peekViewService:this}),this.callOnModel=[],this.tree=null,this.treeContainer=null,this.preview=null,this.previewContainer=null,this.previewDecorations=[],this.lastHeight=null,this.create()}return __extends(t,e),t.prototype._onTitleClick=function(e){if(this.preview&&this.preview.getModel()){var n=this.preview.getModel(),i=this.preview.getPosition().lineNumber,o=new g.Range(i,1,i,n.getLineMaxColumn(i));this.emit(t.Events.EditorDoubleClick,{reference:this.getFocusedReference(),range:o,originalEvent:e})}},t.prototype._fillBody=function(e){var t=this,i=c.$(e);i.addClass("reference-zone-widget"),i.div({class:"preview inline"},function(e){var i={scrollBeyondLastLine:!1,scrollbar:v.Config.editor.scrollbar,overviewRulerLanes:2};t.preview=t.instantiationService.createInstance(_.EmbeddedCodeEditorWidget,e.getHTMLElement(),i,t.editor),t.previewContainer=e.hide(),t.previewNotAvailableMessage=new b.Model(n.localize("vs_editor_contrib_referenceSearch_referenceSearchWidget",2),null)}),i.div({class:"tree inline"},function(e){var n=new x(t.editor,t.requestService),i={dataSource:new S,renderer:n,controller:new L},o={allowHorizontalScroll:!1,twistiePixels:20};t.tree=new d.Tree(e.getHTMLElement(),i,o),t.treeContainer=e.hide()})},t.prototype._doLayoutBody=function(t){e.prototype._doLayoutBody.call(this,t);var n=t+"px";n!==this.lastHeight&&(this.treeContainer.style({height:n}),this.previewContainer.style({height:n}),this.tree.layout(t),this.preview.layout(),this.lastHeight=n)},t.prototype.onWidth=function(){this.preview.layout()},t.prototype.setModel=function(e){var n=this;if(o.disposeAll(this.callOnModel),this.model=e,this.model){this.decorationsManager=new E(this.preview,this.model),this.callOnModel.push(this.decorationsManager),this.callOnModel.push(this.model.addListener2(w.EventType.OnReferenceRangeChanged,function(e){n.tree.refresh(e)})),this.callOnModel.push(this.tree.addListener2(L.Events.FOCUSED,function(e){e instanceof w.OneReference&&n.showReferencePreview(e)})),this.callOnModel.push(this.tree.addListener2(L.Events.SELECTED,function(e){e instanceof w.OneReference&&(n.showReferencePreview(e),n.model.currentReference=e)})),this.callOnModel.push(this.tree.addListener2(L.Events.OPEN_TO_SIDE,function(e){e instanceof w.OneReference&&n.editorService.openEditor({resource:e.resource,options:{selection:e.range}},!0)}));var i=1===this.model.children.length?this.model.children[0]:this.model;this.tree.setInput(i).then(function(){n.tree.setSelection([n.model.currentReference])}).done(null,l.onUnexpectedError),this.callOnModel.push(this.preview.addListener2(y.EventType.MouseDown,function(e){2===e.event.detail&&n.emit(t.Events.EditorDoubleClick,{reference:n.getFocusedReference(),range:e.target.range,originalEvent:e.event})}))}},t.prototype.getFocusedReference=function(){var e=this.tree.getFocus();if(e instanceof w.OneReference)return e.resource;if(e instanceof w.FileReferences){var t=e;if(t.children.length>0)return t.children[0].resource}return null},t.prototype.focus=function(){this.tree.DOMFocus()},t.prototype.showAtReference=function(e){r.addClass(this.container,"results-loaded"),this.treeContainer.show(),this.previewContainer.show(),this.preview.layout(),this.tree.layout(),this.position&&g.containsPosition(e.range,this.position)?this.show(this.position,18):this.show(e.range,18),this.focus()},t.prototype.showReferencePreview=function(e){var t=this;this.editorService.resolveEditorModel({resource:e.resource}).done(function(i){i?(t.preview.setModel(i.textEditorModel),t.preview.setSelection(g.create(e.range).collapseToStart(),!0,!0,!0)):t.preview.setModel(t.previewNotAvailableMessage),e.resource.getScheme()!==u.schemas.inMemory?t.setTitle(e.name,e.directory):t.setTitle(n.localize("vs_editor_contrib_referenceSearch_referenceSearchWidget",3))},l.onUnexpectedError),this.tree.reveal(e),this.tree.setSelection([e]),this.tree.setFocus(e)},t.prototype.revealCurrentReference=function(){var e=this.model.currentReference.resource,t=this.model.currentReference.range;return this.editorService.openEditor({resource:e,options:{selection:t}})},t.prototype.dispose=function(){this.setModel(null),o.disposeAll([this.decorationsManager,this.preview,this.previewNotAvailableMessage,this.tree]),e.prototype.dispose.call(this)},t.Events={EditorDoubleClick:"editorDoubleClick"},t}(C.PeekViewWidget);t.ReferenceWidget=T});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/referenceSearch/referenceSearch",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","vs/platform/services","vs/base/lifecycle","vs/base/errors","vs/editor/core/constants","vs/editor/editorExtensions","./referenceSearchWidget","./referenceSearchModel"],function(e,t,n,i,o,r,s,a,u,l,c){var d=function(e){function t(t,i,o){e.call(this,t,i,o,u.Behaviour.WidgetFocus|u.Behaviour.ShowInContextMenu|u.Behaviour.UpdateOnCursorPositionChange),this.requestIdPool=0,this.modelRevealing=!1,this.callOnClear=[],this.label=n.localize("vs_editor_contrib_referenceSearch_referenceSearch",0),this.editorService=t.editorService,this.requestService=t.requestService,this.messageService=t.messageService,this.instantiationService=t.instantiationService,this.peekViewService=t.peekViewService}return __extends(t,e),t.prototype.getGroupId=function(){return"references/all"},t.prototype.isSupported=function(){var e=this.editor.getModel().getMode();return!!e&&!!e.referenceSupport},t.prototype.getEnablementState=function(){if(this.peekViewService&&this.peekViewService.isActive)return!1;var e=this.editor.getModel(),t=this.editor.getSelection().getStartPosition();return e.getMode().referenceSupport.canFindReferences(e.getLineTokens(t.lineNumber),t.column-1)},t.prototype.run=function(){var e=this,t=this.editor.getSelection(),o=this.widget?this.widget.position:null,r=this.clear();if(r&&o&&t.containsPosition(o))return null;var u=++this.requestIdPool,d=this.editor.getModel(),h=this.editor.getModel().getMode().referenceSupport,p=this.telemetryService.start("findReferences",{mode:d.getMode().getId()});return h.findReferences(d.getAssociatedResource(),t.getStartPosition()).then(function(n){if(u!==e.requestIdPool)return p.stop(),void 0;if(0===n.length)return p.stop(),void 0;e.model=new c.Model(n,e.requestService),e.model.currentReference=e.model.findReference(d.getAssociatedResource(),t.getStartPosition());var i=e.model.addListener(c.EventType.CurrentReferenceChanged,function(){e.model.currentReference&&(e.modelRevealing=!0,e.widget.revealCurrentReference().done(function(){e.modelRevealing=!1,window.setTimeout(function(){e.editorService.getActiveEditor().getControl()===e.editor&&(e.widget.showReferencePreview(e.model.currentReference),e.widget.showAtReference(e.model.currentReference))},0)},s.onUnexpectedError))});e.callOnClear.push(i),e._startTime=Date.now(),e.widget.setModel(e.model),e.widget.showAtReference(e.model.currentReference),e.widget.showReferencePreview(e.model.nextReference(e.model.currentReference)),p.stop()},function(t){e.messageService.show(2,t),p.stop()}),this.callOnClear.push(this.handlerService.bind({key:"Escape"},function(){return e.clear()},{once:!0,id:"referenceSearch"}).dispose),this.callOnClear.push(this.editor.addListener(a.EventType.ModelModeChanged,function(){e.clear()})),this.callOnClear.push(this.editor.addListener(a.EventType.ModelChanged,function(){e.modelRevealing||e.clear()})),this.widget=new l.ReferenceWidget(this.editorService,this.requestService,this.instantiationService,this.editor),this.widget.setTitle(n.localize("vs_editor_contrib_referenceSearch_referenceSearch",1)),this.widget.show(t,18),this.callOnClear.push(this.widget.addListener(l.ReferenceWidget.Events.EditorDoubleClick,function(t){t.reference&&(e.editorService.openEditor({resource:t.reference,options:{selection:t.range}},t.originalEvent.ctrlKey||t.originalEvent.metaKey).done(null,s.onUnexpectedError),t.originalEvent.ctrlKey||t.originalEvent.metaKey||e.clear())})),i.Promise.as(this.widget)},t.prototype.clear=function(){this.telemetryService.log("zoneWidgetShown",{mode:"reference search",elapsedTime:Date.now()-this._startTime}),r.cAll(this.callOnClear),this.model=null;var e=!1;return this.widget&&(this.widget.dispose(),this.widget=null,e=!0),this.editor.focus(),this.requestIdPool+=1,e},t.ID="editor.actions.referenceSearch.trigger",t}(u.EditorAction);t.ReferenceAction=d,u.registerEditorActionContribution(d,d.ID,n.localize("vs_editor_contrib_referenceSearch_referenceSearch",2),{shift:!0,key:"F12"})}),define("vs/base/paths",["require","exports"],function(e,t){function n(e,n){e=t.normalize(e),n=t.normalize(n);for(var i=e.split(t.sep),o=n.split(t.sep);i.length>0&&o.length>0&&i[0]===o[0];)i.shift(),o.shift();for(var r=0,s=i.length;s>r;r++)o.unshift("..");return o.join(t.sep)}function i(e){for(var n=e.split(/[\\\/]/),i=0,o=n.length;o>i;i++)"."===n[i]&&n[i+1]&&(n.splice(i,1),i--);return n.join(t.sep)}function o(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===t||0===~t?".":e.substring(0,~t)}function r(e){var n=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===n?e:~n===e.length-1?t.basename(e.substring(0,e.length-1)):e.substr(~n+1)}function s(e){var t=~e.lastIndexOf(".");return t?e.substring(~t):""}function a(){for(var e=[],t=0;t<arguments.length-0;t++)e[t]=arguments[t+0];for(var n=[],i=/\w+:\/\//.exec(e[0]),o="/"===e[0][0],r=0;r<e.length;r++)n.push.apply(n,e[r].split("/"));for(var r=0;r<n.length;r++){var s=n[r];"."===s||0===s.length?(n.splice(r,1),r-=1):".."===s&&n[r-1]&&".."!==n[r-1]&&(n.splice(r-1,2),r-=2)}return i&&n.splice(1,0,""),o&&n.unshift(""),n.join("/")}function u(e){return"/"===e[0]}function l(e){return"."===e||"./"===e}t.sep="/",t.relative=n,t.normalize=i,t.dirname=o,t.basename=r,t.extname=s,t.join=a,t.isAbsolute=u,t.isCurrentDirectory=l}),define("vs/css!vs/editor/contrib/links/links",["vs/css!vs/editor/editor.main"],{}),define("vs/editor/contrib/links/links",["require","exports","vs/nls!vs/editor/editor.main","vs/base/paths","vs/base/lib/winjs.base","vs/base/env","vs/base/errors","vs/editor/core/constants","vs/base/network","vs/editor/editorExtensions","vs/editor/editor","vs/css!./links"],function(e,t,n,i,o,r,s,a,u,l){var c=function(){function e(e,t){this.link=e,this.decorationId=t.addDecoration({startLineNumber:this.link.range.startLineNumber,startColumn:this.link.range.startColumn,endLineNumber:this.link.range.startLineNumber,endColumn:this.link.range.endColumn},this.getOptions(!1))}return e.prototype.dispose=function(e){e.removeDecoration(this.decorationId)},e.prototype.getOptions=function(e){var t="";return this.link.extraInlineClassName&&(t=this.link.extraInlineClassName+" "),t+=e?d.CLASS_NAME_ACTIVE:d.CLASS_NAME,{stickiness:1,inlineClassName:t,hoverMessage:this.link.openInEditor?d.HOVER_MESSAGE_EDITOR:d.HOVER_MESSAGE_GENERAL}
},e.prototype.activate=function(e){e.changeDecorationOptions(this.decorationId,this.getOptions(!0))},e.prototype.deactivate=function(e){e.changeDecorationOptions(this.decorationId,this.getOptions(!1))},e}(),d=function(){function e(e,t,n){var i=this;this.editor=e,this.editorService=t,this.requestService=n,this.listenersToRemove=[],this.listenersToRemove.push(e.addListener("change",function(){return i.onChange()})),this.listenersToRemove.push(e.addListener(a.EventType.ModelChanged,function(){return i.onModelChanged()})),this.listenersToRemove.push(e.addListener(a.EventType.ModelModeChanged,function(){return i.onModelChanged()})),this.listenersToRemove.push(this.editor.addListener(a.EventType.MouseUp,function(e){return i.onEditorMouseUp(e)})),this.listenersToRemove.push(this.editor.addListener(a.EventType.MouseMove,function(e){return i.onEditorMouseMove(e)})),this.listenersToRemove.push(this.editor.addListener(a.EventType.KeyDown,function(e){return i.onEditorKeyDown(e)})),this.listenersToRemove.push(this.editor.addListener(a.EventType.KeyUp,function(e){return i.onEditorKeyUp(e)})),this.timeoutPromise=null,this.computePromise=null,this.currentOccurences={},this.activeLinkDecorationId=null,this.beginCompute()}return e.prototype.onModelChanged=function(){this.lastMouseEvent=null,this.currentOccurences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()},e.prototype.onChange=function(){var t=this;this.timeoutPromise||(this.timeoutPromise=o.TPromise.timeout(e.RECOMPUTE_TIME),this.timeoutPromise.then(function(){t.timeoutPromise=null,t.beginCompute()}))},e.prototype.beginCompute=function(){var e=this;if(this.editor.getModel()){var t=this.editor.getModel().getMode();t.linkSupport&&(this.computePromise=t.linkSupport.computeLinks(this.editor.getModel().getAssociatedResource()),this.computePromise.then(function(t){return e.updateDecorations(t)}))}},e.prototype.updateDecorations=function(e){var t=this;this.editor.changeDecorations(function(n){for(var i in t.currentOccurences)if(t.currentOccurences.hasOwnProperty(i)){var o=t.currentOccurences[i];o.dispose(n)}if(t.currentOccurences={},t.activeLinkDecorationId=null,e)for(var r=0;r<e.length;r++){var o=new c(e[r],n);t.currentOccurences[o.decorationId]=o}})},e.prototype.onEditorKeyDown=function(t){t.key===e.TRIGGER_KEY_VALUE&&this.lastMouseEvent&&this.onEditorMouseMove(this.lastMouseEvent,t)},e.prototype.onEditorKeyUp=function(t){t.key===e.TRIGGER_KEY_VALUE&&this.cleanUpActiveLinkDecoration()},e.prototype.onEditorMouseMove=function(e,t){var n=this;if(this.lastMouseEvent=e,this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();var i=this.getLinkOccurence(e);i&&this.editor.changeDecorations(function(e){i.activate(e),n.activeLinkDecorationId=i.decorationId})}else this.cleanUpActiveLinkDecoration()},e.prototype.cleanUpActiveLinkDecoration=function(){if(this.activeLinkDecorationId){var e=this.currentOccurences[this.activeLinkDecorationId];e&&this.editor.changeDecorations(function(t){e.deactivate(t)}),this.activeLinkDecorationId=null}},e.prototype.onEditorMouseUp=function(e){if(this.isEnabled(e)){var t=this.getLinkOccurence(e);if(t){var n=t.link;if(n.openInEditor&&this.editorService){var o=i.isAbsolute(n.url)?i.join(this.requestService.getRequestUrl("root","",!0),n.url):n.url,r=o.indexOf("#"),a=-1,l=-1;if(r>=0){var c=o.substr(r+1),d=c.split(",");d.length>0&&(a=Number(d[0])),d.length>1&&(l=Number(d[1])),o=o.substr(0,r)}var h={resource:new u.URL(o)};a>=0&&(h.options={selection:{startLineNumber:a,startColumn:l}}),this.editorService.openEditor(h,e.event.altKey).done(null,s.onUnexpectedError)}else{var p=this.editor.getModel().getValueInRange(n.range);window.open(p)}}}},e.prototype.getLinkOccurence=function(e){for(var t=e.target.position,n=this.editor.getModel().getDecorationsInRange({startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:t.lineNumber,endColumn:t.column},null,!0),i=0;i<n.length;i++){var o=n[i],r=this.currentOccurences[o.id];if(r)return r}return null},e.prototype.isEnabled=function(t,n){return 6===t.target.type&&(t.event[e.TRIGGER_MODIFIER]||n&&n.key===e.TRIGGER_KEY_VALUE)&&!!this.editor.getModel().getMode().linkSupport},e.prototype.stop=function(){this.timeoutPromise&&(this.timeoutPromise.cancel(),this.timeoutPromise=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},e.prototype.destroy=function(){this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.stop()},e.RECOMPUTE_TIME=1e3,e.TRIGGER_KEY_VALUE=r.browser.isMacintosh?"Meta":"Ctrl",e.TRIGGER_MODIFIER=r.browser.isMacintosh?"metaKey":"ctrlKey",e.HOVER_MESSAGE_GENERAL=r.browser.isMacintosh?n.localize("vs_editor_contrib_links_links",0):n.localize("vs_editor_contrib_links_links",1),e.HOVER_MESSAGE_EDITOR=r.browser.isMacintosh?n.localize("vs_editor_contrib_links_links",2):n.localize("vs_editor_contrib_links_links",3),e.CLASS_NAME="detected-link",e.CLASS_NAME_ACTIVE="detected-link-active",e}(),h=function(){function e(e,t){this.linkDetector=new d(t,e.editorService,e.requestService)}return e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.linkDetector.destroy()},e.ID="editor.contrib.LinkDetector",e}();l.registerEditorContribution(h)});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","vs/editor/editorExtensions"],function(e,t,n,i,o){var r=function(e){function t(t,n,i){e.call(this,t,n,i,o.Behaviour.TextFocus)}return __extends(t,e),t.prototype.run=function(){return this.editor.getConfiguration().tabFocusMode?this.editor.updateOptions({tabFocusMode:!1}):this.editor.updateOptions({tabFocusMode:!0}),i.TPromise.as(!0)},t.ID="editor.actions.toggleTabFocusMode",t}(o.EditorAction);o.registerEditorActionContribution(r,r.ID,n.localize("vs_editor_contrib_toggleTabFocusMode_toggleTabFocusMode",0),{ctrlCmd:!0,key:"M"})}),define("vs/editor/contrib/wordHighlighter/wordHighlighter",["require","exports","vs/editor/core/constants","vs/editor/core/range","vs/editor/editorExtensions","vs/editor/editor"],function(e,t,n,i,o){var r=function(){function e(e){var t=this;this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.workerRequestValue=null,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.model=this.editor.getModel(),this.toUnhook=[],this.toUnhook.push(e.addListener(n.EventType.CursorPositionChanged,function(e){t._onPositionChanged(e)})),this.toUnhook.push(e.addListener(n.EventType.ModelChanged,function(){t._stopAll(),t.model=t.editor.getModel()})),this.toUnhook.push(e.addListener("change",function(){t._stopAll()})),this._lastWordRange=null,this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.workerRequestValue=null,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return e.prototype._removeDecorations=function(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]))},e.prototype._stopAll=function(){this._lastWordRange=null,this._removeDecorations(),-1!==this.renderDecorationsTimer&&(window.clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)},e.prototype._onPositionChanged=function(e){var t=this;if("explicit"!==e.reason)return this._stopAll(),void 0;if(!this.model.getMode().occurrencesSupport)return this._stopAll(),void 0;var n=this.editor.getSelection();if(n.startLineNumber!==n.endLineNumber)return this._stopAll(),void 0;var o=n.startLineNumber,r=n.startColumn,s=n.endColumn,a=this.model.getWordAtPosition({lineNumber:o,column:r},!0,!0);if(!a||a.startColumn>r||a.endColumn<s)return this._stopAll(),void 0;for(var u=new i.Range(o,a.startColumn,o,a.endColumn),l=this._lastWordRange&&this._lastWordRange.equalsRange(u),c=0,d=this._decorationIds.length;!l&&d>c;c++){var h=this.model.getDecorationRange(this._decorationIds[c]);h&&h.startLineNumber===o&&h.startColumn<=r&&h.endColumn>=s&&(l=!0)}if(this.lastCursorPositionChangeTime=(new Date).getTime(),l)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(window.clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var p=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=this.model.getMode().occurrencesSupport.findOccurrences(this.model.getAssociatedResource(),this.editor.getPosition()),this.workerRequest.then(function(e){p===t.workerRequestTokenId&&(t.workerRequestCompleted=!0,t.workerRequestValue=e,t._beginRenderDecorations())}).done()}this._lastWordRange=u},e.prototype._beginRenderDecorations=function(){var e=this,t=(new Date).getTime(),n=this.lastCursorPositionChangeTime+250;t>=n?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=window.setTimeout(function(){e.renderDecorations()},n-t)},e.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;for(var e=[],t=0,n=this.workerRequestValue.length;n>t;t++){var i=this.workerRequestValue[t],o="wordHighlight",r="rgba(246, 185, 77, 0.7)";i.kind&&"write"===i.kind&&(o+="Strong",r="rgba(249, 206, 130, 0.7)"),e.push({range:i.range,options:{stickiness:1,isOverlay:!1,className:o,overviewRuler:{color:r,position:2}}})}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e)},e.prototype.destroy=function(){for(this._stopAll();this.toUnhook.length>0;)this.toUnhook.pop()()},e}(),s=function(){function e(e,t){this.wordHighligher=new r(t)}return e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.wordHighligher.destroy()},e.ID="editor.contrib.wordHighlighter",e}();o.registerEditorContribution(s)}),define("vs/base/diagnostics",["require","exports"],function(e,t){function n(e,t){return function(){}}var i=self;i.Monaco||(i.Monaco={}),i.Monaco.Diagnostics={};i.Monaco.Diagnostics;t.register=n}),define("vs/platform/handlerService",["require","exports","vs/nls!vs/editor/editor.main","vs/base/diagnostics","vs/base/env","vs/base/dom/dom","vs/base/dom/keyboardEvent"],function(e,t,n,i,o,r,s){function a(e,t){"undefined"==typeof t&&(t=!1);var i=[];return(e.ctrlCmd&&!o.browser.isMacintosh||e.winCtrl&&o.browser.isMacintosh)&&i.push(t?n.localize("vs_platform_handlerService",0):"Ctrl"),e.shift&&i.push(t?n.localize("vs_platform_handlerService",1):"Shift"),e.alt&&i.push(t?n.localize("vs_platform_handlerService",2):"Alt"),(e.ctrlCmd&&o.browser.isMacintosh||e.winCtrl&&!o.browser.isMacintosh)&&i.push(t?n.localize("vs_platform_handlerService",3):"Meta"),i.push(e.key),t?i.join("+"):i.join("-")}t.asString=a;var u=i.register("HandlerServiceActivationVerbose",function(e,t,n){console.log(e+" > "+t.id+" > "+n)}),l=i.register("HandlerServiceFocusVisual",function(e,t){e.style.outlineWidth="5px",e.style.outlineStyle="solid",e.style.outlineColor=t===!0?"yellowgreen":t===!1?"red":"gray"}),c=i.register("HandlerServiceFocusTextual",function(e){console.log("got FOCUS @"+(new Date).getTime(),e)}),d=function(){function e(e,t){this.keyBinding=e,this.onEmpty=t,this.data=[]}return e.prototype.push=function(e,t){var n=this;"undefined"==typeof t&&(t={});var i,o,r=this;return i=function(){for(var n=[],i=0;i<arguments.length-0;i++)n[i]=arguments[i+0];if(!this.active)return!1;var s=!1;try{s=e.apply(e,n),s===!0&&t.once&&o.dispose()}catch(a){throw o.dispose(),a}return u(r.keyBinding,t,"handled?"+s),s},i.$debugId=t.id,i.active=!0,this.data.unshift(i),o={activate:function(){u(n.keyBinding,t,"activated"),i.active=!0},deactivate:function(){u(n.keyBinding,t,"deactivated"),i.active=!1},dispose:function(){u(n.keyBinding,t,"disposed");var e=n.data.indexOf(i);-1!==e&&(n.data.splice(e,1),0===n.data.length&&n.onEmpty())}}},e.prototype.trigger=function(){for(var e=[],t=0;t<arguments.length-0;t++)e[t]=arguments[t+0];for(var n=0;n<this.data.length;n++){var i=this.data[n].apply(this.data[n],e);if(i===!0)return!0}return!1},e}();t.HandlerList=d;var h=function(){function e(e){this.bindings=e}return e.prototype.activate=function(){this.bindings.forEach(function(e){e.activate()})},e.prototype.deactivate=function(){this.bindings.forEach(function(e){e.deactivate()})},e.prototype.dispose=function(){this.bindings.forEach(function(e){e.dispose()})},e}();t.CompositeBinding=h;var p=function(){function e(e){var t=this;this.map={},this.unbind=r.addListener(e,r.EventType.KEY_DOWN,function(e){var n=new s.KeyboardEvent(e);t.dispatch(n)})}return e.prototype.dispatch=function(e){var t=e.asString(),n=this.map[t],i=!1;return n instanceof d&&(i=n.trigger(e)),i&&(e.preventDefault(),e.stopPropagation()),i},e.prototype.ensureHandlerList=function(e){var n=this,i=t.asString(e),o=this.map[i];return o||(o=new d(i,function(){delete n.map[i]}),this.map[i]=o),o},e.prototype.bind=function(e,t,n){return"undefined"==typeof n&&(n={once:!1,id:"unkown"}),this.ensureHandlerList(e).push(t,n)},e.prototype.bindGroup=function(e,n){var i=this;"undefined"==typeof n&&(n={once:!1,id:"unkownGroup"});var o,r=[],s=function(e,s){var a=s;n.once&&(a=function(){var i=!1;try{i=s.apply(s,arguments),i===!0&&(u(t.asString(e),n,"handled?true > GROUP disposal"),o.dispose())}catch(r){throw o.dispose(),r}return i}),r.push(i.bind(e,a))};return e(s),o=new h(r)},e.prototype.dispose=function(){this.unbind(),this.map=null},e}();t.HandlerService=p;var f=function(){function e(e){this.delegate=e,this.bindings=[]}return e.prototype.bind=function(e,t,n){var i=this.delegate.bind(e,t,n);return this.bindings.push(i),i},e.prototype.bindGroup=function(e,t){var n=this.delegate.bindGroup(e,t);return this.bindings.push(n),n},e.prototype.capture=function(){return new h(this.bindings)},e}();t.HandlerServiceWrapper=f;var g=function(){function e(e,t){var n=this;this.domNode=e,this.scopeNode=t,this.handlerActive=!1,l(this.scopeNode),this.unbind=r.addListener(this.domNode,r.EventType.FOCUS,function(e){c(e.target),n.update(r.isAncestor(e.target,n.scopeNode))},!0)}return e.prototype.injectHandlerService=function(e){this.delegate=e},e.prototype.update=function(e){this.handlerActive!==e&&(this.handlerActive=e),l(this.scopeNode,e)},e.prototype.bind=function(e,t,n){return this.delegate.bind(e,this.wrapHandler(t),n)},e.prototype.bindGroup=function(e,t){var n=this;return this.delegate.bindGroup(function(t){var i=function(e,i){t(e,n.wrapHandler(i))};e(i)},t)},e.prototype.wrapHandler=function(e){var t=this,n=function(){return t.handlerActive!==!0?!1:e.apply(e,arguments)};return n},e.prototype.dispose=function(){this.unbind()},e}();t.FocusTrackingHandlerService=g}),define("vs/base/sortedList",["require","exports","vs/base/arrays"],function(e,t,n){var i=function(){function e(t){this.keys=[],this.values=[],this.comparator=t||e.DEFAULT_COMPARATOR}return Object.defineProperty(e.prototype,"count",{get:function(){return this.keys.length},enumerable:!0,configurable:!0}),e.prototype.getValueByIndex=function(e){return e>=0&&e<this.values.length?this.values[e]:null},e.prototype.getKey=function(e){return e>=0&&e<this.keys.length?this.keys[e]:null},e.prototype.getKeys=function(){return new r(this.keys)},e.prototype.getValue=function(e){if(!e)throw new Error("Key must be defined.");var t=this.indexOfKey(e);return t>=0?this.values[t]:null},e.prototype.getValues=function(){return new r(this.values)},e.prototype.indexOfKey=function(e){if(!e)throw new Error("Key must be defined.");return n.binarySearch(this.keys,e,this.comparator)},e.prototype.add=function(e,t){if(!e||!t)throw new Error("Key and value must be defined.");for(var n=0;n<this.keys.length&&this.comparator(e,this.keys[n])>0;)n++;this.keys.splice(n,0,e),this.values.splice(n,0,t)},e.prototype.remove=function(e){if(!e)throw new Error("Key must be defined.");var t=this.indexOfKey(e);return t>=0&&(this.values.splice(t,1),this.keys.splice(t,1)),t>=0},e.prototype.getIterator=function(){return new o(this.keys,this.values)},e.DEFAULT_COMPARATOR=function(e,t){return t>e?-1:e>t?1:0},e}();t.SortedList=i;var o=function(){function e(e,t){this.keys=e,this.values=t,this.index=-1}return Object.defineProperty(e.prototype,"current",{get:function(){return this.index<0||this.keys.length<this.index?null:{key:this.keys[this.index],value:this.values[this.index]}},enumerable:!0,configurable:!0}),e.prototype.moveNext=function(){return this.index++,this.index<this.keys.length},e.prototype.hasNext=function(){return this.index+1<this.keys.length},e.prototype.reset=function(){this.index=-1},e.prototype.dispose=function(){this.keys=null,this.values=null},e}(),r=function(){function e(e){this.values=e,this.index=-1}return Object.defineProperty(e.prototype,"current",{get:function(){return this.index<0||this.values.length<this.index?null:this.values[this.index]},enumerable:!0,configurable:!0}),e.prototype.moveNext=function(){return this.index++,this.index<this.values.length},e.prototype.hasNext=function(){return this.index+1<this.values.length},e.prototype.reset=function(){this.index=-1},e.prototype.dispose=function(){this.values=null},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/contextmenu/contextmenu",["require","exports","vs/nls!vs/editor/editor.main","vs/base/dom/dom","vs/base/lib/winjs.base","vs/editor/editorExtensions","vs/editor/editor","vs/platform/handlerService","vs/base/ui/widgets/actionbar","vs/base/lifecycle","vs/base/types","vs/editor/core/constants","vs/base/sortedList"],function(e,t,n,i,o,r,s,a,u,l,c,d,h){var p=function(){function e(e,t){var n=this;this.contextMenuService=e.contextMenuService,this.contextViewService=e.contextViewService,this._editor=t,this._toDispose=[],this._contextMenuIsBeingShownCount=0,this._toDispose.push(this._editor.addListener2(d.EventType.ContextMenu,function(e){return n._onContextMenu(e)}))}return e.prototype._onContextMenu=function(e){if(this._editor.getConfiguration().contextmenu&&12!==e.target.type&&(e.event.preventDefault(),6===e.target.type||7===e.target.type||1===e.target.type)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);var t;1!==e.target.type&&(t={x:e.event.posx,y:e.event.posy+1}),this.showContextMenu(t)}},e.prototype.showContextMenu=function(e){if(this.contextMenuService){var t=this._editor.getPosition(),n=this._editor.getModel();if(t&&n){this._editor.revealPosition(t,!1,!1);var i=this._getMenuActions();i.length>0&&this._doShowContextMenu(i,e)}}},e.prototype._getMenuActions=function(){var e=this._editor.getModel();if(!e)return[];var t=this._editor.getActions(),n=t.filter(function(e){return c.isFunction(e.shouldShowInContextMenu)&&e.shouldShowInContextMenu()&&e.isSupported()});return this._prepareActions(n)},e.prototype._prepareActions=function(e){var t=new h.SortedList;e.forEach(function(e){var n=e.getGroupId().split("/"),i=t.getValue(n[0]);i||(i=new h.SortedList,t.add(n[0],i)),i.add(n[1]||n[0],e)});for(var n=[],i=t.getIterator();i.moveNext();){for(var o=i.current.value,r=o.getIterator();r.moveNext();){var s=r.current.value;n.push(s)}i.hasNext()&&n.push(new u.Separator)}return n},e.prototype._doShowContextMenu=function(e,t){var r=this;this._editor.beginForcedWidgetFocus();var s=this._editor.getConfiguration().hover;this._editor.updateOptions({hover:!1});var l=t;if(!l||c.isUndefinedOrNull(l.x)||c.isUndefinedOrNull(l.y)){var d=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),h=i.getDomNodePosition(this._editor.getDomNode()),p=h.left+d.left,f=h.top+d.top+d.height;l={x:l&&!c.isUndefinedOrNull(l.x)?l.x:p,y:l&&!c.isUndefinedOrNull(l.y)?l.y:f}}this.contextMenuService.showContextMenu(l,{getActions:function(){return o.TPromise.as(e)},getActionItem:function(e){var t=e;if(c.isFunction(t.getDescriptor)){var i=t.getDescriptor(),o=[];if(i.keybindings){for(var r=0;r<i.keybindings.length;r++)o.push(a.asString(i.keybindings[r],!0));if(o.length>0)return new u.ActionItem(e,e,{label:!0,keybinding:o.join(n.localize("vs_editor_contrib_contextmenu_contextmenu",0))})}}var s=e;return c.isFunction(s.getActionItem)?s.getActionItem():null},onHide:function(){r._contextMenuIsBeingShownCount--,r._editor.focus(),r._editor.endForcedWidgetFocus(),r._editor.updateOptions({hover:s})}})},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._contextMenuIsBeingShownCount>0&&this.contextViewService.hideContextView(),this._toDispose=l.disposeAll(this._toDispose)},e.ID="editor.contrib.contextmenu",e}(),f=function(e){function t(t,n,i){e.call(this,t,n,i,r.Behaviour.TextFocus)}return __extends(t,e),t.prototype.run=function(){var e=this.editor.getContribution(p.ID);return e?(e.showContextMenu(),o.Promise.as(null)):o.Promise.as(null)},t.ID="editor.action.showContextMenu",t}(r.EditorAction);r.registerEditorContribution(p),r.registerEditorActionContribution(f,f.ID,n.localize("vs_editor_contrib_contextmenu_contextmenu",1),{shift:!0,key:"F10"})}),define("vs/editor/contrib/clipboard/lib/zeroclipboard",[],function(){return{createClipboardWriter:function(){return{dispose:function(){}}},isSupported:!1}}),define("vs/css!vs/editor/contrib/clipboard/clipboard",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/clipboard/clipboard",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","vs/editor/editorExtensions","vs/editor/editor","./lib/zeroclipboard","vs/base/ui/widgets/actionbar","vs/base/env","vs/editor/core/range","vs/editor/core/internalConstants","vs/editor/core/constants","vs/css!./clipboard"],function(e,t,n,i,o,r,s,a,u,l,c,d){function h(e,t,n){return u.browser.isIE11orEarlier&&document.queryCommandSupported(n)&&t?t:s.isSupported&&e?e:null}function p(e,t,n,i,r){var s=h(e,t,n);s&&o.registerEditorActionContribution(s,i,r)}var f=function(e){function t(t,n){e.call(this,t,n),this._toDispose=null,this._postponeDispose=!1}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),!this._postponeDispose&&this._toDispose&&(this._toDispose.dispose(),this._toDispose=null)},t.prototype.render=function(t){var n=this;e.prototype.render.call(this,t);var i=this.$e.getHTMLElement();this._toDispose=s.createClipboardWriter(i,function(){return n._postponeDispose=!0,n._action.run()},function(){n._toDispose&&(n._toDispose.dispose(),n._toDispose=null)}),t.appendChild(i)},t}(a.ActionItem),g=function(e){function t(t,n,i,o){var r=this;e.call(this,t,n,i,o),this.toUnhook.push(this.editor.addListener(d.EventType.CursorSelectionChanged,function(){r.resetEnablementState()}))}return __extends(t,e),t.prototype.getEnablementState=function(){return!this.editor.getSelection().isEmpty()},t.prototype._getPlainTextToCopy=function(){var e=u.browser.isWindows?"\r\n":"\n",t=u.browser.isWindows?2:1,n=this.editor.getSelections();n=n.slice(0).sort(l.compareRangesUsingStarts);for(var i=[],o=0;o<n.length;o++)i.push(this.editor.getModel().getValueInRange(n[o],t));return i.join(e)},t}(o.EditorAction),m=function(e){function t(t,n,i){e.call(this,t,n,i,o.Behaviour.Writeable|o.Behaviour.WidgetFocus|o.Behaviour.ShowInContextMenu)}return __extends(t,e),t.prototype.getGroupId=function(){return"edit/cut"},t.prototype.run=function(){var e=this._getPlainTextToCopy();return this.editor.trigger(C,c.Handler.Cut,null),i.TPromise.as(e)},t.prototype.getActionItem=function(){return new f(this,this)},t}(g),v=function(e){function t(t,n,i){e.call(this,t,n,i,o.Behaviour.Writeable|o.Behaviour.WidgetFocus|o.Behaviour.ShowInContextMenu)}return __extends(t,e),t.prototype.getGroupId=function(){return"edit/cut"},t.prototype.run=function(){return this.editor.focus(),document.execCommand("cut"),i.TPromise.as(!0)},t}(g),y=function(e){function t(t,n,i){e.call(this,t,n,i,o.Behaviour.WidgetFocus|o.Behaviour.ShowInContextMenu)}return __extends(t,e),t.prototype.getGroupId=function(){return"edit/copy"},t.prototype.run=function(){return i.TPromise.as(this._getPlainTextToCopy())},t.prototype.getActionItem=function(){return new f(this,this)},t}(g),_=function(e){function t(t,n,i){e.call(this,t,n,i,o.Behaviour.WidgetFocus|o.Behaviour.ShowInContextMenu)}return __extends(t,e),t.prototype.getGroupId=function(){return"edit/copy"},t.prototype.run=function(){return this.editor.focus(),document.execCommand("copy"),i.TPromise.as(!0)},t}(g),b=function(e){function t(t,n,i){e.call(this,t,n,i,o.Behaviour.Writeable|o.Behaviour.WidgetFocus|o.Behaviour.ShowInContextMenu)}return __extends(t,e),t.prototype.getGroupId=function(){return"edit/paste"},t.prototype.run=function(){return this.editor.focus(),document.execCommand("paste"),null},t}(o.EditorAction),C="editor.actions.clipboardCutAction",w="editor.actions.clipboardCopyAction",E="editor.actions.clipboardPasteAction";p(m,v,"cut",C,n.localize("vs_editor_contrib_clipboard_clipboard",0)),p(y,_,"copy",w,n.localize("vs_editor_contrib_clipboard_clipboard",1)),p(null,b,"paste",E,n.localize("vs_editor_contrib_clipboard_clipboard",2))}),define("vs/css!vs/editor/contrib/iPadShowKeyboard/iPadShowKeyboard",["vs/css!vs/editor/editor.main"],{}),define("vs/editor/contrib/iPadShowKeyboard/iPadShowKeyboard",["require","exports","vs/base/env","vs/editor/editorExtensions","vs/base/dom/dom","vs/editor/editor","vs/base/lifecycle","vs/css!./iPadShowKeyboard"],function(e,t,n,i,o,r,s){var a=function(){function e(e,t){n.browser.isIPad&&!t.getConfiguration().readOnly&&(this.widget=new u(t))}return e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.widget&&(this.widget.dispose(),this.widget=null)},e.ID="editor.contrib.iPadShowKeyboard",e}();t.iPadShowKeyboard=a;var u=function(){function e(e){this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._toDispose=[],this._toDispose.push(o.addDisposableListener(this._domNode,"touchstart",function(){e.focus()})),this._toDispose.push(o.addDisposableListener(this._domNode,"focus",function(){e.focus()})),e.addOverlayWidget(this)}return e.prototype.dispose=function(){this._toDispose=s.disposeAll(this._toDispose)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:1}},e.ID="editor.contrib.ShowKeyboardWidget",e}();i.registerEditorContribution(a)}),define("vs/editor/modes/autoIndentation/autoIndentation",["require","exports","vs/editor/modes/modes"],function(e,t){var n=function(){function e(e){this.brackets=e}return e.prototype.getElectricBrackets=function(){for(var e,t=[],n=0;n<this.brackets.length;n++)e=this.brackets[n],e.isElectric&&t.push(e.close);return t},e.prototype.onEnter=function(e,t,n){for(var i=0;i<t.length&&t[i].startIndex<n;)i++;for(var o=t[i-1];i>0&&""===o.type;)i--,o=t[i-1];if(i>0&&this.tokenTypeIsBracket(o.type)&&1===o.bracket){for(var r=t[i];i<t.length&&""===r.type;)i++,r=t[i];return void 0!==r&&r.type===o.type&&-1===r.bracket?{indentAction:2}:{indentAction:1}}return null},e.prototype.onElectricCharacter=function(e,t,n){var i;for(i=0;n>i;i++)if(" "!==e[i]&&"	"!==e[i])return null;return{matchBracketType:this.tokenTypeFromChar(e[n])}},e.prototype.tokenTypeFromChar=function(e){for(var t,n=0;n<this.brackets.length;n++)if(t=this.brackets[n],e===t.open||e===t.close)return t.tokenType;return null},e.prototype.bracketTypeFromChar=function(e){for(var t,n=0;n<this.brackets.length;n++){if(t=this.brackets[n],e===t.open)return 1;if(e===t.close)return-1}return null},e.prototype.tokenTypeIsBracket=function(e){for(var t=0;t<this.brackets.length;t++)if(e===this.brackets[t].tokenType)return!0;return!1},e.prototype.characterIsBracket=function(e){for(var t,n=0;n<this.brackets.length;n++)if(t=this.brackets[n],e===t.open||e===t.close)return!0;return!1},e}();t.Brackets=n}),define("vs/editor/modes/monarch/monarchTypes",["require","exports"],function(){}),define("vs/editor/modes/monarch/monarchCommon",["require","exports"],function(e,t){function n(){return"0.96  (2013.01.22)"}function i(e){return e?!1:!0}function o(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function r(e){return e.replace(g,function(e){var t=f[e];return t?t:""})}function s(e){return e.replace(/[&<>'"]/g,"_")}function a(e,t){e.textContent+=t}function u(e,t){if(e){var n=document.getElementById(e);n&&(a(n,t+"\n"),n.scrollTop&&(n.scrollTop=n.scrollHeight))}console&&console.log(t)}function l(e,t){u(e.logConsole,t)}function c(e,t){if(!e)throw new Error(t);if(t=e.displayName+" highlighter: "+t,e.logConsole){var n=document.getElementById(e.logConsole);n&&a(n,t+"\n")}if(!e.noThrow)throw new Error(t);console&&console.log(t)}function d(e,n,i,o,r){var s=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,a=null;return n.replace(s,function(n,s,u,l,c,d,h){return t.empty(u)?t.empty(l)?!t.empty(c)&&c<o.length?t.fixCase(e,o[c]):!t.empty(h)&&e&&"string"==typeof e[h]?e[h]:(null===a&&(a=r.split("."),a.unshift(r)),!t.empty(d)&&d<a.length?t.fixCase(e,a[d]):""):t.fixCase(e,i):"$"})}function h(e,t){for(;t&&t.length>0;){var n=e.tokenizer[t];if(n)return n;var i=t.lastIndexOf(".");t=0>i?null:t.substr(0,i)}return null}function p(e,t){for(;t&&t.length>0;){var n=e.stateNames[t];if(n)return!0;var i=t.lastIndexOf(".");t=0>i?null:t.substr(0,i)}return!1}t.monarchPath="vs/editor/modes/monarch/monarch",t.version=n,t.empty=i,t.fixCase=o;var f={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"},g=new RegExp("["+Object.keys(f).join("")+"]","g");t.htmlEscape=r,t.sanitize=s,t.log=l,t.throwError=c,t.substituteMatches=d,t.findRules=h,t.stateExists=p}),define("vs/editor/modes/monarch/monarchCompile",["require","exports","vs/base/objects","vs/editor/modes/modes","vs/editor/modes/monarch/monarchCommon"],function(e,t,n,i,o){function r(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;var n;for(n in t)if(t.hasOwnProperty(n)&&!e(t[n]))return!1;return!0}function s(e,t,n){return"boolean"==typeof e?e:(n&&(e||void 0===t)&&n(),void 0===t?null:t)}function a(e,t,n){return"string"==typeof e?e:(n&&(e||void 0===t)&&n(),void 0===t?null:t)}function u(e,t,n){return a(e,t,n)}function l(e,t,n){return r(function(e){return"string"==typeof e},e)?e.slice(0):"string"==typeof e?[e]:(n&&(e||void 0===t)&&n(),void 0===t?null:t)}function c(e,t){if("string"!=typeof t)return null;for(var n=0;t.indexOf("@")>=0&&5>n;)n++,t=t.replace(/@(\w+)/g,function(n,i){var r="";return"string"==typeof e[i]?r=e[i]:e[i]&&e[i]instanceof RegExp?r=e[i].source:void 0===e[i]?o.throwError(e,"language definition does not contain attribute '"+i+"', used at: "+t):o.throwError(e,"attribute reference '"+i+"' must be a string, used at: "+t),o.empty(r)?"":"(?:"+r+")"});return new RegExp(t,e.ignoreCase?"i":"")}function d(e,t,n,i){if(0>i)return e;if(i<t.length)return t[i];if(i>=100){i-=100;var o=n.split(".");if(o.unshift(n),i<o.length)return o[i]}return null}function h(e,t,i,s){var a=-1,u=i,l=i.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);l&&(l[3]&&(a=parseInt(l[3]),l[2]&&(a+=100)),u=l[4]);var h="~",p=u;u&&0!==u.length?/^\w*$/.test(p)?h="==":(l=u.match(/^(@|!@|~|!~|==|!=)(.*)$/),l&&(h=l[1],p=l[2])):(h="!=",p="");var f;if("~"!==h&&"!~"!==h||!/^(\w|\|)*$/.test(p))if("@"===h||"!@"===h){var g=e[p];g||o.throwError(e,"the @ match target '"+p+"' is not defined, in rule: "+t),r(function(e){return"string"==typeof e},g)||o.throwError(e,"the @ match target '"+p+"' must be an array of strings, in rule: "+t);var m=n.createKeywordMatcher(g,e.ignoreCase);f=function(e){return"@"===h?m(e):!m(e)}}else if("~"===h||"!~"===h)if(p.indexOf("$")<0){var v=c(e,"^"+p+"$");f=function(e){return"~"===h?v.test(e):!v.test(e)}}else f=function(t,n,i,r){var s=c(e,"^"+o.substituteMatches(e,p,n,i,r)+"$");
return s.test(t)};else if(p.indexOf("$")<0){var y=o.fixCase(e,p);f=function(e){return"=="===h?e===y:e!==y}}else{var y=o.fixCase(e,p);f=function(t,n,i,r){var s=o.substituteMatches(e,y,n,i,r);return"=="===h?t===s:t!==s}}else{var m=n.createKeywordMatcher(p.split("|"),e.ignoreCase);f=function(e){return"~"===h?m(e):!m(e)}}return-1===a?{name:i,value:s,test:function(e,t,n,i){return f(e,e,t,n,i)}}:{name:i,value:s,test:function(e,t,n,i){var o=d(e,t,n,a);return f(o?o:"",e,t,n,i)}}}function p(e,t,n){if(n){if("string"==typeof n)return n;if(n.token||""===n.token){if("string"!=typeof n.token)return o.throwError(e,"a 'token' attribute must be of type string, in rule: "+t),{token:""};var i={token:n.token};if(n.token.indexOf("$")>=0&&(i.tokenSubst=!0),"string"==typeof n.bracket&&("@open"===n.bracket?i.bracket=1:"@close"===n.bracket?i.bracket=-1:o.throwError(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t)),n.next)if("string"!=typeof n.next)o.throwError(e,"the next state must be a string value in rule: "+t);else{var r=n.next;/^(@pop|@push|@popall)$/.test(r)||("@"===r[0]&&(r=r.substr(1)),r.indexOf("$")<0&&(o.stateExists(e,o.substituteMatches(e,r,"",[],""))||o.throwError(e,"the next state '"+n.next+"' is not defined in rule: "+t))),i.next=r}return"number"==typeof n.goBack&&(i.goBack=n.goBack),"string"==typeof n.switchTo&&(i.switchTo=n.switchTo),"string"==typeof n.log&&(i.log=n.log),"string"==typeof n.nextEmbedded&&(i.nextEmbedded=n.nextEmbedded,e.usesEmbedded=!0),i}if(Array.isArray(n)){var s,a=[];for(s in n)n.hasOwnProperty(s)&&(a[s]=p(e,t,n[s]));return{group:a}}if(n.cases){var u,l=[];for(u in n.cases)if(n.cases.hasOwnProperty(u)){var c=p(e,t,n.cases[u]);"@default"===u||"@"===u||""===u?l.push({test:null,value:c,name:u}):"@eos"===u?l.push({test:function(e,t,n,i){return i},value:c,name:u}):l.push(h(e,t,u,c))}var d=e.defaultToken;return{test:function(e,t,n,i){var o;for(o in l)if(l.hasOwnProperty(o)){var r=!l[o].test||l[o].test(e,t,n,i);if(r)return l[o].value}return d}}}return o.throwError(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t),""}return{token:""}}function f(e){function t(r,u,l){var c;for(c in l)if(l.hasOwnProperty(c)){var d=l[c],h=d.include;if(h)"string"!=typeof h&&o.throwError(n,"an 'include' attribute must be a string at: "+r),"@"===h[0]&&(h=h.substr(1)),e.tokenizer[h]||o.throwError(n,"include target '"+h+"' is not defined at: "+r),t(r+"."+h,u,e.tokenizer[h]);else{var p=new g(r);if(Array.isArray(d)&&d.length>=1&&d.length<=3)if(p.setRegex(i,d[0]),d.length>=3)if("string"==typeof d[1])p.setAction(i,{token:d[1],next:d[2]});else if("object"==typeof d[1]){var f=d[1];f.next=d[2],p.setAction(i,f)}else o.throwError(n,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+r);else p.setAction(i,d[1]);else d.regex||o.throwError(n,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+r),d.name&&(p.name=a(d.name)),d.matchOnlyAtStart&&(p.matchOnlyAtLineStart=s(d.matchOnlyAtLineStart)),p.setRegex(i,d.regex),p.setAction(i,d.action);u.push(p)}}}if(!e||"object"!=typeof e)throw new Error("Monarch: expecting a language definition object");if("string"!=typeof e.name)throw new Error("Monarch: a language definition must include a string 'name' attribute");var n={};n.name=e.name,n.displayName=a(e.displayName,n.name),n.logConsole=a(e.logConsole),n.noThrow=!1,n.maxStack=100,n.mimeTypes=l(e.mimeTypes,void 0,function(){o.throwError(n,"the attribute 'mimeTypes' must be defined as an array of strings")}),n.start=a(e.start),n.fileExtensions=l(e.fileExtensions),n.ignoreCase=s(e.ignoreCase,!1),n.lineComment=a(e.lineComment,"//"),n.blockCommentStart=a(e.blockCommentStart,"/*"),n.blockCommentEnd=a(e.blockCommentEnd,"*/"),n.tokenPostfix=a(e.tokenPostfix,"."+n.name),n.defaultToken=a(e.defaultToken,"source",function(){o.throwError(n,"the 'defaultToken' must be a string")}),n.editorOptions=e.editorOptions?e.editorOptions:null,n.workerDescriptor=e.workerDescriptor,n.usesEmbedded=!1,n.wordDefinition=e.wordDefinition||void 0,!n.lineComment&&e.lineComments&&("string"==typeof e.lineComments?n.lineComment=e.lineComments:"string"==typeof e.lineComments[0]&&(n.lineComment=e.lineComments[0]));var i=e;i.name=n.name,i.displayName=n.displayName,i.ignoreCase=n.ignoreCase,i.noThrow=n.noThrow,i.usesEmbedded=n.usesEmbedded,i.stateNames=e.tokenizer,i.logConsole=n.logConsole,i.defaultToken=n.defaultToken,e.tokenizer&&"object"==typeof e.tokenizer||o.throwError(n,"a language definition must define the 'tokenizer' attribute as an object"),n.tokenizer=[];var r;for(r in e.tokenizer)if(e.tokenizer.hasOwnProperty(r)){n.start||(n.start=r);var d=e.tokenizer[r];n.tokenizer[r]=new Array,t("tokenizer."+r,n.tokenizer[r],d)}n.usesEmbedded=i.usesEmbedded,n.nonWordTokens=l(e.nonWordTokens,["delimiter","delimiter.parenthesis","delimiter.curly","delimiter.square","delimiter.angle"],function(){o.throwError(n,"the 'nonWordTokens' attribute must be an array of strings")});var h;for(h in n.nonWordTokens)n.nonWordTokens.hasOwnProperty(h)&&(n.nonWordTokens[h]+=n.tokenPostfix);e.brackets?Array.isArray(e.brackets)||o.throwError(n,"the 'brackets' attribute must be defined as an array"):e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];var p=[];for(var f in e.brackets)if(e.brackets.hasOwnProperty(f)){var m=e.brackets[f];m&&Array.isArray(m)&&3===m.length&&(m={token:m[2],open:m[0],close:m[1]}),m.open===m.close&&o.throwError(n,"open and close brackets in a 'brackets' attribute must be different: "+m.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required."),"string"==typeof m.open&&"string"==typeof m.token?p.push({token:a(m.token)+n.tokenPostfix,open:o.fixCase(n,a(m.open)),close:o.fixCase(n,a(m.close))}):o.throwError(n,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}n.brackets=p;var v;if(e.autoClosingPairs?(Array.isArray(e.autoClosingPairs)||o.throwError(n,"the 'autoClosingPairs' attribute must be an array of string pairs (as arrays)"),v=e.autoClosingPairs.slice(0)):v=[['"','"'],["'","'"],["@brackets"]],n.autoClosingPairs=[],v)for(var y in v)if(v.hasOwnProperty(y)){var _,b=v[y];if("@brackets"===b||"@brackets"===b[0]){var C;for(C in p)p.hasOwnProperty(C)&&p[C].open&&1===p[C].open.length&&p[C].close&&1===p[C].close.length&&(_={open:p[C].open,close:p[C].close},n.autoClosingPairs.push(_))}else Array.isArray(b)&&2===b.length&&"string"==typeof b[0]&&1===b[0].length&&"string"==typeof b[1]&&1===b[1].length?(_={open:o.fixCase(n,b[0]),close:o.fixCase(n,b[1])},n.autoClosingPairs.push(_)):"string"==typeof b.open&&1===b.open.length&&"string"==typeof b.close&&1===b.close.length?(_={open:o.fixCase(n,b.open[0]),close:o.fixCase(n,b.close[0])},n.autoClosingPairs.push(_)):o.throwError(n,"every element in an 'autoClosingPairs' array must be a pair of 1 character strings, or a '@brackets' directive")}if(e.autoIndent){var w=[];Array.isArray(e.autoIndent)||o.throwError(n,"an 'autoIndent' attribute must be an array of '{match,matchAfter}' objects");for(var E in e.autoIndent)e.autoIndent.hasOwnProperty(E)&&("string"!=typeof e.autoIndent[E].match&&o.throwError(n,"each object in the 'autoIndent' array must define a 'match' attribute"),w.push({match:c(n,e.autoIndent[E].match),matchAfter:c(n,a(e.autoIndent[E].matchAfter))}));n.autoIndent=w}if(e.autoComplete){var S=[];Array.isArray(e.autoComplete)||o.throwError(n,"an 'autoComplete' attribute must be an array of '{trigger,match,complete}' objects");for(var L in e.autoComplete)e.autoComplete.hasOwnProperty(L)&&("string"!=typeof e.autoComplete[L].triggers&&o.throwError(n,"each object in the 'autoComplete' array must define a 'triggers' attribute"),"string"!=typeof e.autoComplete[L].match&&o.throwError(n,"each object in the 'autoComplete' array must define a 'match' attribute as a regular expression string"),"string"!=typeof e.autoComplete[L].complete&&o.throwError(n,"each object in the 'autoComplete' array must define a 'complete' attribute"),S.push({triggers:o.fixCase(n,a(e.autoComplete[L].triggers)),match:c(n,e.autoComplete[L].match),complete:a(e.autoComplete[L].complete)}));n.autoComplete=S}if(e.noindentBrackets){var x=u(e.noindentBrackets,null,function(){o.throwError(n,"the 'noindentBrackets' must be a regular expression string")});n.noindentBrackets=c(n,x)}var T=[];for(var M in n.brackets)if(n.brackets.hasOwnProperty(M)){var N=n.brackets[M].close;N&&N.length>0&&(n.noindentBrackets&&n.noindentBrackets.test(N)||T.push(N.substr(N.length-1)))}for(var I in n.autoComplete)n.autoComplete.hasOwnProperty(I)&&T.push(n.autoComplete[I].triggers);return n.electricChars=T.join("")+a(e.outdentTriggers,""),n.logConsole||(n.logConsole="monarchConsole"),n.noThrow=!0,n}var g=function(){function e(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}return e.prototype.setRegex=function(e,t){var n;"string"==typeof t?n=t:t instanceof RegExp?n=t.source:o.throwError(e,"rules must start with a match string or regular expression: "+this.name),this.matchOnlyAtLineStart=n.length>0&&"^"===n[0],this.name=this.name+": "+n,this.regex=c(e,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")")},e.prototype.setAction=function(e,t){this.action=p(e,this.name,t)},e}();t.compile=f});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/modes/monarch/monarch",["require","exports","vs/platform/platform","vs/platform/services","vs/editor/modes/stream","vs/editor/modes/modes","vs/editor/modes/modesExtensions","vs/editor/modes/monarch/monarchCommon","vs/editor/modes/monarch/monarchCompile"],function(e,t,n,i,o,r,s,a,u){function l(e){return!e||""===e||/\bcomment\b/.test(e)||/\bwhite\b/.test(e)}function c(e,t){if(!t)return null;t=a.fixCase(e,t);for(var n=e.brackets,i=0;i<n.length;i++){var o=n[i];if(o.open===t)return{token:o.token,bracketType:1};if(o.close===t)return{token:o.token,bracketType:-1}}return null}function d(e,t,n){for(var i=[],o=[],r=0;r<t.length;r++)if(!l(t[r].type)){var s="";s=r<t.length-1?e.substr(t[r].startIndex,t[r+1].startIndex-t[r].startIndex):e.substr(t[r].startIndex),t[r].startIndex<n?i.push(s):o.push(s)}return{pre:" "+i.join(" ")+" ",post:" "+o.join(" ")+" "}}function h(e,t,n){return n+1<t.length?e.substr(t[n].startIndex,t[n+1].startIndex-t[n].startIndex):e.substr(t[n].startIndex)}function p(e,t,n,i){var o;if(e.autoIndent){var r=d(t,n,i);for(o=0;o<e.autoIndent.length;o++)if(!e.autoIndent[o].match||e.autoIndent[o].match.test(r.pre))return!e.autoIndent[o].matchAfter||e.autoIndent[o].matchAfter.test(r.post)?{indentAction:2}:{indentAction:1}}var s=[];for(o=0;o<n.length&&n[o].startIndex<i;o++)1===n[o].bracket?s.push(o):-1===n[o].bracket&&s.length>0&&s.pop();if(0===s.length)return null;var a=s.pop();if(e.noindentBrackets){var u=h(t,n,a);if(e.noindentBrackets.test(u))return null}return o<n.length&&-1===n[o].bracket&&n[o].type===n[a].type?{indentAction:2}:{indentAction:1}}function f(e,t,n,i){var o=null,r=null;if(e.autoComplete&&e.autoComplete.length>0){var s=a.fixCase(e,t.substr(i,1)),u=d(t,n,i+1).pre;for(f=0;f<e.autoComplete.length;f++)if(e.autoComplete[f].triggers.indexOf(s)>=0){var l=u.match(e.autoComplete[f].match);if(l){o=l[0].replace(e.autoComplete[f].match,e.autoComplete[f].complete);break}}}for(var c=0,p=0,f=0;f<n.length&&!(n[f].startIndex>i);f++)c=n[f].startIndex,p=f;if(!(-1!==n[p].bracket||e.noindentBrackets&&e.noindentBrackets.test(h(t,n,p)))){var g=!0;for(f=0;c>f;f++)if(" "!==t[f]&&"	"!==t[f]){g=!1;break}g&&(r=n[p].type)}return o||r?{matchBracketType:r,appendText:o}:null}function g(e){var t=u.compile(e),n=new b({},null,t);return w[t.name]={mode:n,mimeTypes:t.mimeTypes},n}function m(e){var t=u.compile(e),o=new b({},null,t);if(w[t.name]={mode:o,mimeTypes:t.mimeTypes},n&&n.Registry){var r=n.Registry.as(s.Extensions.EditorModes);r.registerMode(t.name,t.mimeTypes,new i.AsyncDescriptor(a.monarchPath,"MonarchMode",null,t))}return o}function v(e,t){if(!e||void 0===e.getMode)return null;var n=e.getMode(t);if(n)return n;if(e.getOrCreateMode){var i=e.getOrCreateMode(t);return i&&i.value?i.value:null}}function y(e){if(n){var t=v(n.Registry.as(s.Extensions.EditorModes),e);if(t)return t}if(w[e])return w[e].mode;var i;for(i in w)if(w.hasOwnProperty(i))for(var o=w[i],r=0;r<o.mimeTypes.length;r++)if(o.mimeTypes[r]===e)return o.mode;return null}var _=function(e){function t(n,i,o,r){e.call(this,n),this.id=t.ID++,this.lexer=i,this.stack=o?o:[i.start],this.embeddedMode=r?r:null,this.embeddedEntered=!1,this.groupActions=null,this.groupMatches=null,this.groupMatched=null,this.groupRule=null}return __extends(t,e),t.prototype.makeClone=function(){return new t(this.getMode(),this.lexer,this.stack.slice(0),this.embeddedMode)},t.prototype.equals=function(n){if(!e.prototype.equals.call(this,n))return!1;if(!(n instanceof t))return!1;var i=n;if(this.stack.length!==i.stack.length||this.lexer.name!==i.lexer.name||this.embeddedMode!==i.embeddedMode)return!1;var o;for(o in this.stack)if(this.stack.hasOwnProperty(o)&&this.stack[o]!==i.stack[o])return!1;return!0},t.prototype.tokenize=function(e,t){var n=this.stack.length,i=0,o=this.stack[0];this.embeddedEntered=!1;var r=null,s=null,u=null,l=null,d=null;if(this.groupActions)i=this.groupActions.length,r=this.groupMatches,s=this.groupMatched.shift(),u=this.groupActions.shift(),d=this.groupRule,0===this.groupActions.length&&(this.groupActions=null,this.groupMatches=null,this.groupMatched=null,this.groupRule=null);else{if(e.eos())return{type:""};var h=e.advanceToEOS();e.goBack(h.length);var p=this.lexer.tokenizer[o];if(p||(p=a.findRules(this.lexer,o)),p){d=null;var f,g=e.pos();for(f in p)if(p.hasOwnProperty(f)&&(d=p[f],(0===g||!d.matchOnlyAtLineStart)&&(r=h.match(d.regex)))){s=r[0],u=d.action;break}}else a.throwError(this.lexer,"tokenizer state is not defined: "+o)}for(r||(r=[""],s=""),u||(e.eos()||(r=[e.peek()],s=r[0]),u=this.lexer.defaultToken),e.advance(s.length);u.test;){var m=u.test(s,r,o,e.eos());u=m}var v=null;if("string"==typeof u||Array.isArray(u))v=u;else if(u.group)v=u.group;else if(null!==u.token&&void 0!==u.token){if(v=u.token,u.tokenSubst&&(v=a.substituteMatches(this.lexer,v,s,r,o)),u.nextEmbedded&&("@pop"===u.nextEmbedded?(this.embeddedMode||a.throwError(this.lexer,"cannot pop embedded mode if not inside one"),this.embeddedMode=null):this.embeddedMode?a.throwError(this.lexer,"cannot enter embedded mode from within an embedded mode"):(this.embeddedMode=a.substituteMatches(this.lexer,u.nextEmbedded,s,r,o),this.embeddedEntered=!0)),u.goBack&&e.goBack(u.goBack),u.switchTo&&"string"==typeof u.switchTo){var y=a.substituteMatches(this.lexer,u.switchTo,s,r,o);"@"===y[0]&&(y=y.substr(1)),a.findRules(this.lexer,y)?this.stack[0]=y:a.throwError(this.lexer,"trying to switch to a state '"+y+"' that is undefined in rule: "+d.name),l=null}else if(u.transform&&"function"==typeof u.transform)this.stack=u.transform(this.stack),l=null;else if(u.next)if("@push"===u.next)this.stack.length>=this.lexer.maxStack?a.throwError(this.lexer,"maximum tokenizer stack size reached: ["+this.stack[0]+","+this.stack[1]+",...,"+this.stack[this.stack.length-2]+","+this.stack[this.stack.length-1]+"]"):this.stack.unshift(o);else if("@pop"===u.next)this.stack.length<=1?a.throwError(this.lexer,"trying to pop an empty stack in rule: "+d.name):this.stack.shift();else if("@popall"===u.next)this.stack.length>1&&(this.stack=[this.stack[this.stack.length-1]]);else{var y=a.substituteMatches(this.lexer,u.next,s,r,o);"@"===y[0]&&(y=y.substr(1)),a.findRules(this.lexer,y)?this.stack.unshift(y):a.throwError(this.lexer,"trying to set a next state '"+y+"' that is undefined in rule: "+d.name)}u.log&&"string"==typeof u.log&&a.log(this.lexer,this.lexer.displayName+": "+a.substituteMatches(this.lexer,u.log,s,r,o))}if(null===v&&(a.throwError(this.lexer,"lexer rule has no well-defined action in rule: "+d.name),v=this.lexer.defaultToken),Array.isArray(v)){this.groupActions&&this.groupActions.length>0&&a.throwError(this.lexer,"groups cannot be nested: "+d.name),r.length!==v.length+1&&a.throwError(this.lexer,"matched number of groups does not match the number of actions in rule: "+d.name);for(var _=0,b=1;b<r.length;b++)_+=r[b].length;return _!==s.length&&a.throwError(this.lexer,"with groups, all characters should be matched in consecutive groups in rule: "+d.name),this.groupMatches=r,this.groupMatched=r.slice(1),this.groupActions=v.slice(0),this.groupRule=d,e.goBack(s.length),this.tokenize(e)}if("@rematch"===v&&(e.goBack(s.length),s="",r=null,v=""),0===s.length)if(n!==this.stack.length||o!==this.stack[0]||(this.groupActions?this.groupActions.length:0)!==i){if(!t)return this.tokenize(e)}else a.throwError(this.lexer,"no progress in tokenizer in rule: "+d.name),e.advanceToEOS();if(0===v.indexOf("@brackets")){var C=v.substr("@brackets".length),w=c(this.lexer,s);return w||(a.throwError(this.lexer,"@brackets token returned but no bracket defined as: "+s),w={token:"",bracketType:0}),{type:a.sanitize(w.token+C),bracket:w.bracketType}}var E=""===v?"":v+this.lexer.tokenPostfix;return{type:a.sanitize(E),bracket:u.bracket}},t.ID=0,t}(s.AbstractState);t.MonarchLexer=_;var b=function(e){function t(o,r,a){!a.name&&a.lexer&&(a=a.lexer),r||(r={id:a.name,workerParticipants:[]}),e.call(this,o,r,a.workerDescriptor?i.AsyncDescriptor.create(a.workerDescriptor.moduleName,a.workerDescriptor.ctorName):t.WorkerDescriptor,a.usesEmbedded),this.lexer=a,this.modesRegistry=n.Registry?n.Registry.as(s.Extensions.EditorModes):null}return __extends(t,e),t.prototype.getInitialState=function(){return new _(this,this._recompile())},t.prototype._recompile=function(){return this.lexer},t.prototype.getNonWordTokenTypes=function(){return this.lexer.nonWordTokens},t.prototype.getWordDefinition=function(){return this.lexer.wordDefinition||e.prototype.getWordDefinition.call(this)},t.prototype.getElectricCharacters=function(){return this.lexer.electricChars.split("")},t.prototype.getAutoClosingPairs=function(){return this.lexer.autoClosingPairs},t.prototype.getCommentsConfiguration=function(){return{lineCommentTokens:[this.lexer.lineComment],blockCommentStartToken:this.lexer.blockCommentStart,blockCommentEndToken:this.lexer.blockCommentEnd}},t.prototype.onEnterImpl=function(e,t,n){return p(this.lexer,e,t,n)},t.prototype.onElectricCharacterImpl=function(e,t,n){return f(this.lexer,e,t,n)},t.prototype.enterNestedMode=function(e){return e instanceof _?e.embeddedEntered:!1},t.prototype.getNestedMode=function(e){if(e instanceof _){var t=e.embeddedMode,n=v(this.modesRegistry,t);if(n)return n}return v(this.modesRegistry,"text/plain")},t.prototype.getLeavingNestedModeData=function(e,t){for(var n=t,i=new o.LineStream(e);!i.eos()&&n.embeddedMode;)n.tokenize(i,!0);if(n.embeddedMode)return null;var r=i.pos();return{nestedModeBuffer:e.substring(0,r),bufferAfterNestedMode:e.substring(r),stateAfterNestedMode:n}},t.WorkerDescriptor=i.AsyncDescriptor.create(a.monarchPath+"Worker","MonarchNullWorker"),t}(s.AbstractMode);t.MonarchMode=b;var C=function(e){function t(t,n,i){e.call(this,t,i,u.compile(n))}return __extends(t,e),t}(b);t.DynamicMonarchMode=C;var w={};t.createEditorMode=g,t.register=m,t.getLanguage=y}),require.config({ignoreDuplicateModules:["vs/languages/javascript/jsdoc","vs/languages/typescript/tokenization","vs/base/paths","vs/languages/lib/htmlLib","vs/languages/lib/beautify-html","vs/platform/configuration/configurationRegistry"]}),define("vs/editor/languages.common",["./modes/modesExtensions","./modes/autoIndentation/autoIndentation","./modes/monarch/monarchTypes","./modes/monarch/monarchCommon","./modes/monarch/monarchCompile","./modes/monarch/monarch"],function(){"use strict"}),define("vs/editor/editor.all",["./core/codeEditorWidget","./diff/diffEditorWidget","./contrib/find/find","./contrib/format/format","./contrib/hover/hover","./contrib/rename/rename","./contrib/snippet/snippet","./contrib/comment/comment","./contrib/linesOperations/linesOperations","./contrib/goToDeclaration/goToDeclaration","./contrib/gotoError/gotoError","./contrib/inPlaceReplace/inPlaceReplace","./contrib/suggest/suggest","./contrib/parameterHints/parameterHints","./contrib/diffNavigator/diffNavigator","./contrib/smartSelect/smartSelect","./contrib/smartSelect/jumpToBracket","./contrib/color/color","./contrib/referenceSearch/referenceSearch","./contrib/links/links","./contrib/toggleTabFocusMode/toggleTabFocusMode","./contrib/wordHighlighter/wordHighlighter","./contrib/contextmenu/contextmenu","./contrib/clipboard/clipboard","./contrib/iPadShowKeyboard/iPadShowKeyboard","./languages.common"],function(){"use strict"});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/standalone/simpleServices",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/base/errors","vs/base/types","vs/editor/core/constants"],function(e,t,n,i,o,r,s){var a=function(){function e(e){this._widget=e}return e.prototype.getId=function(){return"editor"},e.prototype.getControl=function(){return this._widget},e.prototype.getSelection=function(){return this._widget.getSelection()},e.prototype.focus=function(){this._widget.focus()},e}();t.SimpleEditor=a;var u=function(){function e(e){this.model=e}return Object.defineProperty(e.prototype,"textEditorModel",{get:function(){return this.model},enumerable:!0,configurable:!0}),e}();t.SimpleModel=u;var l=function(){function e(e){e&&this.setEditor(e)}return e.prototype.setEditor=function(e){this.editor=new a(e)},e.prototype.getActiveEditor=function(){return this.editor},e.prototype.getVisibleEditors=function(){return[this.editor]},e.prototype.getActiveEditorInput=function(){return null},e.prototype.openEditor=function(e){var t=e;if(this.editor._widget.getEditorType()===s.EditorType.ICodeEditor)return n.Promise.as(this.doOpenEditor(this.editor._widget,t));var i=this.editor._widget;return n.Promise.as(this.doOpenEditor(i.getOriginalEditor(),t)||this.doOpenEditor(i.getModifiedEditor(),t))},e.prototype.moveEditor=function(){},e.prototype.doOpenEditor=function(e,t){var n=this.findModel(e,t);if(!n)return!1;var i=t.options.selection;return i&&(r.isUndefinedOrNull(i.endLineNumber)||r.isUndefinedOrNull(i.endColumn)?e.setPosition({lineNumber:i.startLineNumber,column:i.startColumn},!0,!0,!0):e.setSelection(i,!0,!0,!0)),!0},e.prototype.findModel=function(e,t){var n=e.getModel();return n.getAssociatedResource().equals(t.resource)?n:null},e.prototype.closeEditor=function(){return n.TPromise.as(this.editor)},e.prototype.focusEditor=function(){return this.editor.focus(),n.TPromise.as(this.editor)},e.prototype.resolveEditorModel=function(e){var t,i=e;if(this.editor._widget.getEditorType()===s.EditorType.ICodeEditor)t=this.findModel(this.editor._widget,i);else{var o=this.editor._widget;t=this.findModel(o.getOriginalEditor(),i)||this.findModel(o.getModifiedEditor(),i)}return t?n.Promise.as(new u(t)):n.Promise.as(null)},e}();t.SimpleEditorService=l;var c=function(){function e(){}return e.prototype.show=function(t,n){switch(t){case 2:console.error(o.toErrorMessage(n,!0));break;case 1:console.warn(n);break;default:console.log(n)}return e.Empty},e.Empty=function(){},e}();t.SimpleMessageService=c;var d=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getPath=function(e,t){return t.toExternal()},t}(i.BaseRequestService);t.SimpleEditorRequestService=d});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/time/idleMonitor",["require","exports","vs/base/dom/dom","vs/base/lifecycle","vs/base/eventEmitter","vs/base/dom/browserService"],function(e,t,n,i,o,r){!function(e){e[e.Idle=0]="Idle",e[e.Active=1]="Active"}(t.UserStatus||(t.UserStatus={}));t.UserStatus;t.DEFAULT_IDLE_TIME=36e5;var s=function(){function e(e){"undefined"==typeof e&&(e=t.DEFAULT_IDLE_TIME);var n=this;this.instance=u.INSTANCE,this.instance.increment(),this.status=null,this.idleCheckTimeout=-1,this.lastActiveTime=-1,this.idleTime=e,this.toDispose=[],this.eventEmitter=new o.EventEmitter,this.toDispose.push(this.eventEmitter),this.toDispose.push({dispose:this.instance.addListener(function(){return n.onUserActive()})}),this.onUserActive()}return e.prototype.addOneTimeActiveListener=function(e){return this.eventEmitter.addOneTimeDisposableListener("onActive",e)},e.prototype.addOneTimeIdleListener=function(e){return this.eventEmitter.addOneTimeDisposableListener("onIdle",e)},e.prototype.getStatus=function(){return this.status},e.prototype.dispose=function(){this.cancelIdleCheck(),this.toDispose=i.disposeAll(this.toDispose),this.instance.decrement()},e.prototype.onUserActive=function(){this.lastActiveTime=(new Date).getTime(),1!==this.status&&(this.status=1,this.scheduleIdleCheck(),this.eventEmitter.emit("onActive"))},e.prototype.onUserIdle=function(){0!==this.status&&(this.status=0,this.eventEmitter.emit("onIdle"))},e.prototype.scheduleIdleCheck=function(){var e=this;if(-1===this.idleCheckTimeout){var t=this.lastActiveTime+this.idleTime;this.idleCheckTimeout=setTimeout(function(){e.idleCheckTimeout=-1,e.checkIfUserIsIdle()},t-(new Date).getTime())}},e.prototype.cancelIdleCheck=function(){-1!==this.idleCheckTimeout&&(clearTimeout(this.idleCheckTimeout),this.idleCheckTimeout=-1)},e.prototype.checkIfUserIsIdle=function(){var e=(new Date).getTime()-this.lastActiveTime;e>=this.idleTime?this.onUserIdle():this.scheduleIdleCheck()},e}();t.IdleMonitor=s;var a=function(){function e(){this.referenceCount=0}return e.prototype.increment=function(){0===this.referenceCount&&this.construct(),this.referenceCount++},e.prototype.decrement=function(){this.referenceCount>0&&(this.referenceCount--,0===this.referenceCount&&this.dispose())},e.prototype.construct=function(){throw new Error("Implement me")},e.prototype.dispose=function(){throw new Error("Implement me")},e}(),u=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.construct=function(){var e=this;this.toDispose=[],this.eventEmitter=new o.EventEmitter,this.toDispose.push(this.eventEmitter),this.toDispose.push(n.addDisposableListener(r.getService().document,"mousemove",function(){return e.onUserActive()})),this.toDispose.push(n.addDisposableListener(r.getService().document,"keydown",function(){return e.onUserActive()})),this.onUserActive()},t.prototype.dispose=function(){this.toDispose=i.disposeAll(this.toDispose)},t.prototype.onUserActive=function(){this.eventEmitter.emit("onActive")},t.prototype.addListener=function(e){return this.eventEmitter.addListener("onActive",e)},t.INSTANCE=new t,t}(a)}),define("vs/platform/telemetry/telemetryService",["require","exports","vs/base/uuid","vs/base/performance/timer","vs/base/errors","vs/base/types","vs/base/objects","vs/base/env","vs/base/time/idleMonitor","vs/base/network"],function(e,t,n,i,o,r,s,a,u,l){var c={publicOnly:!0,enableHardIdle:!0,enableSoftIdle:!0},d=function(){function e(t){var r=this;this.eventQueue=[],this.config=s.withDefaults(t,c),this.sessionID=t.sessionID||n.generateUuid()+Date.now(),this.eventMaxQueueSize=e.EVENT_QUEUE_LIMIT,this.eventBatchSize=e.EVENT_BATCH_SIZE,this.failureCount=0,this.sendingEvents=!1,this.waitIntervalId=null,this.timeKeeper=new i.TimeKeeper,this.toUnbind=[],this.toUnbind.push(this.timeKeeper.addListener("eventStop",this.onTelemetryTimerEventStop.bind(this))),this.toUnbind.push(o.errorHandler.addListener(this.onErrorEvent.bind(this))),a.isInWebWorker()===!1&&(this.config.enableHardIdle&&(this.hardIdleMonitor=new u.IdleMonitor),this.config.enableSoftIdle&&(this.softIdleMonitor=new u.IdleMonitor(e.SOFT_IDLE_TIME),this.softIdleMonitor.addOneTimeActiveListener(function(){return r.onUserActive()}),this.softIdleMonitor.addOneTimeIdleListener(function(){return r.onUserIdle()}))),this.authFilter=l.getBasicAuthRemover()}return e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()();this.timeKeeper.dispose(),this.hardIdleMonitor&&this.hardIdleMonitor.dispose(),this.softIdleMonitor&&this.softIdleMonitor.dispose(),this.oldOnError&&(self.onerror=this.oldOnError)},e.prototype.onTelemetryTimerEventStop=function(e){var t=e.data||{};t.duration=e.timeTaken(),"public"===e.topic?this.publicLog(e.name,t):this.log(e.name,t)},e.prototype.onErrorEvent=function(e){Array.isArray(e.stack)&&(e.stack=e.stack.join("\n")),e.detail&&e.detail.stack&&(e=e.detail),e.stack&&this.publicLog("UnhandledError",{name:e.name,message:e.message||s.safeStringify(e),stack:this.authFilter(e.stack)})},e.prototype.enableGlobalErrorHandler=function(){r.isFunction(self.onerror)&&(this.oldOnError=self.onerror);var e=this,t=function(t,n,i,o,r){e.onUncaughtError(t,n,i,o,r),e.oldOnError&&e.oldOnError.apply(this,arguments)};self.onerror=t},e.prototype.onUncaughtError=function(e,t,n,i,o){var r={message:e,filename:this.authFilter(t),line:n,column:i};o&&(r.error={name:o.name,message:o.message,stack:this.authFilter(o.stack)}),this.publicLog("UncaughtError",r)},e.prototype.onUserIdle=function(){var t=this;this.publicLog(e.IDLE_START_EVENT_NAME),this.softIdleMonitor.addOneTimeIdleListener(function(){return t.onUserIdle()})},e.prototype.onUserActive=function(){var t=this;this.publicLog(e.IDLE_STOP_EVENT_NAME),this.softIdleMonitor.addOneTimeActiveListener(function(){return t.onUserActive()})},e.prototype.injectRequestService=function(e){this.requestService=e},e.prototype.injectExperimentService=function(e){this.experimentService=e},e.prototype.start=function(e,t,n){var i=n?"public":"private",o=this.timeKeeper.start(i,e);return t&&(o.data=t),o},e.prototype.log=function(e,t){this.config.publicOnly||this.handleEvent("restricted",e,t)},e.prototype.publicLog=function(e,t){this.handleEvent("public",e,t)},e.prototype.handleEvent=function(e,t,n){if(!(this.eventQueue.length>=this.eventMaxQueueSize)){n=n||{},n.source="client",n.version={clientVersion:a.version};var i={name:t,kind:e,timestamp:new Date,data:s.safeStringify(n),sessionID:this.sessionID},o=this.getEnabledExperiments();o&&(i.activeExperiments=this.getEnabledExperiments()),this.eventQueue.push(i),this.sendingEvents||this.failureCount>0||(this.eventQueue.length>this.eventBatchSize?(clearTimeout(this.waitIntervalId),this.waitIntervalId=null,this.sendEvents()):this.sendSoon())}},e.prototype.sendSoon=function(){var t=this;null===this.waitIntervalId&&(this.waitIntervalId=setTimeout(function(){t.waitIntervalId=null,t.sendEvents()},e.EVENT_INTERVAL*Math.pow(2,this.failureCount)))},e.prototype.sendEvents=function(){var e=this;if(!this.hardIdleMonitor||0!==this.hardIdleMonitor.getStatus()){this.sendingEvents=!0;var t=this.eventQueue.splice(0,this.eventBatchSize);this.submitToServer(t).then(function(){e.failureCount=0},function(){e.eventQueue.unshift.apply(e.eventQueue,t),e.failureCount++}).done(function(){e.sendingEvents=!1,e.eventQueue.length>0&&e.sendSoon()})}},e.prototype.submitToServer=function(e){var t=JSON.stringify(e),n=this.requestService.getRequestUrl("telemetry"),i={type:"POST",url:n,data:t,headers:{"Content-Type":"application/json"}};return this.requestService.makeRequest(i)},e.prototype.getQueueLength=function(){return this.eventQueue.length},e.prototype.getEnabledExperiments=function(){return this.experimentService?this.experimentService.getEnabled().join(";"):null},e.EVENT_QUEUE_LIMIT=1e4,e.EVENT_INTERVAL=3e4,e.EVENT_BATCH_SIZE=100,e.SOFT_IDLE_TIME=12e4,e.IDLE_START_EVENT_NAME="UserIdleStart",e.IDLE_STOP_EVENT_NAME="UserIdleStop",e}();t.TelemetryService=d});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n
};define("vs/platform/markers/markerService",["require","exports","vs/platform/services","vs/base/eventEmitter","./markers"],function(e,t,n,i,o){var r=function(e){function t(){e.call(this),this._markerSets={}}return __extends(t,e),t.prototype.getMarkerSet=function(e){var t=this._markerSets[e.toExternal()];return"undefined"==typeof t?null:t},t.prototype.change=function(e){var t=[],i=this,o={replaceMarkerSet:function(e){t.push(i.__replaceMarkerSet(e))},deleteMarkerSet:function(e){var n=i.__deleteMarkerSet(e);null!==n&&t.push(n)},processMarkerUpdate:function(e){var n=i.__processMarkerUpdate(e);null!==n&&t.push(n)}};e(o),this.emit(n.MarkerServiceConstants.SERVICE_CHANGED,{kind:n.MarkerServiceConstants.SERVICE_CHANGED,source:this,markerSetEvents:t})},t.prototype.__deleteMarkerSet=function(e){var t=e.toExternal(),i=this._markerSets[t];return"undefined"==typeof i?null:(delete this._markerSets[t],{kind:n.MarkerServiceConstants.SET_REMOVED,resource:e,oldValue:i,newValue:null})},t.prototype.__replaceMarkerSet=function(e){var t=e.getAssociatedResource().toExternal(),i=this._markerSets[t];return this._markerSets[t]=e,i?{kind:n.MarkerServiceConstants.SET_CHANGED,resource:e.getAssociatedResource(),oldValue:i,newValue:e}:{kind:n.MarkerServiceConstants.SET_ADDED,resource:e.getAssociatedResource(),oldValue:null,newValue:e}},t.prototype.__processMarkerUpdate=function(e){var t=e.getAssociatedResource().toExternal(),i=this._markerSets[t],r=null;return i?(r=o.processMarkerUpdate(e,i),i===r?{kind:n.MarkerServiceConstants.SET_CHANGED,resource:i.getAssociatedResource(),oldValue:i,newValue:r,groupDetails:{groupId:e.getId()}}:(this._markerSets[t]=r,{kind:n.MarkerServiceConstants.SET_CHANGED,resource:i.getAssociatedResource(),oldValue:i,newValue:r})):(r=o.processMarkerUpdate(e,null),this._markerSets[t]=r,{kind:n.MarkerServiceConstants.SET_ADDED,resource:r.getAssociatedResource(),oldValue:null,newValue:r})},t}(i.EventEmitter);t.MarkerService=r}),define("vs/css!vs/base/ui/widgets/menu/menu",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/menu/menu",["require","exports","vs/base/dom/builder","vs/base/ui/widgets/actionbar","vs/base/eventEmitter","vs/css!./menu"],function(e,t,n,i,o){var r=n.$,s=function(e){function t(t,n,o){"undefined"==typeof o&&(o={}),e.call(this),r(t).addClass("monaco-menu-container");var s=r(".monaco-menu").appendTo(t);this.actionBar=new i.ActionBar(s,{orientation:2,actionItemProvider:o.actionItemProvider,context:o.context,actionRunner:o.actionRunner}),this.listener=this.addEmitter2(this.actionBar),this.actionBar.push(n,{icon:!0,label:!0})}return __extends(t,e),t.prototype.focus=function(){this.actionBar.focus()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.actionBar&&(this.actionBar.dispose(),this.actionBar=null),this.listener&&(this.listener.dispose(),this.listener=null)},t}(o.EventEmitter);t.Menu=s}),define("vs/css!vs/platform/contextview/contextmenu",["vs/css!vs/editor/editor.main"],{}),define("vs/platform/contextview/contextmenu",["require","exports","vs/base/dom/builder","vs/base/lifecycle","vs/platform/services","vs/base/dom/mouseEvent","vs/base/ui/actions","vs/base/ui/widgets/menu/menu","vs/base/ui/events","vs/css!./contextmenu"],function(e,t,n,i,o,r,s,a,u){var l=n.$,c=function(){function e(e){var t=this;this.setContainer(e),this.actionRunner=new s.ActionRunner,this.menuContainerElement=null,this.toDispose=[];var n=!1;this.toDispose.push(this.actionRunner.addListener2(u.EventType.BEFORE_RUN,function(e){t.telemetryService&&t.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,From:"contextMenu"}),n=!!e.retainActionItem,n||t.contextViewService.hideContextView(!1)})),this.toDispose.push(this.actionRunner.addListener2(u.EventType.RUN,function(e){n&&t.contextViewService.hideContextView(!1),n=!1,e.error&&t.messageService.show(2,e.error)}))}return e.prototype.injectContextViewService=function(e){this.contextViewService=e},e.prototype.injectTelemetryService=function(e){this.telemetryService=e},e.prototype.injectMessageService=function(e){this.messageService=e},e.prototype.setContainer=function(e){var t=this;this.$el&&(this.$el.off(["click","mousedown"]),this.$el=null),e&&(this.$el=l(e),this.$el.on("mousedown",function(e){return t.onMouseDown(e)}))},e.prototype.showContextMenu=function(e,t){var n=this;t.getActions().done(function(o){n.contextViewService.showContextView({getAnchor:function(){return e},canRelayout:!1,render:function(e){n.menuContainerElement=e;var r=new a.Menu(e,o,{actionItemProvider:t.getActionItem,context:t.getActionsContext?t.getActionsContext():null,actionRunner:n.actionRunner}),s=r.addListener2(u.EventType.CANCEL,function(){n.contextViewService.hideContextView(!0)}),l=r.addListener2(u.EventType.BLUR,function(){n.contextViewService.hideContextView(!0)});return r.focus(),i.combinedDispose(s,l,r)},onHide:function(e){t.onHide&&t.onHide(e),n.menuContainerElement=null}})})},e.prototype.onMouseDown=function(e){if(this.menuContainerElement){for(var t=new r.StandardMouseEvent(e),n=t.target;n;){if(n===this.menuContainerElement)return;n=n.parentElement}this.contextViewService.hideContextView()}},e.prototype.dispose=function(){this.setContainer(null)},e}();t.ContextMenuHandler=c}),define("vs/platform/contextview/contextviewService",["require","exports","vs/base/ui/widgets/contextview/contextview","vs/platform/contextview/contextmenu"],function(e,t,n,i){var o=function(){function e(e){this.contextView=new n.ContextView(e),this.contextMenuHandler=new i.ContextMenuHandler(e)}return e.prototype.dispose=function(){this.contextView.dispose(),this.contextMenuHandler.dispose()},e.prototype.injectInjectorService=function(e){e.injectTo(this.contextMenuHandler)},e.prototype.setContainer=function(e){this.contextView.setContainer(e),this.contextMenuHandler.setContainer(e)},e.prototype.showContextView=function(e){this.contextView.show(e)},e.prototype.layout=function(){this.contextView.layout()},e.prototype.hideContextView=function(e){this.contextView.hide(e)},e.prototype.showContextMenu=function(e,t){this.contextMenuHandler.showContextMenu(e,t)},e}();t.ContextViewService=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/standalone/standaloneCodeEditor",["require","exports","vs/editor/core/codeEditorWidget","vs/editor/standalone/simpleServices","vs/platform/handlerService","vs/editor/modes/modesExtensions","vs/platform/platform","vs/editor/core/model/model"],function(e,t,n,i,o,r,s,a){function u(e,t){return new h(e,t)}function l(e,t,n){var i=d.getMode(t);return i?new a.Model(e,i,n,h._setup_services.markerService):new a.Model(e,d.getOrCreateMode(t),n,h._setup_services.markerService)}function c(e){return d.getOrCreateMode(e)}var d=s.Registry.as(r.Extensions.EditorModes),h=function(e){function t(n,r){this._editorService=new i.SimpleEditorService(this),this._handlerService=new o.HandlerService(n),this._contextViewService=t._setup_services.createContextViewService(n);var s=t._setup_services.createPlatformServices({editorService:this._editorService,handlerService:this._handlerService,contextViewService:this._contextViewService,contextMenuService:this._contextViewService});r=r||{},"undefined"==typeof r.model?(r.model=self.Monaco.Editor.createModel(r.value||"",r.mode||"text/plain"),this._ownsModel=!0):this._ownsModel=!1,e.call(this,s,n,r)}return __extends(t,e),t._setup=function(e){t._setup_services=e,e.injectTo(d)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._handlerService.dispose(),this._contextViewService.dispose()},t.prototype.destroy=function(){this.dispose()},t.prototype.getMarkerService=function(){return t._setup_services.markerService},t.prototype.getHandlerService=function(){return this._handlerService},t.prototype.getTelemetryService=function(){return t._setup_services.telemetryService},t.prototype._attachModel=function(t){e.prototype._attachModel.call(this,t),this._view&&this._contextViewService.setContainer(this._view.domNode)},t.prototype._postDetachModelCleanup=function(t){e.prototype._postDetachModelCleanup.call(this,t),t&&this._ownsModel&&(t.destroy(),this._ownsModel=!1)},t}(n.CodeEditorWidget);t.StandaloneEditor=h,t.create=u,t.createModel=l,t.getOrCreateMode=c});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/standalone/standaloneDiffEditor",["require","exports","vs/editor/diff/diffEditorWidget","vs/editor/standalone/simpleServices","vs/platform/handlerService","vs/platform/contextview/contextviewService"],function(e,t,n,i,o,r){function s(e,t){return new a(e,t)}var a=function(e){function t(n,s){this._editorService=new i.SimpleEditorService(this),this._handlerService=new o.HandlerService(n),this._contextViewService=new r.ContextViewService(n);var a=t._setup_services.createPlatformServices({editorService:this._editorService,handlerService:this._handlerService,contextViewService:this._contextViewService,contextMenuService:this._contextViewService});e.call(this,a,n,s),this._contextViewService.setContainer(this._containerDomElement)}return __extends(t,e),t._setup=function(e){t._setup_services=e},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._handlerService.dispose(),this._contextViewService.dispose()},t.prototype.destroy=function(){this.dispose()},t.prototype.getMarkerService=function(){return t._setup_services.markerService},t.prototype.getHandlerService=function(){return this._handlerService},t.prototype.getTelemetryService=function(){return t._setup_services.telemetryService},t}(n.DiffEditorWidget);t.StandaloneDiffEditor=a,t.createDiffEditor=s}),define("vs/platform/injectorService",["require","exports","vs/base/collections","vs/base/injector","vs/base/assert","./instantiation/instantiationService"],function(e,t,n,i,o,r){function s(e){var t=new i.Container,n=new c(t),o=r.create(e);return n._instantiationService=o,n._diContainer.registerService(c._instantiationServiceName,o),a(e,t),u(e,t),n}function a(e,t){o.ok(!n.contains(e,c._injectorServiceName),"injectorService is NOT allowed to be added because it is implict"),Object.keys(e).forEach(function(n){var i=e[n];t.registerService(n,i)})}function u(e,t){Object.keys(e).forEach(function(n){var i=e[n];t.injectTo(i),l(i)})}function l(e){return Array.isArray(e)?(e.forEach(function(e){l(e)}),void 0):("function"==typeof e[c._fnInjectionDone]&&e[c._fnInjectionDone].apply(e),void 0)}var c=function(){function e(t){this._diContainer=t,this._diContainer.registerService(e._injectorServiceName,this)}return e.prototype.injectTo=function(e){this._diContainer.injectTo(e),l(e)},e.prototype.createChild=function(t){var n=this._diContainer.createChild();a(t,n);var i=new e(n);return i._instantiationService=this._instantiationService.createChild(t),n.registerService(e._injectorServiceName,i),n.registerService(e._instantiationServiceName,i._instantiationService),u(t,n),i},e._injectorServiceName="injectorService",e._instantiationServiceName="instantiationService",e._fnInjectionDone="injectionDone",e}();t.create=s}),define("vs/editor/standalone/standaloneServices",["require","exports","vs/platform/instantiation/instantiationService","vs/platform/injectorService"],function(e,t,n,i){var o=function(){function e(e){this.threadService=e.threadService,this.markerService=e.markerService,this.messageService=e.messageService,this.contextService=e.contextService,this.requestService=e.requestService,this.telemetryService=e.telemetryService,this.createContextViewService=e.createContextViewService}return e.prototype.mergeServices=function(e){var t={threadService:this.threadService,markerService:this.markerService,messageService:this.messageService,contextService:this.contextService,requestService:this.requestService,telemetryService:this.telemetryService};if(e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}return t},e.prototype.createPlatformServices=function(e){var t=this.mergeServices(e);i.create(t);var o=n.create(t);return t.instantiationService=o,t},e.prototype.create=function(e){var t=this.mergeServices(e);return i.create(t)},e.prototype.injectTo=function(e){this.create().injectTo(e)},e}();t.StandaloneServices=o}),define("vs/platform/telemetry/nullTelemetryService",["require","exports","vs/base/performance/timer"],function(e,t,n){var i=function(){function e(){this.sessionID=null}return e.prototype.log=function(){},e.prototype.publicLog=function(){},e.prototype.start=function(){return n.nullEvent},e}();t.NullTelemetryService=i,t.nullService=new i}),define("vs/editor/standalone/standaloneEditor",["require","exports","vs/editor/standalone/simpleServices","vs/platform/services","vs/platform/telemetry/telemetryService","vs/editor/core/model/model","vs/platform/thread/threadService","vs/platform/markers/markerService","vs/editor/modes/modesExtensions","vs/platform/platform","vs/base/env","vs/platform/contextview/contextviewService","vs/editor/standalone/standaloneCodeEditor","vs/editor/standalone/standaloneDiffEditor","vs/editor/standalone/standaloneServices","vs/platform/telemetry/nullTelemetryService"],function(e,t,n,i,o,r,s,a,u,l,c,d,h,p,f,g){function m(e,n,i){if("string"==typeof n)return h.createModel(e,n,i);var o=t.createCustomMode(n);return new r.Model(e,o,i,y.markerService)}function v(e){u.registerModeAsyncDescriptor(e.name,[],new i.AsyncDescriptor("vs/editor/modes/monarch/monarch","DynamicMonarchMode",e));var t=l.Registry.as(u.Extensions.EditorModes);return t.getMode(e.name)}var y={threadService:new s.ThreadService,markerService:new a.MarkerService,messageService:new n.SimpleMessageService,contextService:new i.BaseContextService({uri:null,name:null,path:null,alternatePath:null,telemetry:c.standaloneEditorTelemetryEndpoint,publicUrl:null,ctime:null,mtime:null},{paths:{PUBLIC_WORKSPACE_URL:"inMemory://"}}),requestService:new n.SimpleEditorRequestService,telemetryService:c.standaloneEditorTelemetryEndpoint?new o.TelemetryService({publicOnly:!0}):g.nullService,createContextViewService:function(e){return new d.ContextViewService(e)}},_=new f.StandaloneServices(y);h.StandaloneEditor._setup(_),p.StandaloneDiffEditor._setup(_),t.createModel=m,t.createCustomMode=v;var b=self;b.Monaco||(b.Monaco={});var C=b.Monaco;C.Editor||(C.Editor={}),C.Editor.create=h.create,C.Editor.CodeEditor=h.StandaloneEditor,C.Editor.createModel=t.createModel,C.Editor.createDiffEditor=p.createDiffEditor,C.Editor.DiffEditor=p.StandaloneDiffEditor,C.Editor.getOrCreateMode=h.getOrCreateMode,C.Editor.createCustomMode=t.createCustomMode});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/quickopen/quickOpenModel",["require","exports","vs/base/types"],function(e,t,n){!function(e){e[e.PREVIEW=0]="PREVIEW",e[e.OPEN=1]="OPEN"}(t.Mode||(t.Mode={}));var i=(t.Mode,0),o=function(){function e(){this.id=(i++).toString(),this.highlights=[]}return e.prototype.getId=function(){return this.id},e.prototype.getLabel=function(){return null},e.prototype.getMeta=function(){return null},e.prototype.getIcon=function(){return null},e.prototype.getDescription=function(){return null},e.prototype.getPath=function(){return null},e.prototype.setHighlights=function(e){this.highlights=e},e.prototype.getHighlights=function(){return this.highlights},e.prototype.run=function(){return!1},e}();t.QuickOpenEntry=o;var r=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getHeight=function(){return 0},t.prototype.render=function(){return null},t}(o);t.QuickOpenEntryItem=r;var s=function(e){function t(t,n,i){e.call(this),this.entry=t,this.groupLabel=n,this.withBorder=i}return __extends(t,e),t.prototype.getGroupLabel=function(){return this.groupLabel},t.prototype.setGroupLabel=function(e){this.groupLabel=e},t.prototype.showBorder=function(){return this.withBorder},t.prototype.setShowBorder=function(e){this.withBorder=e},t.prototype.getLabel=function(){return this.entry?this.entry.getLabel():e.prototype.getLabel.call(this)},t.prototype.getMeta=function(){return this.entry?this.entry.getMeta():e.prototype.getMeta.call(this)},t.prototype.getPath=function(){return this.entry?this.entry.getPath():e.prototype.getPath.call(this)},t.prototype.getIcon=function(){return this.entry?this.entry.getIcon():e.prototype.getIcon.call(this)},t.prototype.getDescription=function(){return this.entry?this.entry.getDescription():e.prototype.getDescription.call(this)},t.prototype.getEntry=function(){return this.entry},t.prototype.getHighlights=function(){return this.entry?this.entry.getHighlights():e.prototype.getHighlights.call(this)},t.prototype.setHighlights=function(t){this.entry?this.entry.setHighlights(t):e.prototype.setHighlights.call(this,t)},t.prototype.run=function(t,n){return this.entry?this.entry.run(t,n):e.prototype.run.call(this,t,n)},t}(o);t.QuickOpenEntryGroup=s;var a=function(){function e(){this._entries=[]}return Object.defineProperty(e.prototype,"entries",{get:function(){return this._entries},set:function(e){this._entries=e},enumerable:!0,configurable:!0}),e.prototype.addEntries=function(e){n.isArray(e)&&(this._entries=this._entries.concat(e))},e.prototype.setEntries=function(e){n.isArray(e)&&(this._entries=e)},e.prototype.getEntries=function(){return this._entries},e}();t.QuickOpenModel=a}),define("vs/css!vs/base/ui/widgets/tree/actionsRenderer",["vs/css!vs/editor/editor.main"],{}),define("vs/base/ui/widgets/tree/actionsRenderer",["require","exports","vs/base/dom/builder","vs/base/dom/dom","vs/base/ui/events","vs/base/ui/widgets/actionbar","vs/css!./actionsRenderer"],function(e,t,n,i,o,r){var s=n.$,a=function(){function e(e){this.actionProvider=e}return e.prototype.getHeight=function(e,t){return this.getContentHeight(e,t)},e.prototype.render=function(t,n,a,u){var l=this;i.clearNode(a),u&&u(t,n);var c,d,h=s(a).addClass("actions"),p=s(".sub-content").appendTo(h);this.actionProvider.hasActions(t,n)?(h.addClass("has-actions"),c=new r.ActionBar(s(".primary-action-bar").appendTo(h),{context:this.getActionContext(t,n)}),this.actionProvider.getActions(t,n).then(function(e){c.push(e,{icon:!0,label:!1})}),d=c.addListener2(o.EventType.RUN,function(e){e.error&&l.onError(e.error)})):h.removeClass("has-actions");var f=(u?u[e.CONTENTS_CLEANUP_FN_KEY]:e.NO_OP)||e.NO_OP,g=this.renderContents(t,n,p.getHTMLElement(),f),m=function(){d&&d.dispose(),c&&c.dispose()};return m[e.CONTENTS_CLEANUP_FN_KEY]=g,m},e.prototype.getContentHeight=function(){return 20},e.prototype.renderContents=function(){return null},e.prototype.getActionContext=function(){return null},e.prototype.onError=function(){},e.prototype.dispose=function(){this.actionProvider=null},e.CONTENTS_CLEANUP_FN_KEY="__$ActionsRenderer.contentCleanupFn",e.NO_OP=function(){},e}();t.ActionsRenderer=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/quickopen/quickOpenViewer",["require","exports","vs/base/lib/winjs.base","vs/base/dom/builder","vs/base/ui/widgets/tree/treeDefaults","vs/base/ui/widgets/highlightedLabel","vs/base/ui/widgets/quickopen/quickOpenModel","vs/base/ui/widgets/tree/actionsRenderer"],function(e,t,n,i,o,r,s,a){var u=i.$,l=function(){function e(){}return e.prototype.getId=function(t,n){return n instanceof s.QuickOpenModel?e.ROOT:n instanceof s.QuickOpenEntry?n.getId():null},e.prototype.hasChildren=function(e,t){return t instanceof s.QuickOpenModel?t.getEntries().length>0:!1},e.prototype.getChildren=function(e,t){return t instanceof s.QuickOpenModel?n.Promise.as(t.getEntries()):n.Promise.as([])},e.prototype.getParent=function(){return n.Promise.as(null)},e.ROOT="__root__",e}();t.DataSource=l;var c=function(){function e(){}return e.prototype.hasActions=function(){return!1},e.prototype.getActions=function(){return n.Promise.as(null)},e.prototype.hasSecondaryActions=function(){return!1},e.prototype.getSecondaryActions=function(){return n.Promise.as(null)},e.prototype.getActionItem=function(){return null},e}(),d=function(e){function t(t){"undefined"==typeof t&&(t=new c),e.call(this,t)}return __extends(t,e),t.prototype.getHeight=function(e,t){return t instanceof s.QuickOpenEntryItem?t.getHeight():24},t.prototype.renderContents=function(e,t,n,i){var o=null;if(t instanceof s.QuickOpenEntry){var a=t;if(a instanceof s.QuickOpenEntryItem)return t.render(e,n,i);if(a instanceof s.QuickOpenEntryGroup){var l=a;l.showBorder()&&u(n).addClass("results-group-separator"),l.getGroupLabel()&&u(n).div(function(e){e.addClass("results-group"),e.attr({text:l.getGroupLabel()})})}u(n).div(function(e){e.addClass("quick-open-entry"),a.getIcon()&&e.append(u("span",{class:"quick-open-entry-icon "+a.getIcon()}));var t=a.getHighlights();if(t&&t.length>0){var n=e.getProperty("highlightedLabel");n||(n=new r.HighlightedLabel(e),e.setProperty("highlightedLabel",n)),o=function(){n.destroy()},n.setValue(a.getLabel(),t)}else a.getLabel()&&e.span({text:a.getLabel(),class:"quick-open-entry-label"});a.getMeta()&&e.span({text:a.getMeta(),class:"quick-open-entry-meta"}),a.getDescription()&&e.span({text:a.getDescription(),class:"quick-open-entry-description"})})}return o},t}(a.ActionsRenderer);t.Renderer=d;var h=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.onClick=function(e,t,n){return this.onLeftClick(e,t,n)},t.prototype.onContextMenu=function(t,n,i){return i&&(i.preventDefault(),i.stopPropagation()),e.prototype.onContextMenu.call(this,t,n,i)},t}(o.DefaultController);t.Controller=h}),define("vs/css!vs/base/ui/widgets/progressbar",["vs/css!vs/editor/editor.main"],{}),define("vs/base/ui/widgets/progressbar",["require","exports","vs/base/lib/winjs.base","vs/base/assert","vs/base/env","vs/base/dom/builder","vs/base/dom/dom","vs/base/uuid","vs/css!./progressbar"],function(e,t,n,i,o,r,s,a){var u="done",l="active",c="infinite",d="discrete",h="progress-container",p="progress-bit",f=r.$,g=function(){function e(e){this.toUnbind=[],this.workedVal=0,this.create(e)}return e.prototype.create=function(e){var t=this;e.div({class:h},function(e){t.element=e.clone(),e.div({class:p}).on([s.EventType.ANIMATION_START,s.EventType.ANIMATION_END,s.EventType.ANIMATION_ITERATION],function(e){switch(e.type){case s.EventType.ANIMATION_START:case s.EventType.ANIMATION_END:t.animationRunning=e.type===s.EventType.ANIMATION_START;break;case s.EventType.ANIMATION_ITERATION:t.animationStopToken&&t.animationStopToken(null)}},t.toUnbind),t.bit=e.getHTMLElement()})},e.prototype.off=function(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.removeClass(l),this.element.removeClass(c),this.element.removeClass(d),this.workedVal=0,this.totalWork=void 0},e.prototype.done=function(){return this.doDone(!0)},e.prototype.stop=function(){return this.doDone(!1)},e.prototype.doDone=function(e){var t=this;return this.element.addClass(u),this.element.hasClass(c)?(this.bit.style.opacity="0",e?n.Promise.timeout(200).then(function(){return t.off()}):this.off()):(this.bit.style.width="inherit",e?n.Promise.timeout(200).then(function(){return t.off()}):this.off()),this},e.prototype.infinite=function(){if(this.bit.style.width="2%",this.bit.style.opacity="1",this.element.removeClass(d),this.element.removeClass(u),this.element.addClass(l),this.element.addClass(c),!o.browser.hasCSSAnimationSupport()){var e=a.v4().asHex();this.currentProgressToken=e,this.manualInfinite(e)}return this},e.prototype.manualInfinite=function(e){var t=this;this.bit.style.width="5%",this.bit.style.display="inherit";var i=0,o=function(){n.Promise.timeout(50).then(function(){e===t.currentProgressToken&&(t.element.hasClass(u)?(t.bit.style.display="none",t.bit.style.left="0"):t.element.isHidden()?o():(i=(i+1)%95,t.bit.style.left=i+"%",o()))})};o()},e.prototype.total=function(e){return this.workedVal=0,this.totalWork=e,this},e.prototype.worked=function(e){return i.ok(!isNaN(this.totalWork),"Total work not set"),e=Number(e),i.ok(!isNaN(e),"Value is not a number"),e=Math.max(1,e),this.workedVal+=e,this.workedVal=Math.min(this.totalWork,this.workedVal),this.element.hasClass(c)&&this.element.removeClass(c),this.element.hasClass(d)||this.element.addClass(d),this.bit.style.width=100*(this.workedVal/this.totalWork)+"%",this},e.prototype.getContainer=function(){return f(this.element)},e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()()},e}();t.ProgressBar=g}),define("vs/css!vs/base/ui/widgets/quickopen/quickopen",["vs/css!vs/editor/editor.main"],{}),define("vs/base/ui/widgets/quickopen/quickOpenWidget",["require","exports","vs/base/lib/winjs.base","vs/base/env","vs/base/ui/events","vs/base/types","vs/base/errors","vs/base/uuid","vs/base/ui/widgets/quickopen/quickOpenViewer","vs/base/ui/widgets/quickopen/quickOpenModel","vs/base/dom/builder","vs/base/ui/widgets/inputBox","vs/base/ui/widgets/tree/treeImpl","vs/base/ui/widgets/progressbar","vs/base/dom/keyboardEvent","vs/base/dom/dom","vs/css!./quickopen"],function(e,t,n,i,o,r,s,a,u,l,c,d,h,p,f,g){var m=150,v=c.$,y=function(){function e(e,t,n,i){this.toUnbind=[],this.container=e,this.callbacks=t,this.configuration=n,this.usageLogger=i}return e.prototype.create=function(){var e=this;this.builder=v().div(function(t){t.on(g.EventType.KEY_DOWN,function(t){var n=new f.KeyboardEvent(t);"Escape"===n.key&&(g.EventHelper.stop(t,!0),e.hide(!0))}).on(g.EventType.FOCUS,function(){return e.gainingFocus()},null,!0).on(g.EventType.CONTEXT_MENU,function(e){return g.EventHelper.stop(e,!0)}).on(g.EventType.BLUR,function(){return e.loosingFocus()},null,!0),e.progressBar=new p.ProgressBar(t.clone()),e.progressBar.getContainer().hide(),t.div({class:"quick-open-input"},function(t){e.inputContainer=t,e.inputBox=new d.InputBox(t.getHTMLElement(),null,{placeholder:e.configuration.inputPlaceHolder||""}),e.inputBox.$input.on(g.EventType.KEY_DOWN,function(t){var n=new f.KeyboardEvent(t);("Tab"===n.key||"DownArrow"===n.key||"UpArrow"===n.key||"PageDown"===n.key||"PageUp"===n.key)&&(g.EventHelper.stop(t,!0),e.navigateInTree(n.key,n.shiftKey))}).on(g.EventType.KEY_UP,function(t){var n=new f.KeyboardEvent(t);if("Enter"===n.key){var o=e.tree.getFocus();o&&e.elementSelected(o,t)}else!i.browser.isIE9||"Backspace"!==n.key&&"Delete"!==n.key||e.onType()}).on(g.EventType.INPUT,function(){e.onType()}).attr({wrap:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}).clone()});var n=new u.DataSource;e.renderer=new u.Renderer(e.configuration.actionProvider),e.treeContainer=t.div({class:"quick-open-tree"},function(t){e.tree=new h.Tree(t.getHTMLElement(),{dataSource:n,controller:new u.Controller,renderer:e.renderer},{twistiePixels:11,indentPixels:0,alwaysFocused:!0,verticalScrollMode:"visible"}),e.toUnbind.push(e.tree.addListener(o.EventType.FOCUS,function(t){e.elementFocused(t.focus,t)})),e.toUnbind.push(e.tree.addListener(o.EventType.SELECTION,function(t){t.selection&&t.selection.length>0&&e.elementSelected(t.selection[0],t)}))}).on(g.EventType.KEY_DOWN,function(t){var n=new f.KeyboardEvent(t);e.quickNavigateConfiguration&&(e.quickNavigateConfiguration.keybinding.keys.some(function(e){return e===n.key})?(g.EventHelper.stop(t,!0),e.navigateInTree(n.shiftKey?"UpArrow":"DownArrow")):("DownArrow"===n.key||"UpArrow"===n.key||"PageDown"===n.key||"PageUp"===n.key)&&(g.EventHelper.stop(t,!0),e.navigateInTree(n.key)))}).on(g.EventType.KEY_UP,function(t){var n=new f.KeyboardEvent(t);if(e.quickNavigateConfiguration&&((e.quickNavigateConfiguration.keybinding.ctrlCmd||e.quickNavigateConfiguration.keybinding.winCtrl)&&"Ctrl"===n.key||"Enter"===n.key)){var i=e.tree.getFocus();i&&e.elementSelected(i,t)}}).clone()}).addClass("quick-open-widget").addClass(i.browser.isIE10orEarlier?" no-shadow":"").build(this.container)},e.prototype.onType=function(){var e=this.inputBox.value;this.helpText&&(e?this.helpText.hide():this.helpText.show()),this.callbacks.onType(e)},e.prototype.navigateInTree=function(e,t){var n=this.tree.getInput()?this.tree.getInput().getEntries():[],i=this.tree.getFocus(),o=!1,r=!1;if(n.length>1&&("UpArrow"!==e||i!==n[0]&&i?"DownArrow"===e&&i===n[n.length-1]&&(this.tree.setFocus(n[0]),o=!0):(this.tree.setFocus(n[n.length-1]),o=!0)),!o)switch(e){case"DownArrow":this.tree.focusNext();break;case"UpArrow":this.tree.focusPrevious();break;case"PageDown":this.tree.focusNextPage();break;case"PageUp":this.tree.focusPreviousPage();break;case"Tab":this.cycleThroughEntryGroups(n,i,t),r=!0}i=this.tree.getFocus(),i&&(r?this.tree.reveal(this.tree.getFocus(),0):this.tree.reveal(this.tree.getFocus()))},e.prototype.cycleThroughEntryGroups=function(e,t,n){if(0!==e.length){var i=t?e.indexOf(t):-1;if(i>=0)if(n)for(var o=i-1;o>=0;o--){var r=e[o];if(r instanceof l.QuickOpenEntryGroup&&r.getGroupLabel())return this.tree.setFocus(r),void 0}else for(var o=i+1;o<e.length;o++){var s=e[o];if(s instanceof l.QuickOpenEntryGroup&&s.getGroupLabel())return this.tree.setFocus(s),void 0}if(!n)return this.tree.setFocus(e[0]),void 0;for(var o=e.length-1;o>=0;o--){var r=e[o];if(r instanceof l.QuickOpenEntryGroup&&r.getGroupLabel())return this.tree.setFocus(r),void 0}}},e.prototype.elementFocused=function(e,t){if(e instanceof l.QuickOpenEntry&&this.isVisible()){var n={event:t,quickNavigateConfiguration:this.quickNavigateConfiguration};e.run(0,n)}},e.prototype.elementSelected=function(e,t){var n=!0;if(e instanceof l.QuickOpenEntry&&this.isVisible()){var i={event:t,quickNavigateConfiguration:this.quickNavigateConfiguration};n=e.run(1,i)}if(this.usageLogger){var o=this.tree.getInput().entries.indexOf(e),r=this.tree.getInput().entries.length;this.usageLogger.publicLog("quickOpenWidgetItemAccepted",{index:o,count:r,isQuickNavigate:this.quickNavigateConfiguration?!0:!1})}n&&this.hide()},e.prototype.show=function(e,t,n){r.isUndefined(t)&&(t={}),this.visible=!0,this.isLoosingFocus=!1,this.quickNavigateConfiguration=n,this.quickNavigateConfiguration?(this.inputContainer.hide(),this.treeContainer.removeClass("transition"),this.builder.show(),this.tree.DOMFocus()):(this.inputContainer.show(),this.treeContainer.addClass("transition"),this.builder.show(),this.inputBox.$input.domFocus()),this.helpText&&(this.quickNavigateConfiguration||r.isString(e)?this.helpText.hide():this.helpText.show()),r.isString(e)?this.doShowWithPrefix(e):this.doShowWithInput(e,t)},e.prototype.doShowWithPrefix=function(e){this.inputBox.value=e,this.callbacks.onType(e)},e.prototype.doShowWithInput=function(e,t){this.setInput(e,t)},e.prototype.setInputAndLayout=function(e,t){var n=this,i=a.generateUuid();this.currentInputToken=i,this.treeContainer.style({height:this.getHeight(e)+"px"}),this.getAnimationPromise().then(function(){n.currentInputToken===i&&n.tree.setInput(e).done(function(){n.tree.layout(),e&&e.getEntries().length>0&&n.autoFocus(e,t)},s.onUnexpectedError)})},e.prototype.autoFocus=function(e,t){if(t.autoFocusPrefixMatch){for(var n,i,o=e.getEntries(),r=t.autoFocusPrefixMatch,s=r.toLowerCase(),a=0;a<o.length;a++){var u=o[a];if(n||0!==u.getLabel().indexOf(r)?i||0!==u.getLabel().toLowerCase().indexOf(s)||(i=u):n=u,n&&i)break}var l=n||i;if(l)return this.tree.setFocus(l),this.tree.reveal(l,0),void 0}if(t.autoFocusFirstEntry)this.tree.focusNext(),this.tree.reveal(this.tree.getFocus(),0);else if(t.autoFocusSecondEntry){var o=e.getEntries();o.length>1&&this.tree.setFocus(o[1])}},e.prototype.refreshAndLayout=function(e,t){var n=this;this.isVisible()&&(this.treeContainer.style({height:this.getHeight(e)+"px"}),this.getAnimationPromise().then(function(){n.tree.refresh().done(function(){n.tree.layout(),!n.tree.getFocus()&&e&&e.getEntries().length>0&&n.autoFocus(e,t)},s.onUnexpectedError)
}))},e.prototype.getAnimationPromise=function(){return this.treeContainer.hasClass("transition")?n.Promise.timeout(m):n.Promise.as(null)},e.prototype.getHeight=function(e){var t=this.renderer.getHeight(this.tree,null),n=this.configuration.minItemsToShow;if(e){var i=e.getEntries();n=i.length}return Math.min(this.configuration.maxItemsToShow*t,n*t)},e.prototype.hide=function(e){if("undefined"==typeof e&&(e=!1),this.isVisible()){if(this.visible=!1,this.builder.hide(),this.builder.domBlur(),e){var t=this.tree.getInput();if(t){var n=t.entries.length;this.usageLogger&&this.usageLogger.publicLog("quickOpenWidgetCancelled",{count:n,isQuickNavigate:this.quickNavigateConfiguration?!0:!1})}}this.inputBox.value="",this.tree.setInput(null);var i=this.renderer.getHeight(this.tree,null);this.treeContainer.style({height:this.configuration.minItemsToShow*i+"px"}),this.progressBar.stop().getContainer().hide(),this.tree.isDOMFocused()?this.tree.DOMBlur():this.inputBox.$input.hasFocus()&&this.inputBox.$input.domBlur(),e?this.callbacks.onCancel():this.callbacks.onOk()}},e.prototype.setInput=function(e,t){this.isVisible()&&this.setInputAndLayout(e,t)},e.prototype.getInput=function(){return this.tree.getInput()},e.prototype.runFocus=function(){var e=this.tree.getFocus();return e?(this.elementSelected(e),!0):!1},e.prototype.getProgressBar=function(){return this.progressBar},e.prototype.setExtraClass=function(e){var t=this.builder.getProperty("extra-class");t&&this.builder.removeClass(t),e?(this.builder.addClass(e),this.builder.setProperty("extra-class",e)):t&&this.builder.removeProperty("extra-class")},e.prototype.isVisible=function(){return this.visible},e.prototype.gainingFocus=function(){this.isLoosingFocus=!1},e.prototype.loosingFocus=function(){var e=this;this.isVisible()&&(this.isLoosingFocus=!0,n.Promise.timeout(0).then(function(){e.isLoosingFocus&&e.hide(!1)}))},e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()();this.progressBar.dispose(),this.inputBox.dispose(),this.tree.dispose()},e}();t.QuickOpenWidget=y}),define("vs/editor/contrib/quickOpen/quickOpenEditorWidget",["require","exports","vs/editor/editor","vs/base/dom/builder","vs/base/ui/widgets/quickopen/quickOpenWidget"],function(e,t,n,i,o){var r=0,s=20,a=i.$,u=function(){function e(e,t,n,i){this.codeEditor=e,this.create(t,n,i)}return e.prototype.create=function(e,t,n){this.domNode=a().div().getHTMLElement(),this.quickOpenWidget=new o.QuickOpenWidget(this.domNode,{onOk:e,onCancel:t,onType:n},{minItemsToShow:r,maxItemsToShow:s,inputPlaceHolder:null},null),this.quickOpenWidget.create(),this.codeEditor.addOverlayWidget(this)},e.prototype.setInput=function(e,t){this.quickOpenWidget.setInput(e,t)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this.domNode},e.prototype.destroy=function(){this.quickOpenWidget.dispose()},e.prototype.isVisible=function(){return this.visible},e.prototype.show=function(e){this.visible=!0,this.quickOpenWidget.show(e),this.codeEditor.layoutOverlayWidget(this)},e.prototype.hide=function(){this.visible=!1,this.quickOpenWidget.hide(),this.codeEditor.layoutOverlayWidget(this)},e.prototype.getPosition=function(){return this.visible?{preference:2}:null},e.ID="editor.contrib.quickOpenEditorWidget",e}();t.QuickOpenEditorWidget=u});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/quickOpen/editorQuickOpen",["require","exports","vs/base/lib/winjs.base","vs/editor/editorExtensions","./quickOpenEditorWidget"],function(e,t,n,i,o){var r=function(e){function t(t,n,o,r){e.call(this,t,n,o,i.Behaviour.WidgetFocus),this.label=r}return __extends(t,e),t.prototype.run=function(){var e=this;this.widget||(this.widget=new o.QuickOpenEditorWidget(this.editor,function(){return e._onClose(!1)},function(){return e._onClose(!0)},function(t){return e.onType(t)})),this.lastKnownEditorSelection||(this.lastKnownEditorSelection=this.editor.getSelection());var t="";return this.onType(t),this.widget.show(t),n.Promise.as(!0)},t.prototype._getModel=function(){throw new Error("Subclasses to implement")},t.prototype._getAutoFocus=function(){throw new Error("Subclasses to implement")},t.prototype.onType=function(e){this.widget.setInput(this._getModel(e),this._getAutoFocus(e))},t.prototype.decorateLine=function(e,t){var n=this;t.changeDecorations(function(t){n.lineHighlightDecorationId&&(t.removeDecoration(n.lineHighlightDecorationId),n.lineHighlightDecorationId=null),n.lineHighlightDecorationId=t.addDecoration(e,{className:"lineHighlight",isWholeLine:!0})})},t.prototype.clearDecorations=function(){var e=this;this.lineHighlightDecorationId&&this.editor.changeDecorations(function(t){t.removeDecoration(e.lineHighlightDecorationId),e.lineHighlightDecorationId=null})},t.prototype._onClose=function(e){this.clearDecorations(),e&&this.lastKnownEditorSelection&&this.editor.setSelection(this.lastKnownEditorSelection,!0,!0,!0),this.lastKnownEditorSelection=null,this.editor.focus()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.widget&&(this.widget.destroy(),this.widget=null)},t}(i.EditorAction);t.BaseEditorQuickOpenAction=r}),define("vs/css!vs/editor/contrib/quickOpen/quickOutline",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/quickOpen/quickOutline",["require","exports","vs/nls!vs/editor/editor.main","vs/base/lib/winjs.base","vs/base/types","vs/base/errors","vs/base/strings","vs/base/filters","vs/base/ui/widgets/quickopen/quickOpenModel","./editorQuickOpen","vs/css!./quickOutline"],function(e,t,n,i,o,r,s,a,u,l){var c=":",d=function(e){function t(t,n,i,o,r,s,a,u){e.call(this),this.name=t,this.meta=n,this.type=i,this.description=o,this.range=r,this.setHighlights(s),this.editor=a,this.decorator=u}return __extends(t,e),t.prototype.getLabel=function(){return this.name},t.prototype.getMeta=function(){return this.meta},t.prototype.getIcon=function(){return this.type},t.prototype.getDescription=function(){return this.description},t.prototype.getType=function(){return this.type},t.prototype.getRange=function(){return this.range},t.prototype.run=function(e,t){return 1===e?this.runOpen(t):this.runPreview()},t.prototype.runOpen=function(){var e=this.toSelection();return this.editor.setSelection(e,!0,!0,!0),this.editor.focus(),!0},t.prototype.runPreview=function(){var e=this.toSelection();return this.editor.setSelection(e,!0,!0,!0),o.isFunction(this.editor.changeDecorations)&&this.decorator.decorateLine(this.range,this.editor),!1},t.prototype.toSelection=function(){return{startLineNumber:this.range.startLineNumber,startColumn:this.range.startColumn||1,endLineNumber:this.range.startLineNumber,endColumn:this.range.startColumn||1}},t}(u.QuickOpenEntryGroup),h=function(e){function t(t,i,o){e.call(this,t,i,o,n.localize("vs_editor_contrib_quickOpen_quickOutline",0))}return __extends(t,e),t.prototype.run=function(){var t=this,n=this.editor.getModel(),s=n.getMode(),a=s.outlineSupport;if(!a)return null;var u=a.getOutline(n.getAssociatedResource());return u.then(function(n){return o.isArray(n)&&n.length>0?(t.cachedResult=n,e.prototype.run.call(t)):i.Promise.as(!0)},function(e){return r.onUnexpectedError(e),!1})},t.prototype._getModel=function(e){var t=new u.QuickOpenModel,n=this.toQuickOpenEntries(this.cachedResult,e);return t.addEntries(n),t},t.prototype._getAutoFocus=function(e){return 0===e.indexOf(c)&&(e=e.substr(c.length)),{autoFocusPrefixMatch:e,autoFocusFirstEntry:!!e}},t.prototype.toQuickOpenEntries=function(e,t){var i=[],o=[];e&&this.flatten(e,o);var r=t;0===t.indexOf(c)&&(r=r.substr(c.length));for(var u=0;u<o.length;u++){var l=o[u],h=s.trim(l.label),p=null;if("method"===l.type||"function"===l.type){var f=h.indexOf("(");f>0?(p=h.substr(f),h=h.substr(0,f)):p="()"}var g=a.CombinedMatcher.matches(r,h);if(g){var m=null;l.parentScope&&(m=l.parentScope.join(".")),i.push(new d(h,p,l.type,m,l.range,g,this.editor,this))}}if(t&&(i=0===t.indexOf(c)?i.sort(this.sortScoped.bind(this,t.toLowerCase())):i.sort(this.sortNormal.bind(this,t.toLowerCase()))),i.length>0&&0===t.indexOf(c)){for(var v=null,y=null,_=0,u=0;u<i.length;u++){var b=i[u];v!==b.getType()?(y&&y.setGroupLabel(this.typeToLabel(v,_)),v=b.getType(),y=b,_=1,b.setShowBorder(u>0)):_++}y&&y.setGroupLabel(this.typeToLabel(v,_))}else i.length>0&&i[0].setGroupLabel(n.localize("vs_editor_contrib_quickOpen_quickOutline",1,i.length));return i},t.prototype.typeToLabel=function(e,t){switch(e){case"module":return n.localize("vs_editor_contrib_quickOpen_quickOutline",2,t);case"class":return n.localize("vs_editor_contrib_quickOpen_quickOutline",3,t);case"interface":return n.localize("vs_editor_contrib_quickOpen_quickOutline",4,t);case"method":return n.localize("vs_editor_contrib_quickOpen_quickOutline",5,t);case"function":return n.localize("vs_editor_contrib_quickOpen_quickOutline",6,t);case"property":return n.localize("vs_editor_contrib_quickOpen_quickOutline",7,t);case"variable":return n.localize("vs_editor_contrib_quickOpen_quickOutline",8,t);case"var":return n.localize("vs_editor_contrib_quickOpen_quickOutline",9,t);case"constructor":return n.localize("vs_editor_contrib_quickOpen_quickOutline",10,t);case"call":return n.localize("vs_editor_contrib_quickOpen_quickOutline",11,t)}return e},t.prototype.flatten=function(e,t,n){for(var i=0;i<e.length;i++){var o=e[i];if(t.push(o),n&&(o.parentScope=n),o.children){var r=[];n&&(r=n.slice(0)),r.push(o.label),this.flatten(o.children,t,r)}}},t.prototype.sortNormal=function(e,t,n){var i=t.getLabel().toLowerCase(),o=n.getLabel().toLowerCase(),r=s.localeCompare(i,o);if(0!==r)return r;var a=t.getRange(),u=n.getRange();return a.startLineNumber-u.startLineNumber},t.prototype.sortScoped=function(e,t,n){e=e.substr(c.length);var i=t.getType(),o=n.getType(),r=s.localeCompare(i,o);if(0!==r)return r;if(e){var a=t.getLabel().toLowerCase(),u=n.getLabel().toLowerCase(),r=s.localeCompare(a,u);if(0!==r)return r}var l=t.getRange(),d=n.getRange();return l.startLineNumber-d.startLineNumber},t.prototype._onClose=function(t){e.prototype._onClose.call(this,t),this.cachedResult=null},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.cachedResult=null},t.ID="editor.actions.quickOutline",t}(l.BaseEditorQuickOpenAction);t.QuickOutlineAction=h}),define("vs/editor/contrib/quickOpen/quickOutline.contribution",["require","exports","vs/nls!vs/editor/editor.main","vs/editor/editorExtensions","./quickOutline"],function(e,t,n,i,o){i.registerEditorActionContribution(o.QuickOutlineAction,o.QuickOutlineAction.ID,n.localize("vs_editor_contrib_quickOpen_quickOutline.contribution",0),{ctrlCmd:!0,shift:!0,key:"O"},{ctrlCmd:!0,shift:!0,key:","})}),define("vs/css!vs/editor/contrib/quickOpen/gotoLine",["vs/css!vs/editor/editor.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/quickOpen/gotoLine",["require","exports","vs/nls!vs/editor/editor.main","vs/base/types","vs/base/ui/widgets/quickopen/quickOpenModel","./editorQuickOpen","vs/css!./gotoLine"],function(e,t,n,i,o,r){var s=function(e){function t(t,n,i){e.call(this),this.line=parseInt(t,10),this.editor=n,this.decorator=i}return __extends(t,e),t.prototype.getLabel=function(){var e=this.getMaxLineNumber();return this.invalidRange(e)?e>0?n.localize("vs_editor_contrib_quickOpen_gotoLine",0,e):n.localize("vs_editor_contrib_quickOpen_gotoLine",1):n.localize("vs_editor_contrib_quickOpen_gotoLine",2,this.line)},t.prototype.invalidRange=function(e){return"undefined"==typeof e&&(e=this.getMaxLineNumber()),!this.line||!i.isNumber(this.line)||e>0&&i.isNumber(this.line)&&this.line>e},t.prototype.getMaxLineNumber=function(){var e=this.editor.getModel();return e&&e.modified&&e.original&&(e=e.modified),e&&i.isFunction(e.getLineCount)?e.getLineCount():-1},t.prototype.run=function(e){return 1===e?this.runOpen():this.runPreview()},t.prototype.runOpen=function(){if(this.invalidRange())return!1;var e=this.toSelection();return this.editor.setSelection(e,!0,!0,!0),this.editor.focus(),!0},t.prototype.runPreview=function(){if(this.invalidRange())return this.decorator.clearDecorations(),!1;var e=this.toSelection();return this.editor.setSelection(e,!0,!0,!0),i.isFunction(this.editor.changeDecorations)&&this.decorator.decorateLine(e,this.editor),!1},t.prototype.toSelection=function(){return{startLineNumber:this.line,startColumn:1,endLineNumber:this.line,endColumn:1}},t}(o.QuickOpenEntry);t.GotoLineEntry=s;var a=function(e){function t(t,i,o){e.call(this,t,i,o,n.localize("vs_editor_contrib_quickOpen_gotoLine",3))}return __extends(t,e),t.prototype._getModel=function(e){var t=new o.QuickOpenModel,n=[new s(e,this.editor,this)];return t.addEntries(n),t},t.prototype._getAutoFocus=function(e){return{autoFocusFirstEntry:e.length>0}},t.ID="editor.actions.gotoLine",t}(r.BaseEditorQuickOpenAction);t.GotoLineAction=a}),define("vs/editor/contrib/quickOpen/gotoLine.contribution",["require","exports","vs/nls!vs/editor/editor.main","vs/editor/editorExtensions","./gotoLine"],function(e,t,n,i,o){i.registerEditorActionContribution(o.GotoLineAction,o.GotoLineAction.ID,n.localize("vs_editor_contrib_quickOpen_gotoLine.contribution",0),{ctrlCmd:!0,key:"G"})}),define("vs/languages/bat/bat.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("vs.languages.bat",["text/x-bat"],"vs/languages/bat/bat","BatMode")}),define("vs/languages/coffeescript/coffeescript.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("vs.languages.coffeescript",["text/x-coffeescript","text/coffeescript"],"vs/languages/coffeescript/coffeescript","CoffeeMode")}),define("vs/languages/cpp/cpp.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("vs.languages.cpp",["text/x-cpp"],"vs/languages/cpp/cpp","CPPMode")}),define("vs/languages/csharp/csharp.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("vs.languages.csharp",["text/x-csharp"],"vs/languages/csharp/csharp","CSMode")}),define("vs/languages/css/level",["require","exports"],function(e,t){function n(e){switch(e){case"ignore":return 1;case"warning":return 2;case"error":return 4}return null}!function(e){e[e.Ignore=1]="Ignore",e[e.Warning=2]="Warning",e[e.Error=4]="Error"}(t.Level||(t.Level={}));t.Level;t.toLevel=n}),define("vs/languages/css/services/lintRules",["require","exports","vs/nls!vs/editor/editor.main","vs/languages/css/level"],function(e,t,n,i){function o(){var e={};for(var n in t.Rules){var i=t.Rules[n];e[i.id]=i.getConfiguration()}return e}function r(){var e={};for(var n in t.Rules){var i=t.Rules[n];e[i.id]=i.defaultValue}return e}function s(e){var n={};for(var o in t.Rules){var r=t.Rules[o],s=i.toLevel(e[r.id]);s&&(n[r.id]=s)}return n}var a="warning",u="error",l="ignore",c=function(){function e(e,t,n){this.id=e,this.message=t,this.defaultValue=n}return e.prototype.getConfiguration=function(){return{type:"string",enum:[l,a,u],default:this.defaultValue,description:this.message}},e}();t.Rule=c,t.Rules={AllVendorPrefixes:new c("compatibleVendorPrefixes",n.localize("vs_languages_css_services_lintRules",0),a),IncludeStandardPropertyWhenUsingVendorPrefix:new c("vendorPrefix",n.localize("vs_languages_css_services_lintRules",1),a),DuplicateDeclarations:new c("duplicateProperties",n.localize("vs_languages_css_services_lintRules",2),a),EmptyRuleSet:new c("emptyRules",n.localize("vs_languages_css_services_lintRules",3),a),ImportStatemement:new c("importStatement",n.localize("vs_languages_css_services_lintRules",4),l),NoWidthOrHeightWhenPaddingOrBorder:new c("boxModel",n.localize("vs_languages_css_services_lintRules",5),l),UniversalSelector:new c("universalSelector",n.localize("vs_languages_css_services_lintRules",6),a),ZeroWithUnit:new c("zeroUnits",n.localize("vs_languages_css_services_lintRules",7),l),RequiredPropertiesForFontFace:new c("fontFaceProperties",n.localize("vs_languages_css_services_lintRules",8),a),HexColorLength:new c("hexColorLength",n.localize("vs_languages_css_services_lintRules",9),u),ArgsInColorFunction:new c("argumentsInColorFunction",n.localize("vs_languages_css_services_lintRules",10),u),UnknownProperty:new c("unknownProperties",n.localize("vs_languages_css_services_lintRules",11),a),UnknownVendorSpecificProperty:new c("unknownVendorSpecificProperties",n.localize("vs_languages_css_services_lintRules",12),a),PropertyIgnoredDueToDisplay:new c("propertyIgnoredDueToDisplay",n.localize("vs_languages_css_services_lintRules",13),a),AvoidImportant:new c("important",n.localize("vs_languages_css_services_lintRules",14),l),AvoidFloat:new c("float",n.localize("vs_languages_css_services_lintRules",15),l),AvoidIdSelector:new c("idSelector",n.localize("vs_languages_css_services_lintRules",16),l)},t.getConfigurationProperties=o,t.getDefaultSettings=r,t.sanitize=s}),define("vs/css!vs/languages/css/css-hover",["vs/css!vs/editor/editor.main"],{}),define("vs/languages/css/css.contribution",["require","exports","vs/nls!vs/editor/editor.main","vs/platform/platform","vs/editor/modes/modesExtensions","vs/platform/configuration/configurationRegistry","vs/base/env","vs/languages/css/services/lintRules","vs/css!vs/languages/css/css-hover"],function(e,t,n,i,o,r,s,a){o.registerMode("vs.languages.css",["text/css"],"vs/languages/css/css","CSSMode"),s.enableGlobalCSSRuleChecker&&o.registerWorkerParticipant("vs.languages.css","vs/languages/css/monacoParticipant","WorkerParticipant");var u=i.Registry.as(r.Extensions.Configuration);u.registerConfiguration({id:o.LANGUAGE_CONFIGURATION+"/vs.languages.css",type:"object",title:n.localize("vs_languages_css_css.contribution",0),description:n.localize("vs_languages_css_css.contribution",1),properties:{validationSettings:{description:n.localize("vs_languages_css_css.contribution",2),default:{lint:a.getDefaultSettings()},type:"object",properties:{lint:{type:"object",description:n.localize("vs_languages_css_css.contribution",3),properties:a.getConfigurationProperties()}}}}})}),define("vs/languages/fsharp/fsharp.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("vs.languages.fsharp",["text/x-fsharp"],"vs/languages/fsharp/fsharp","FSMode")}),define("vs/languages/handlebars/handlebars.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("vs.languages.handlebars",["text/x-handlebars-template"],"vs/languages/handlebars/handlebars","HandlebarsMode")}),define("vs/languages/html/html.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("vs.languages.html",["text/html","text/x-jshtm"],"vs/languages/html/html","HTMLMode")}),define("vs/languages/ini/ini.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("vs.languages.ini",["text/x-ini"],"vs/languages/ini/ini","INIMode")}),define("vs/languages/jade/jade.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("vs.languages.jade",["text/x-jade"],"vs/languages/jade/jade","JadeMode")}),define("vs/languages/java/java.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("vs.languages.java",["text/x-java-source"],"vs/languages/java/java","JMode")}),define("vs/languages/javascript/javascript.configuration",["require","exports","vs/base/severity","vs/base/collections"],function(e,t,n,i){var o=function(){function e(e){this._lintSettings=e,this._severities={},this._severities[2011]=this._severities[2012]=n.fromValue(e.forcedTypeConversion),this._severities[2111]=this._severities[2112]=this._severities[2113]=this._severities[2114]=n.fromValue(e.mixedTypesArithmetics),this._severities[2121]=this._severities[2120]=n.fromValue(e.primitivesInInstanceOf),this._severities[2094]=n.fromValue(e.unknownProperty),this._severities[2095]=n.fromValue(e.undeclaredVariables),this._severities[2134]=n.fromValue(e.redeclaredVariables),this._severities[2084]=n.fromValue(e.newOnReturningFunctions)}return e.prototype.classify=function(e){var t=/.*?(\d+):.*?/.exec(e.message());if(!t)return n.Severity.Error;var o=Number(t[1]);return isNaN(o)?n.Severity.Error:2e3>o?n.Severity.Error:2094===o&&0!==i.lookup(this._severities,o)&&/The property '[\w\d_]+' does not exist on value of type '(any|{})'\./.test(e.text())?0:i.lookup(this._severities,o,0)},e}();t.JavaScriptDiagnosticsClassifier=o,t.defaultLintSettings={curlyBracketsMustNotBeOmitted:"ignore",emptyBlocksWithoutComment:"ignore",comparisonOperatorsNotStrict:"ignore",missingSemicolon:"ignore",reservedKeywords:"warning",typeScriptSpecifics:"warning",unknownTypeOfResults:"warning",semicolonsInsteadOfBlocks:"ignore",functionsInsideLoops:"ignore",tripleSlashReferenceAlike:"warning",unusedVariables:"ignore",unusedFunctions:"ignore",newOnLowercaseFunctions:"warning",newOnReturningFunctions:"warning",redeclaredVariables:"warning",undeclaredVariables:"error",unknownProperty:"ignore",primitivesInInstanceOf:"error",mixedTypesArithmetics:"warning",forcedTypeConversion:"warning"},t._internalDefaultValidationSettings={scope:"/",baseUrl:"",noImplicitAny:!1,noLib:!1,extraLibs:["vs/text!vs/languages/typescript/lib/lib.d.ts"],semanticValidation:!0,syntaxValidation:!0,target:"ES5",module:"",lint:t.defaultLintSettings},t.defaultValidationSettings={target:"ES5",module:"",baseUrl:"",lint:t.defaultLintSettings},t.defaultSuggestSettions={alwaysAllWords:!1,useCodeSnippetsOnMethodSuggest:!1}}),define("vs/languages/javascript/javascript.contribution",["require","exports","vs/nls!vs/editor/editor.main","vs/platform/platform","vs/platform/configuration/configurationRegistry","vs/editor/modes/modesExtensions","./javascript.configuration"],function(e,t,n,i,o,r,s){r.registerMode("vs.languages.javascript",["text/javascript"],"vs/languages/javascript/javascript","JSMode"),r.registerWorkerParticipant("vs.languages.javascript","vs/languages/typescript/participants/filenameSuggestions","FilenameSuggestions");var a=i.Registry.as(o.Extensions.Configuration);a.registerConfiguration({id:r.LANGUAGE_CONFIGURATION+"/vs.languages.javascript",type:"object",title:n.localize("vs_languages_javascript_javascript.contribution",0),description:n.localize("vs_languages_javascript_javascript.contribution",1),properties:{suggestSettings:{type:"object",description:n.localize("vs_languages_javascript_javascript.contribution",2),default:s.defaultSuggestSettions,properties:{alwaysAllWords:{type:"boolean",default:!1,description:n.localize("vs_languages_javascript_javascript.contribution",3)},useCodeSnippetsOnMethodSuggest:{type:"boolean",default:!1,description:n.localize("vs_languages_javascript_javascript.contribution",4)}}},validationSettings:{description:n.localize("vs_languages_javascript_javascript.contribution",5),default:s.defaultValidationSettings,type:["object","array"],properties:{scope:{type:"string",default:"/",description:n.localize("vs_languages_javascript_javascript.contribution",6)},baseUrl:{type:"string",default:"",description:n.localize("vs_languages_javascript_javascript.contribution",7)},target:{enum:["ES5","ES3"],default:"ES5",description:n.localize("vs_languages_javascript_javascript.contribution",8)},module:{enum:["commonjs","amd",""],default:"",description:n.localize("vs_languages_javascript_javascript.contribution",9)},noLib:{type:"boolean",default:!1,description:n.localize("vs_languages_javascript_javascript.contribution",10)},lint:{type:"object",description:n.localize("vs_languages_javascript_javascript.contribution",11),properties:{curlyBracketsMustNotBeOmitted:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",12)},emptyBlocksWithoutComment:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",13)},comparisonOperatorsNotStrict:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",14)},missingSemicolon:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",15)},reservedKeywords:{enum:["ignore","warning","error"],default:"error",description:n.localize("vs_languages_javascript_javascript.contribution",16)},typeScriptSpecifics:{enum:["ignore","warning","error"],default:"error",description:n.localize("vs_languages_javascript_javascript.contribution",17)},unknownTypeOfResults:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",18)},semicolonsInsteadOfBlocks:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",19)},functionsInsideLoops:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",20)},newOnLowercaseFunctions:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",21)},tripleSlashReferenceAlike:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",22)},unusedVariables:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",23)},unusedFunctions:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",24)},newOnReturningFunctions:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",25)},redeclaredVariables:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",26)},undeclaredVariables:{enum:["ignore","warning","error"],default:"error",description:n.localize("vs_languages_javascript_javascript.contribution",27)},unknownProperty:{enum:["ignore","warning","error"],default:"ignore",description:n.localize("vs_languages_javascript_javascript.contribution",28)},primitivesInInstanceOf:{enum:["ignore","warning","error"],default:"error",description:n.localize("vs_languages_javascript_javascript.contribution",29)},mixedTypesArithmetics:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",30)},forcedTypeConversion:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_javascript_javascript.contribution",31)}}}}}}})}),define("vs/languages/json/json.contribution",["require","exports","vs/nls!vs/editor/editor.main","vs/platform/configuration/configurationRegistry","vs/platform/platform","vs/editor/modes/modesExtensions"],function(e,t,n,i,o,r){r.registerMode("vs.languages.json",["application/json"],"vs/languages/json/json","JSONMode");var s=o.Registry.as(i.Extensions.Configuration);s.registerConfiguration({id:r.LANGUAGE_CONFIGURATION+"/vs.languages.json",type:"object",title:n.localize("vs_languages_json_json.contribution",0),description:n.localize("vs_languages_json_json.contribution",1),properties:{schemas:{type:"array",description:n.localize("vs_languages_json_json.contribution",2),items:{type:"object",properties:{schemaPath:{type:"string",default:"/user.schema.json",description:n.localize("vs_languages_json_json.contribution",3)},filePattern:{type:"string",default:".*\\.json",description:n.localize("vs_languages_json_json.contribution",4)}}}}}})}),define("vs/languages/lua/lua.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("vs.languages.lua",["text/x-lua"],"vs/languages/lua/lua","LuaMode")}),define("vs/languages/markdown/markdown.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("markdown",["text/x-web-markdown"],"vs/languages/markdown/markdown","MarkdownMode")}),define("vs/languages/php/php.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("vs.languages.php",["application/x-php"],"vs/languages/php/php","PHPMode")});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/languages/plaintext/plaintext",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){var i=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.makeClone=function(){return new t(this.getMode())},t.prototype.tokenize=function(e){return e.advanceToEOS(),{type:""}},t}(n.AbstractState),o=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t.prototype.getInitialState=function(){return new i(this)},t}(n.AbstractMode);t.Mode=o}),define("vs/languages/plaintext/plaintext.contribution",["require","exports","vs/editor/modes/modesExtensions","vs/languages/plaintext/plaintext"],function(e,t,n){n.registerMode("vs.languages.plainText",["text/plain"],"vs/languages/plaintext/plaintext","Mode")}),define("vs/languages/powershell/powershell.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("vs.languages.powershell",["text/x-powershell"],"vs/languages/powershell/powershell","PowerShellMode")}),define("vs/languages/python/python.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("python",["text/x-python","text/python"],"vs/languages/python/python","PythonMode")}),define("vs/languages/ruby/ruby.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("ruby",["text/x-ruby","text/ruby"],"vs/languages/ruby/ruby","RubyMode")}),define("vs/languages/razor/razor.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("vs.language.razor",["text/x-cshtml"],"vs/languages/razor/razor","RAZORMode")}),define("vs/css!vs/languages/typescript/editor/workerStatusReporter",["vs/css!vs/editor/editor.main"],{}),define("vs/languages/typescript/editor/workerStatusReporter",["require","exports","vs/base/dom/dom","vs/editor/editor","vs/editor/core/constants","vs/editor/modes/modesExtensions","vs/css!./workerStatusReporter"],function(e,t,n,i,o,r){function s(e,t,n){e.setAttribute(t,n)}var a;!function(e){e[e.Unknown=0]="Unknown",e[e.Updating=1]="Updating",e[e.Fetching=2]="Fetching",e[e.Error=3]="Error",e[e.Ok=4]="Ok"}(a||(a={}));var u=function(){function e(e,t){var n=this;this.editor=t,this.callOnDispose=[],this.created=!1,this.domNode=document.createElement("div"),this.domNode.className="monaco-typescript-status",this.editor.addOverlayWidget(this),this.onModelChange(),this.callOnDispose.push(this.editor.addListener(o.EventType.ModelChanged,function(){return n.onModelChange()}))}return e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()},e.prototype.onModelChange=function(){var e=this.editor.getModel();if(e){var t=e.getMode();"vs.languages.typescript"===t.getId()&&t instanceof r.AbstractMode?(n.toggleClass(this.domNode,"hidden",!1),this.created||(this.created=!0)):n.toggleClass(this.domNode,"hidden",!0)}},e.prototype.updateWidget=function(e,t){t&&0!==t?4===t?s(e,"status","ok"):1===t?s(e,"status","updating"):2===t?s(e,"status","fetching"):3===t&&s(e,"status","error"):s(e,"status","unkown")},e.prototype.getDomNode=function(){return this.domNode},e.prototype.getPosition=function(){return{preference:0}},e.ID="typescript.status.reporter",e
}();t.StatusPresenter=u}),define("vs/languages/typescript/typescript.configuration",["require","exports","vs/base/objects","vs/base/severity","vs/base/paths"],function(e,t,n,i,o){function r(e,n){return e instanceof a?e:new a(e,n,t.defaultSuggestSettions)}function s(e,t){return e instanceof a&&(e=e.raw),t instanceof a&&(t=t.raw),n.equals(e,t)}t.impilictAnyClassifier=function(e){var t=/.*?(\d+):.*?/.exec(e.message());if(!t)return i.Severity.Error;var n=Number(t[1]);return isNaN(n)?i.Severity.Error:n>=7005&&7018>=n?i.Severity.Warning:i.Severity.Error},t.defaultLintSettings={emptyBlocksWithoutComment:"ignore",curlyBracketsMustNotBeOmitted:"ignore",comparisonOperatorsNotStrict:"ignore",missingSemicolon:"ignore",unknownTypeOfResults:"warning",semicolonsInsteadOfBlocks:"ignore",functionsInsideLoops:"ignore",functionsWithoutReturnType:"warning",tripleSlashReferenceAlike:"warning",unusedImports:"ignore",unusedVariables:"ignore",unusedFunctions:"ignore",unusedMembers:"ignore"},t.defaultValidationSettings={target:"ES5",baseUrl:"",module:"",lint:t.defaultLintSettings},t._internalDefaultValidationSettings={scope:"/",baseUrl:"",noImplicitAny:!1,noLib:!1,extraLibs:["vs/text!vs/languages/typescript/lib/lib.d.ts"],semanticValidation:!0,syntaxValidation:!0,target:"ES5",module:"",lint:t.defaultLintSettings,diagnosticClassifier:t.impilictAnyClassifier},t.defaultSuggestSettions={alwaysAllWords:!1,useCodeSnippetsOnMethodSuggest:!1};var a=function(){function e(e,t,i){if(this._raw=e,this._raw){if(this._raw.validationSettings){Array.isArray(this._raw.validationSettings)||(this._raw.validationSettings=[this._raw.validationSettings]);var r=this._raw.validationSettings;if(0===r.length)this._raw.validationSettings=[t];else{for(var s=!1,a=t,u=0,l=r.length;l>u;u++){var c=this._raw.validationSettings[u];c.module=c.module||c.moduleGenTarget||a.module,c.target=c.target||c.codeGenTarget||a.target,c=n.withDefaults(c,a),c.scope=o.normalize(c.scope),s=s||c.scope===o.sep,o.isAbsolute(c.scope)||(c.scope=o.sep+c.scope),c.baseUrl=o.normalize(c.baseUrl),o.isAbsolute(c.baseUrl)||(c.baseUrl=o.sep+c.baseUrl),-1===c.extraLibs.indexOf("vs/text!vs/languages/typescript/lib/lib.d.ts")&&c.extraLibs.unshift("vs/text!vs/languages/typescript/lib/lib.d.ts"),this._raw.validationSettings[u]=c,a=c}s||this._raw.validationSettings.unshift(t)}}else this._raw.validationSettings=[t];this._raw.suggestSettings=this._raw.suggestSettings?n.withDefaults(this._raw.suggestSettings,i):i}else this._raw={validationSettings:[t],suggestSettings:i}}return Object.defineProperty(e.prototype,"raw",{get:function(){return this._raw},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validationSettings",{get:function(){return this._raw.validationSettings.slice(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"suggestSettings",{get:function(){return n.clone(this._raw.suggestSettings)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowMultipleWorkers",{get:function(){return this._raw.allowMultipleWorkers},enumerable:!0,configurable:!0}),e}();t.sanitize=r,t.equal=s}),define("vs/languages/typescript/typescript.contribution",["require","exports","vs/nls!vs/editor/editor.main","vs/base/env","vs/platform/platform","vs/editor/modes/modesExtensions","vs/editor/editorExtensions","./editor/workerStatusReporter","vs/platform/configuration/configurationRegistry","./typescript.configuration"],function(e,t,n,i,o,r,s,a,u,l){r.registerMode("vs.languages.typescript",["text/typescript"],"vs/languages/typescript/typescript","TypeScriptMode"),i.enableNLSWarnings&&r.registerWorkerParticipant("vs.languages.typescript","vs/languages/typescript/participants/nlsParticipant","WorkerParticipant"),r.registerWorkerParticipant("vs.languages.typescript","vs/languages/typescript/participants/filenameSuggestions","FilenameSuggestions"),i.enableEditorLanguageServiceIndicator&&s.registerEditorContribution(a.StatusPresenter);var c=o.Registry.as(u.Extensions.Configuration);c.registerConfiguration({id:r.LANGUAGE_CONFIGURATION+"/vs.languages.typescript",type:"object",title:n.localize("vs_languages_typescript_typescript.contribution",0),description:n.localize("vs_languages_typescript_typescript.contribution",1),properties:{suggestSettings:{type:"object",description:n.localize("vs_languages_typescript_typescript.contribution",2),default:l.defaultSuggestSettions,properties:{alwaysAllWords:{type:"boolean",default:!1,description:n.localize("vs_languages_typescript_typescript.contribution",3)},useCodeSnippetsOnMethodSuggest:{type:"boolean",default:!1,description:n.localize("vs_languages_typescript_typescript.contribution",4)}}},allowMultipleWorkers:{type:"boolean",description:n.localize("vs_languages_typescript_typescript.contribution",5),default:!1},validationSettings:{description:n.localize("vs_languages_typescript_typescript.contribution",6),default:l.defaultValidationSettings,type:["object","array"],properties:{scope:{type:"string",default:"/",description:n.localize("vs_languages_typescript_typescript.contribution",7)},baseUrl:{type:"string",default:"",description:n.localize("vs_languages_typescript_typescript.contribution",8)},target:{enum:["ES5","ES3"],default:"ES5",description:n.localize("vs_languages_typescript_typescript.contribution",9)},module:{enum:["commonjs","amd",""],default:"",description:n.localize("vs_languages_typescript_typescript.contribution",10)},noImplicitAny:{type:"boolean",default:!1,description:n.localize("vs_languages_typescript_typescript.contribution",11)},noLib:{type:"boolean",default:!1,description:n.localize("vs_languages_typescript_typescript.contribution",12)},lint:{type:"object",description:n.localize("vs_languages_typescript_typescript.contribution",13),properties:{curlyBracketsMustNotBeOmitted:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",14)},emptyBlocksWithoutComment:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",15)},comparisonOperatorsNotStrict:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",16)},missingSemicolon:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",17)},reservedKeywords:{enum:["ignore","warning","error"],default:"error",description:n.localize("vs_languages_typescript_typescript.contribution",18)},typeScriptSpecifics:{enum:["ignore","warning","error"],default:"error",description:n.localize("vs_languages_typescript_typescript.contribution",19)},unknownTypeOfResults:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",20)},semicolonsInsteadOfBlocks:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",21)},functionsInsideLoops:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",22)},newOnLowercaseFunctions:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",23)},tripleSlashReferenceAlike:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",24)},unusedVariables:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",25)},unusedFunctions:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",26)},unusedMembers:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",27)},functionsWithoutReturnType:{enum:["ignore","warning","error"],default:"warning",description:n.localize("vs_languages_typescript_typescript.contribution",28)}}}}}}})}),define("vs/languages/vb/vb.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("vs.languages.vb",["text/x-vb"],"vs/languages/vb/vb","VBMode")}),define("vs/languages/less/less.contribution",["require","exports","vs/platform/platform","vs/nls!vs/editor/editor.main","vs/languages/css/services/lintRules","vs/editor/modes/modesExtensions","vs/platform/configuration/configurationRegistry","vs/css!vs/languages/css/css-hover"],function(e,t,n,i,o,r,s){r.registerMode("less",["text/x-less","text/less"],"vs/languages/less/less","LESSMode");var a=n.Registry.as(s.Extensions.Configuration);a.registerConfiguration({id:r.LANGUAGE_CONFIGURATION+"/less",type:"object",title:i.localize("vs_languages_less_less.contribution",0),description:i.localize("vs_languages_less_less.contribution",1),properties:{validationSettings:{description:i.localize("vs_languages_less_less.contribution",2),type:"object",default:{lint:o.getDefaultSettings()},properties:{lint:{type:"object",description:i.localize("vs_languages_less_less.contribution",3),properties:o.getConfigurationProperties()}}}}})}),define("vs/languages/sass/sass.contribution",["require","exports","vs/editor/modes/modesExtensions","vs/platform/platform","vs/nls!vs/editor/editor.main","vs/languages/css/services/lintRules","vs/platform/configuration/configurationRegistry","vs/css!vs/languages/css/css-hover"],function(e,t,n,i,o,r,s){n.registerMode("sass",["text/x-scss","text/scss"],"vs/languages/sass/sass","SASSMode");var a=i.Registry.as(s.Extensions.Configuration);a.registerConfiguration({id:n.LANGUAGE_CONFIGURATION+"/sass",type:"object",title:o.localize("vs_languages_sass_sass.contribution",0),description:o.localize("vs_languages_sass_sass.contribution",1),properties:{validationSettings:{description:o.localize("vs_languages_sass_sass.contribution",2),type:"object",default:{lint:r.getDefaultSettings()},properties:{lint:{type:"object",description:o.localize("vs_languages_sass_sass.contribution",3),properties:r.getConfigurationProperties()}}}}})}),define("vs/languages/xml/xml.contribution",["require","exports","vs/editor/modes/modesExtensions"],function(e,t,n){n.registerMode("vs.languages.xml",["text/xml","application/xml","application/xaml+xml"],"vs/languages/xml/xml","XMLMode")}),define("vs/languages/languages.main",["vs/languages/bat/bat.contribution","vs/languages/coffeescript/coffeescript.contribution","vs/languages/cpp/cpp.contribution","vs/languages/csharp/csharp.contribution","vs/languages/css/css.contribution","vs/languages/fsharp/fsharp.contribution","vs/languages/handlebars/handlebars.contribution","vs/languages/html/html.contribution","vs/languages/ini/ini.contribution","vs/languages/jade/jade.contribution","vs/languages/java/java.contribution","vs/languages/javascript/javascript.contribution","vs/languages/json/json.contribution","vs/languages/lua/lua.contribution","vs/languages/markdown/markdown.contribution","vs/languages/php/php.contribution","vs/languages/plaintext/plaintext.contribution","vs/languages/powershell/powershell.contribution","vs/languages/python/python.contribution","vs/languages/ruby/ruby.contribution","vs/languages/razor/razor.contribution","vs/languages/typescript/typescript.contribution","vs/languages/vb/vb.contribution","vs/languages/less/less.contribution","vs/languages/sass/sass.contribution","vs/languages/xml/xml.contribution"],function(){"use strict"}),define("vs/editor/editor.main",["./editor.all","./standalone/standaloneEditor","./contrib/quickOpen/quickOutline.contribution","./contrib/quickOpen/gotoLine.contribution","vs/languages/languages.main"],function(){"use strict"});